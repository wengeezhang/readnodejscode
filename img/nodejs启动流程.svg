<svg id="SvgjsSvg1000" xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.com/svgjs" width="2808.203125" height="7335.796875"><defs id="SvgjsDefs1001"><marker id="SvgjsMarker1009" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1010" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1049" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1050" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1059" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1060" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1081" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1082" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1085" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1086" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1097" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1098" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1109" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1110" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1113" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1114" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1147" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1148" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1181" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1182" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1185" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1186" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1197" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1198" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1219" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1220" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1223" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1224" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1227" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1228" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1281" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1282" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1293" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1294" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1305" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1306" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1339" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1340" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1343" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1344" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1347" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1348" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1363" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1364" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1398" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1399" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1402" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1403" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1444" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1445" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1448" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1449" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1456" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1457" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1504" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1505" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1512" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1513" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1555" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1556" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1584" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1585" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1592" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1593" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1643" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1644" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1668" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1669" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1707" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1708" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1711" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1712" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1715" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1716" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1733" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1734" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1751" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1752" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1776" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1777" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1804" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1805" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1812" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1813" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1820" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1821" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1832" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1833" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1842" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1843" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1854" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1855" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1914" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1915" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1940" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1941" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1954" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1955" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1970" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1971" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker2013" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath2014" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker2036" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath2037" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker2040" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath2041" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker2044" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath2045" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker2054" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath2055" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker2058" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath2059" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker2091" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath2092" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker2121" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath2122" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker2149" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath2150" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker2204" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath2205" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker2208" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath2209" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker2212" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath2213" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker2220" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath2221" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker2228" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath2229" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker2249" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath2250" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker2253" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath2254" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker2257" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath2258" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker2265" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath2266" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker2293" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath2294" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker2307" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath2308" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker2346" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath2347" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker2358" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath2359" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker2372" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath2373" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker2376" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath2377" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker2380" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath2381" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker2394" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath2395" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker2420" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath2421" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker2438" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath2439" d="M0 2L14 6L0 11L0 2 " fill="#ff3333" stroke="#ff3333" stroke-width="2"></path></marker><marker id="SvgjsMarker2460" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath2461" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker2488" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath2489" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker2492" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath2493" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker2496" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath2497" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker2524" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath2525" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker2528" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath2529" d="M0 2L14 6L0 11L0 2 " fill="#ff0000" stroke="#ff0000" stroke-width="2"></path></marker><marker id="SvgjsMarker2536" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath2537" d="M0 2L14 6L0 11L0 2 " fill="#ff0000" stroke="#ff0000" stroke-width="2"></path></marker></defs><g id="SvgjsG1007"><path id="SvgjsPath1008" d="M1831.469586575471 1954.921875L2053.1288336884427 1954.921875L2053.1288336884427 5475.361545138888 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1009)"></path><rect id="SvgjsRect1011" width="90" height="32" x="1897.299210131957" y="1935.4286747685208" fill="#ffffff"></rect><text id="SvgjsText1012" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="90" fill="#323232" font-weight="400" align="top" font-style="" opacity="1" y="1933.4786747685207" transform="rotate(0)"><tspan id="SvgjsTspan1013" dy="16" x="1942.299210131957"><tspan id="SvgjsTspan1014" style="text-decoration:;">是，通过http.js</tspan></tspan><tspan id="SvgjsTspan1015" dy="16" x="1942.299210131957"><tspan id="SvgjsTspan1016" style="text-decoration:;">创建的服务</tspan></tspan></text></g><g id="SvgjsG1017" transform="translate(2197.3819861418956,2952.44921875)"><path id="SvgjsPath1018" d="M18 0Q9 0 9 9L9 49.75Q9 58.75 0 58.75Q9 58.75 9 67.75L9 108.5Q9 117.5 18 117.5 " stroke="rgba(50,50,50,1)" stroke-width="2" fill="none"></path><path id="SvgjsPath1019" d="M214.47404441094886 117.5Q223.47404441094886 117.5 223.47404441094886 108.5L223.47404441094886 67.75Q223.47404441094886 58.75 232.47404441094886 58.75Q223.47404441094886 58.75 223.47404441094886 49.75L223.47404441094886 9Q223.47404441094886 0 214.47404441094886 0 " stroke="rgba(50,50,50,1)" stroke-width="2" fill="none"></path><path id="SvgjsPath1020" d="M0 0L232.47404441094886 0L232.47404441094886 117.5L0 117.5Z " stroke="none" fill="none"></path><g id="SvgjsG1021"><text id="SvgjsText1022" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="0" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="48.8" transform="rotate(0)"></text></g></g><g id="SvgjsG1023" transform="translate(1501.3480779542376,808.921875)"><path id="SvgjsPath1024" d="M18 0Q9 0 9 9L9 181.16071428571388Q9 190.16071428571388 0 190.16071428571388Q9 190.16071428571388 9 199.16071428571388L9 371.32142857142776Q9 380.32142857142776 18 380.32142857142776 " stroke="rgba(50,50,50,1)" stroke-width="2" fill="none"></path><path id="SvgjsPath1025" d="M552.4644220457624 380.32142857142776Q561.4644220457624 380.32142857142776 561.4644220457624 371.32142857142776L561.4644220457624 199.16071428571388Q561.4644220457624 190.16071428571388 570.4644220457624 190.16071428571388Q561.4644220457624 190.16071428571388 561.4644220457624 181.16071428571388L561.4644220457624 9Q561.4644220457624 0 552.4644220457624 0 " stroke="rgba(50,50,50,1)" stroke-width="2" fill="none"></path><path id="SvgjsPath1026" d="M0 0L570.4644220457624 0L570.4644220457624 380.32142857142776L0 380.32142857142776Z " stroke="none" fill="none"></path><g id="SvgjsG1027"><text id="SvgjsText1028" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="92" fill="#323232" font-weight="400" align="bottom" font-style="" opacity="1" y="362.37142857142777" transform="rotate(0)"><tspan id="SvgjsTspan1029" dy="16" x="286"><tspan id="SvgjsTspan1030" style="text-decoration:;fill: rgb(255, 51, 51);">environment.cc</tspan></tspan></text></g></g><g id="SvgjsG1031" transform="translate(1717.4571052302017,267.7945075757575)"><path id="SvgjsPath1032" d="M0 0L220 0L220 58L0 58Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1033"><text id="SvgjsText1034" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="199" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="11.05" transform="rotate(0)"><tspan id="SvgjsTspan1035" dy="16" x="110.5"><tspan id="SvgjsTspan1036" style="text-decoration:;">每个进程初始化一</tspan></tspan><tspan id="SvgjsTspan1037" dy="16" x="110.5"><tspan id="SvgjsTspan1038" style="text-decoration:;">次InitializeOncePerProcess(1024)</tspan></tspan></text></g></g><g id="SvgjsG1039" transform="translate(1954.6420454545455,266.24763257575756)"><path id="SvgjsPath1040" d="M0 0L264.9204545454545 0L264.9204545454545 56.444903581267L0 56.444903581267Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1041"><text id="SvgjsText1042" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="239" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="10.2724517906335" transform="rotate(0)"><tspan id="SvgjsTspan1043" dy="16" x="133"><tspan id="SvgjsTspan1044" style="text-decoration:;">初始化一个NodeMainInstance实例：</tspan></tspan><tspan id="SvgjsTspan1045" dy="16" x="133"><tspan id="SvgjsTspan1046" style="text-decoration:;">NodeMainInstance main_instance(1048)</tspan></tspan></text></g></g><g id="SvgjsG1047"><path id="SvgjsPath1048" d="M2017.1674638469217 128.31138370767383L2017.1674638469217 197.2795081417157L2087.1022727272734 197.2795081417157L2087.1022727272734 266.24763257575756 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1049)"></path></g><g id="SvgjsG1051" transform="translate(2269.220170454547,267.82257231404947)"><path id="SvgjsPath1052" d="M0 0L166.5 0L166.5 52.125L0 52.125Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1053"><text id="SvgjsText1054" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="146" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="16.1125" transform="rotate(0)"><tspan id="SvgjsTspan1055" dy="16" x="84"><tspan id="SvgjsTspan1056" style="text-decoration:;">main_instance.run(1054)</tspan></tspan></text></g></g><g id="SvgjsG1057"><path id="SvgjsPath1058" d="M2219.562500000001 294.470084366391L2244.391335227274 294.470084366391L2244.391335227274 293.88507231404947L2269.220170454547 293.88507231404947 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1059)"></path></g><g id="SvgjsG1061" transform="translate(2154.0906481181305,637.1822916666664)"><path id="SvgjsPath1062" d="M0 0L248 0L248 59.5L0 59.5Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1063"><text id="SvgjsText1064" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="172" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="11.8" transform="rotate(0)"><tspan id="SvgjsTspan1065" dy="16" x="124.5"><tspan id="SvgjsTspan1066" style="text-decoration:;">创建一个env:</tspan></tspan><tspan id="SvgjsTspan1067" dy="16" x="124.5"><tspan id="SvgjsTspan1068" style="text-decoration:;">CreateMainEnvironment(115)</tspan></tspan></text></g></g><g id="SvgjsG1069" transform="translate(2158.3898130089733,994.4788208692837)"><path id="SvgjsPath1070" d="M0 0L248 0L248 69.35546875L0 69.35546875Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1071"><text id="SvgjsText1072" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="146" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="8.727734375" transform="rotate(0)"><tspan id="SvgjsTspan1073" dy="16" x="124.5"><tspan id="SvgjsTspan1074" style="text-decoration:;">创建完env后，在此env下</tspan></tspan><tspan id="SvgjsTspan1075" dy="16" x="124.5"><tspan id="SvgjsTspan1076" style="text-decoration:;">加载业务代码:</tspan></tspan><tspan id="SvgjsTspan1077" dy="16" x="124.5"><tspan id="SvgjsTspan1078" style="text-decoration:;">LoadEnvironment(122)</tspan></tspan></text></g></g><g id="SvgjsG1079"><path id="SvgjsPath1080" d="M2434.5625 305.24681473829196L2464.5625 305.24681473829196L2464.5625 666.9322916666666L2402.090648118131 666.9322916666666 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1081)"></path></g><g id="SvgjsG1083"><path id="SvgjsPath1084" d="M2435.7201704545478 293.88507231404947L2477.7201704545478 293.88507231404947L2477.7201704545478 1029.1565552442837L2406.389813008974 1029.1565552442837 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1085)"></path></g><g id="SvgjsG1087" transform="translate(2159.489714878104,1298.133996212122)"><path id="SvgjsPath1088" d="M0 0L245.80019626173817 0L245.80019626173817 72.53787878787807L0 72.53787878787807Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1089"><text id="SvgjsText1090" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="184" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="18.318939393939036" transform="rotate(0)"><tspan id="SvgjsTspan1091" dy="16" x="123.5"><tspan id="SvgjsTspan1092" style="text-decoration:;">开启uv_run无限循环：</tspan></tspan><tspan id="SvgjsTspan1093" dy="16" x="123.5"><tspan id="SvgjsTspan1094" style="text-decoration:;">do {        uv_run(xx,xx);（131）</tspan></tspan></text></g></g><g id="SvgjsG1095"><path id="SvgjsPath1096" d="M2434.5862831369263 272.0415381304648L2488.5862831369263 272.0415381304648L2488.5862831369263 1334.402935606061L2405.2899111398433 1334.402935606061 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1097)"></path></g><g id="SvgjsG1099" transform="translate(1915.8125,637.0878906249998)"><path id="SvgjsPath1100" d="M0 0L199.58354855371863 0L199.58354855371863 36.08398437500023L0 36.08398437500023Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1101"><text id="SvgjsText1102" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="112" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="0.09199218750011373" transform="rotate(0)"><tspan id="SvgjsTspan1103" dy="16" x="100.5"><tspan id="SvgjsTspan1104" style="text-decoration:;">创建context:</tspan></tspan><tspan id="SvgjsTspan1105" dy="16" x="100.5"><tspan id="SvgjsTspan1106" style="text-decoration:;">Local&lt;Context&gt; context(189)</tspan></tspan></text></g></g><g id="SvgjsG1107"><path id="SvgjsPath1108" d="M2154.5625 656.921875L2134.9792742768605 656.921875L2134.9792742768605 655.1298828125001L2115.396048553721 655.1298828125001 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1109)"></path></g><g id="SvgjsG1111"><path id="SvgjsPath1112" d="M1892.9920371489766 127.48149263153718L1892.9920371489766 197.63800010364736L1827.4571052302015 197.63800010364736L1827.4571052302015 267.7945075757575 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1113)"></path></g><g id="SvgjsG1115" transform="translate(1855.2166987603553,31.921875)"><path id="SvgjsPath1116" d="M123.48368248286552 37.39532986175166L99.5836149055367 0L75.6835473282079 37.39532986175166L0 37.39532986175166L59.75016894332202 61.01343293233165L35.85010136599321 98.40876279408332L99.5836149055367 74.79065972350332L163.3171284450802 98.40876279408332L139.4170608677514 61.01343293233165L199.1672298110734 37.39532986175166Z " stroke-dasharray="3,4" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#0000ff"></path><g id="SvgjsG1117"><text id="SvgjsText1118" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="68" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="33.71460046689374" transform="rotate(0)"><tspan id="SvgjsTspan1119" dy="16" x="100.37508447166101"><tspan id="SvgjsTspan1120" style="text-decoration:;fill: rgb(255, 255, 255);font-weight: bold;">启动</tspan></tspan><tspan id="SvgjsTspan1121" dy="16" x="100.37508447166101"><tspan id="SvgjsTspan1122" style="text-decoration:;fill: rgb(255, 255, 255);font-weight: bold;">Start(1023)</tspan></tspan></text></g></g><g id="SvgjsG1123" transform="translate(2535.0170454545478,80.74763257575759)"><path id="SvgjsPath1124" d="M0 266.875Q9 266.875 9 257.875L9 142.4375Q9 133.4375 22 133.4375Q9 133.4375 9 124.4375L9 9Q9 0 0 0 " stroke="rgba(50,50,50,1)" stroke-width="2" fill="none"></path><path id="SvgjsPath1125" d="M0 0L103.125 0L103.125 266.875L0 266.875Z " stroke="none" fill="none"></path><g id="SvgjsG1126"><text id="SvgjsText1127" font-family="微软雅黑" text-anchor="start" font-size="13px" width="47" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="123.4875" transform="rotate(0)"><tspan id="SvgjsTspan1128" dy="16" x="27"><tspan id="SvgjsTspan1129" style="text-decoration:;fill: rgb(255, 51, 51);">node.cc</tspan></tspan></text></g></g><g id="SvgjsG1130" transform="translate(2532.0625,600.3612689393935)"><path id="SvgjsPath1131" d="M0 586.5606060606065Q9 586.5606060606065 9 577.5606060606065L9 302.28030303030323Q9 293.28030303030323 22 293.28030303030323Q9 293.28030303030323 9 284.28030303030323L9 9Q9 0 0 0 " stroke="rgba(50,50,50,1)" stroke-width="2" fill="none"></path><path id="SvgjsPath1132" d="M0 0L193.75 0L193.75 586.5606060606065L0 586.5606060606065Z " stroke="none" fill="none"></path><g id="SvgjsG1133"><text id="SvgjsText1134" font-family="微软雅黑" text-anchor="start" font-size="13px" width="140" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="283.33030303030324" transform="rotate(0)"><tspan id="SvgjsTspan1135" dy="16" x="27"><tspan id="SvgjsTspan1136" style="text-decoration:;fill: rgb(255, 51, 51);">node_main_instance.cc</tspan></tspan></text></g></g><g id="SvgjsG1137" transform="translate(1819.2289514462814,720.1824174649788)"><path id="SvgjsPath1138" d="M0 0L176.66709710743726 0L176.66709710743726 48.73945753502119L0 48.73945753502119Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1139"><text id="SvgjsText1140" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="148" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="6.419728767510594" transform="rotate(0)"><tspan id="SvgjsTspan1141" dy="16" x="89"><tspan id="SvgjsTspan1142" style="text-decoration:;">真正开始创建env:</tspan></tspan><tspan id="SvgjsTspan1143" dy="16" x="89"><tspan id="SvgjsTspan1144" style="text-decoration:;">CreateEnvironment(203)</tspan></tspan></text></g></g><g id="SvgjsG1145"><path id="SvgjsPath1146" d="M2154.555600218824 691.5461324259029L1907.5625000000002 691.5461324259029L1907.5625000000002 720.1824174649788 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1147)"></path><rect id="SvgjsRect1149" width="86" height="96" x="2012.7583601312945" y="695.5461324259029" fill="#ffffff"></rect><text id="SvgjsText1150" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="86" fill="#323232" font-weight="400" align="top" font-style="" opacity="1" y="693.5961324259029" transform="rotate(0)"><tspan id="SvgjsTspan1151" dy="16" x="2055.7583601312945"><tspan id="SvgjsTspan1152" style="text-decoration:;">参数：</tspan></tspan><tspan id="SvgjsTspan1153" dy="16" x="2055.7583601312945"><tspan id="SvgjsTspan1154" style="text-decoration:;">isolate_data，</tspan></tspan><tspan id="SvgjsTspan1155" dy="16" x="2055.7583601312945"><tspan id="SvgjsTspan1156" style="text-decoration:;">context,</tspan></tspan><tspan id="SvgjsTspan1157" dy="16" x="2055.7583601312945"><tspan id="SvgjsTspan1158" style="text-decoration:;">args,</tspan></tspan><tspan id="SvgjsTspan1159" dy="16" x="2055.7583601312945"><tspan id="SvgjsTspan1160" style="text-decoration:;">exec_args,</tspan></tspan><tspan id="SvgjsTspan1161" dy="16" x="2055.7583601312945"><tspan id="SvgjsTspan1162" style="text-decoration:;">flags</tspan></tspan></text></g><g id="SvgjsG1163" transform="translate(1551.5756441168119,832.0281723484865)"><path id="SvgjsPath1164" d="M0 0L202.6845456319635 0L202.6845456319635 66.14370265151354L0 66.14370265151354Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1165"><text id="SvgjsText1166" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="172" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="15.121851325756769" transform="rotate(0)"><tspan id="SvgjsTspan1167" dy="16" x="102"><tspan id="SvgjsTspan1168" style="text-decoration:;">初始化一个env:</tspan></tspan><tspan id="SvgjsTspan1169" dy="16" x="102"><tspan id="SvgjsTspan1170" style="text-decoration:;">env = new Environment(370)</tspan></tspan></text></g></g><g id="SvgjsG1171" transform="translate(1551.5756441168119,908.973559378508)"><path id="SvgjsPath1172" d="M0 0L198.6582573983394 0L198.6582573983394 60.19831562149204L0 60.19831562149204Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1173"><text id="SvgjsText1174" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="175" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="12.149157810746022" transform="rotate(0)"><tspan id="SvgjsTspan1175" dy="16" x="100"><tspan id="SvgjsTspan1176" style="text-decoration:;">执行bootstrap:</tspan></tspan><tspan id="SvgjsTspan1177" dy="16" x="100"><tspan id="SvgjsTspan1178" style="text-decoration:;">env-&gt;RunBootstrapping(391)</tspan></tspan></text></g></g><g id="SvgjsG1179"><path id="SvgjsPath1180" d="M1819.2289514462814 744.5521462324893L1786.7445705975285 744.5521462324893L1786.7445705975285 865.1000236742432L1754.2601897487757 865.1000236742432 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1181)"></path></g><g id="SvgjsG1183"><path id="SvgjsPath1184" d="M1820.1759972884752 758.3173253527374L1802.2049494018133 758.3173253527374L1802.2049494018133 939.072717189254L1750.2339015151515 939.072717189254 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1185)"></path></g><g id="SvgjsG1187" transform="translate(1448.3125,257.879175275482)"><path id="SvgjsPath1188" d="M0 0L247.5 0L247.5 72.01179407713494L0 72.01179407713494Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1189"><text id="SvgjsText1190" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="223" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="18.05589703856747" transform="rotate(0)"><tspan id="SvgjsTspan1191" dy="16" x="124.5"><tspan id="SvgjsTspan1192" style="text-decoration:;">执行bootstrap:</tspan></tspan><tspan id="SvgjsTspan1193" dy="16" x="124.5"><tspan id="SvgjsTspan1194" style="text-decoration:;">Environment::RunBootstrapping(343)</tspan></tspan></text></g></g><g id="SvgjsG1195"><path id="SvgjsPath1196" d="M1551.5756441168119 939.072717189254L1530.5756441168119 939.072717189254L1530.5756441168119 359.8909693526173L1572.0625000000007 359.8909693526173L1572.0625000000007 329.8909693526173 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1197)"></path></g><g id="SvgjsG1199" transform="translate(1210.4014486288506,150.97940835705762)"><path id="SvgjsPath1200" d="M0 0L181.8181818181818 0L181.8181818181818 68.63636363636363L0 68.63636363636363Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1201"><text id="SvgjsText1202" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="157" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="8.368181818181814" transform="rotate(0)"><tspan id="SvgjsTspan1203" dy="16" x="91.5"><tspan id="SvgjsTspan1204" style="text-decoration:;">准备loaders:</tspan></tspan><tspan id="SvgjsTspan1205" dy="16" x="91.5"><tspan id="SvgjsTspan1206" style="text-decoration:;">BootstrapInternalLoaders(</tspan></tspan><tspan id="SvgjsTspan1207" dy="16" x="91.5"><tspan id="SvgjsTspan1208" style="text-decoration:;">348)</tspan></tspan></text></g></g><g id="SvgjsG1209" transform="translate(1225.097181725735,399.4968793044077)"><path id="SvgjsPath1210" d="M0 0L167.182569496619 0L167.182569496619 60.454545454546064L0 60.454545454546064Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1211"><text id="SvgjsText1212" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="123" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="12.277272727273033" transform="rotate(0)"><tspan id="SvgjsTspan1213" dy="16" x="84.5"><tspan id="SvgjsTspan1214" style="text-decoration:;">准备node.js相关：</tspan></tspan><tspan id="SvgjsTspan1215" dy="16" x="84.5"><tspan id="SvgjsTspan1216" style="text-decoration:;">BootstrapNode(353)</tspan></tspan></text></g></g><g id="SvgjsG1217"><path id="SvgjsPath1218" d="M1448.3125 293.8850723140497L1420.2660652235163 293.8850723140497L1420.2660652235163 185.29759017523943L1392.2196304470328 185.29759017523943 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1219)"></path></g><g id="SvgjsG1221"><path id="SvgjsPath1222" d="M1448.3125 317.3671790783329L1419.7791727061172 317.3671790783329L1419.7791727061172 440.73408580651517L1391.2458454122343 440.73408580651517 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1223)"></path></g><g id="SvgjsG1225"><path id="SvgjsPath1226" d="M1210.4014486288506 185.29759017523943L1174.981974314427 185.29759017523943L1174.981974314427 186.17330535047887L1139.5625000000032 186.17330535047887 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1227)"></path></g><g id="SvgjsG1229" transform="translate(715.3125000000032,62.67330535047887)"><path id="SvgjsPath1230" d="M0 0L424.25 0L424.25 247L0 247Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1231"><text id="SvgjsText1232" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="368" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="33.55" transform="rotate(0)"><tspan id="SvgjsTspan1233" dy="16" x="213"><tspan id="SvgjsTspan1234" style="text-decoration:;">准备形参和实参：</tspan></tspan><tspan id="SvgjsTspan1235" dy="16" x="213"><tspan id="SvgjsTspan1236" style="text-decoration:;">std::vector&lt;Local&lt;String&gt;&gt; loaders_params = {      </tspan></tspan><tspan id="SvgjsTspan1237" dy="16" x="213"><tspan id="SvgjsTspan1238" style="text-decoration:;">process_string(),      FIXED_ONE_BYTE_STRING(isolate_, </tspan></tspan><tspan id="SvgjsTspan1239" dy="16" x="213"><tspan id="SvgjsTspan1240" style="text-decoration:;">"getLinkedBinding"),      FIXED_ONE_BYTE_STRING(isolate_, </tspan></tspan><tspan id="SvgjsTspan1241" dy="16" x="213"><tspan id="SvgjsTspan1242" style="text-decoration:;">"getInternalBinding"),      primordials_string()};  </tspan></tspan><tspan id="SvgjsTspan1243" dy="16" x="213"><tspan id="SvgjsTspan1244" style="text-decoration:;">std::vector&lt;Local&lt;Value&gt;&gt; loaders_args = {      process_object(),      </tspan></tspan><tspan id="SvgjsTspan1245" dy="16" x="213"><tspan id="SvgjsTspan1246" style="text-decoration:;">NewFunctionTemplate(binding::GetLinkedBinding)          -</tspan></tspan><tspan id="SvgjsTspan1247" dy="16" x="213"><tspan id="SvgjsTspan1248" style="text-decoration:;">&gt;GetFunction(context())          .ToLocalChecked(),      </tspan></tspan><tspan id="SvgjsTspan1249" dy="16" x="213"><tspan id="SvgjsTspan1250" style="text-decoration:;">NewFunctionTemplate(binding::GetInternalBinding)          -</tspan></tspan><tspan id="SvgjsTspan1251" dy="16" x="213"><tspan id="SvgjsTspan1252" style="text-decoration:;">&gt;GetFunction(context())          .ToLocalChecked(),      </tspan></tspan><tspan id="SvgjsTspan1253" dy="16" x="213"><tspan id="SvgjsTspan1254" style="text-decoration:;">primordials()}; （247）</tspan></tspan></text></g></g><g id="SvgjsG1255" transform="translate(2615.8125,25.00513300619832)"><path id="SvgjsPath1256" d="M0 0L100 0L100 70L0 70Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1257"><text id="SvgjsText1258" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="66" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="17.05" transform="rotate(0)"><tspan id="SvgjsTspan1259" dy="16" x="50.5"><tspan id="SvgjsTspan1260" style="text-decoration:;fill: rgb(255, 51, 51);">基于nodejs </tspan></tspan><tspan id="SvgjsTspan1261" dy="16" x="50.5"><tspan id="SvgjsTspan1262" style="text-decoration:;fill: rgb(255, 51, 51);text-decoration: underline;">V14解读</tspan></tspan></text></g></g><g id="SvgjsG1263" transform="translate(719.0625,338.9837871793219)"><path id="SvgjsPath1264" d="M0 0L421.75 0L421.75 181.79924242424238L0 181.79924242424238Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1265"><text id="SvgjsText1266" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="329" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="40.94962121212119" transform="rotate(0)"><tspan id="SvgjsTspan1267" dy="16" x="211.5"><tspan id="SvgjsTspan1268" style="text-decoration:;">准备形参和实参：</tspan></tspan><tspan id="SvgjsTspan1269" dy="16" x="211.5"><tspan id="SvgjsTspan1270" style="text-decoration:;">std::vector&lt;Local&lt;String&gt;&gt; node_params = {      process_string(),      </tspan></tspan><tspan id="SvgjsTspan1271" dy="16" x="211.5"><tspan id="SvgjsTspan1272" style="text-decoration:;">require_string(),      internal_binding_string(),      </tspan></tspan><tspan id="SvgjsTspan1273" dy="16" x="211.5"><tspan id="SvgjsTspan1274" style="text-decoration:;">primordials_string()};  std::vector&lt;Local&lt;Value&gt;&gt; node_args = {      </tspan></tspan><tspan id="SvgjsTspan1275" dy="16" x="211.5"><tspan id="SvgjsTspan1276" style="text-decoration:;">process_object(),      native_module_require(),      </tspan></tspan><tspan id="SvgjsTspan1277" dy="16" x="211.5"><tspan id="SvgjsTspan1278" style="text-decoration:;">internal_binding_loader(),      primordials()};（293）</tspan></tspan></text></g></g><g id="SvgjsG1279"><path id="SvgjsPath1280" d="M1225.097181725735 429.7241520316808L1182.9548408628675 429.7241520316808L1182.9548408628675 429.8834083914431L1140.8125 429.8834083914431 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1281)"></path></g><g id="SvgjsG1283" transform="translate(1750.2339015151513,990.0315552442837)"><path id="SvgjsPath1284" d="M0 0L276.5785984848487 0L276.5785984848487 78.25L0 78.25Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1285"><text id="SvgjsText1286" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="233" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="21.175" transform="rotate(0)"><tspan id="SvgjsTspan1287" dy="16" x="139"><tspan id="SvgjsTspan1288" style="text-decoration:;">开始执行业务逻辑：</tspan></tspan><tspan id="SvgjsTspan1289" dy="16" x="139"><tspan id="SvgjsTspan1290" style="text-decoration:;">return StartExecution(env, cb);（447）</tspan></tspan></text></g></g><g id="SvgjsG1291"><path id="SvgjsPath1292" d="M2158.3898130089733 1029.1565552442837L2092.6011565044864 1029.1565552442837L2092.6011565044864 1029.1565552442837L2026.8125 1029.1565552442837 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1293)"></path></g><g id="SvgjsG1295" transform="translate(712.84375,558.796875)"><path id="SvgjsPath1296" d="M0 0L455 0L455 94.375L0 94.375Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1297"><text id="SvgjsText1298" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="422" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="29.2375" transform="rotate(0)"><tspan id="SvgjsTspan1299" dy="16" x="228"><tspan id="SvgjsTspan1300" style="text-decoration:;">加载启动的业务代码：</tspan></tspan><tspan id="SvgjsTspan1301" dy="16" x="228"><tspan id="SvgjsTspan1302" style="text-decoration:;">return StartExecution(env, "internal/main/run_main_module");（460）</tspan></tspan></text></g></g><g id="SvgjsG1303"><path id="SvgjsPath1304" d="M1750.2339015151513 1029.1565552442837L1459.0388257575755 1029.1565552442837L1459.0388257575755 605.984375L1167.84375 605.984375 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1305)"></path></g><g id="SvgjsG1307" transform="translate(209.25,67.50876653161589)"><path id="SvgjsPath1308" d="M0 0L476.25 0L476.25 99.41310846838411L0 99.41310846838411Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1309"><text id="SvgjsText1310" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="410" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="15.756554234192055" transform="rotate(0)"><tspan id="SvgjsTspan1311" dy="16" x="239"><tspan id="SvgjsTspan1312" style="text-decoration:;">调用通用的执行器：</tspan></tspan><tspan id="SvgjsTspan1313" dy="16" x="239"><tspan id="SvgjsTspan1314" style="text-decoration:;">ExecuteBootstrapper(           this, "internal/bootstrap/loaders", </tspan></tspan><tspan id="SvgjsTspan1315" dy="16" x="239"><tspan id="SvgjsTspan1316" style="text-decoration:;">&amp;loaders_params, &amp;loaders_args)           .ToLocal(&amp;loader_exports)</tspan></tspan><tspan id="SvgjsTspan1317" dy="16" x="239"><tspan id="SvgjsTspan1318" style="text-decoration:;">（264）</tspan></tspan></text></g></g><g id="SvgjsG1319" transform="translate(207.21875,379.1021282288656)"><path id="SvgjsPath1320" d="M0 0L480.3125 0L480.3125 102.01561732528626L0 102.01561732528626Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1321"><text id="SvgjsText1322" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="421" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="25.05780866264313" transform="rotate(0)"><tspan id="SvgjsTspan1323" dy="16" x="241"><tspan id="SvgjsTspan1324" style="text-decoration:;">调用通用的执行器：</tspan></tspan><tspan id="SvgjsTspan1325" dy="16" x="241"><tspan id="SvgjsTspan1326" style="text-decoration:;">ExecuteBootstrapper(</tspan></tspan><tspan id="SvgjsTspan1327" dy="16" x="241"><tspan id="SvgjsTspan1328" style="text-decoration:;">this, "internal/bootstrap/node", &amp;node_params, &amp;node_args);（304）</tspan></tspan></text></g></g><g id="SvgjsG1329" transform="translate(206.4375,534.421875)"><path id="SvgjsPath1330" d="M0 0L481.875 0L481.875 98.75L0 98.75Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1331"><text id="SvgjsText1332" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="459" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="31.425" transform="rotate(0)"><tspan id="SvgjsTspan1333" dy="16" x="241.5"><tspan id="SvgjsTspan1334" style="text-decoration:;">准备形参和实参，调用通用执行器：ExecuteBootstrapper(env, main_script_id, </tspan></tspan><tspan id="SvgjsTspan1335" dy="16" x="241.5"><tspan id="SvgjsTspan1336" style="text-decoration:;">¶meters, &amp;arguments)（397）</tspan></tspan></text></g></g><g id="SvgjsG1337"><path id="SvgjsPath1338" d="M715.3125000000032 186.17330535047887L700.4062500000016 186.17330535047887L700.4062500000016 117.21532076580795L685.5 117.21532076580795 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1339)"></path></g><g id="SvgjsG1341"><path id="SvgjsPath1342" d="M719.0625 429.8834083914431L703.296875 429.8834083914431L703.296875 430.1099368915087L687.53125 430.1099368915087 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1343)"></path></g><g id="SvgjsG1345"><path id="SvgjsPath1346" d="M712.84375 605.984375L700.578125 605.984375L700.578125 583.796875L688.3125 583.796875 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1347)"></path></g><g id="SvgjsG1349" transform="translate(207.0625,184.421875)"><path id="SvgjsPath1350" d="M0 0L480.625 0L480.625 91.25L0 91.25Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1351"><text id="SvgjsText1352" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="378" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="11.675" transform="rotate(0)"><tspan id="SvgjsTspan1353" dy="16" x="241"><tspan id="SvgjsTspan1354" style="text-decoration:;">将上一步执行的loaders.js导出的属性保存起来，供后续使用：</tspan></tspan><tspan id="SvgjsTspan1355" dy="16" x="241"><tspan id="SvgjsTspan1356" style="text-decoration:;">set_internal_binding_loader(internal_binding_loader.As&lt;Function&gt;());(275);</tspan></tspan><tspan id="SvgjsTspan1357" dy="16" x="241"><tspan id="SvgjsTspan1358" style="text-decoration:;">set_native_module_require(require.As&lt;Function&gt;());（279）</tspan></tspan><tspan id="SvgjsTspan1359" dy="16" x="241"><tspan id="SvgjsTspan1360" style="text-decoration:;"> </tspan></tspan></text></g></g><g id="SvgjsG1361"><path id="SvgjsPath1362" d="M715.8125000000032 212.42330535047887L701.7500000000016 212.42330535047887L701.7500000000016 230.046875L687.6875 230.046875 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1363)"></path></g><g id="SvgjsG1365" transform="translate(330.8125,253.59462164256183)"><path id="SvgjsPath1366" d="M38.55 46.375C-32.125 33.125 12.85 23.1875 28.912499999999998 19.875C22.4875 3.3125 102.8 0 134.92499999999998 6.625C160.625 -3.3125 240.9375 0 240.9375 9.9375C305.1875 6.625 330.8875 19.875 305.1875 36.4375C327.675 49.6875 305.1875 66.25 231.29999999999998 59.625C215.2375 68.2375 150.98749999999998 68.2375 134.92499999999998 59.625C102.8 66.25 38.55 62.9375 38.55 46.375Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1367"><text id="SvgjsText1368" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="301" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="15.175" transform="rotate(0)"><tspan id="SvgjsTspan1369" dy="16" x="161.5"><tspan id="SvgjsTspan1370" style="text-decoration:;">loaders.js中的internalBinding函数会维持一个js世界</tspan></tspan><tspan id="SvgjsTspan1371" dy="16" x="161.5"><tspan id="SvgjsTspan1372" style="text-decoration:;">的缓存，然后export出来给别的模块使用</tspan></tspan></text></g></g><g id="SvgjsG1373" transform="translate(2129.5646925290794,1425.130918560606)"><path id="SvgjsPath1374" d="M0 0L305 0L305 75L0 75Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1375"><text id="SvgjsText1376" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="274" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="19.55" transform="rotate(0)"><tspan id="SvgjsTspan1377" dy="16" x="153"><tspan id="SvgjsTspan1378" style="text-decoration:;">执行经典的六大步检测，其中最重要的是io poll:</tspan></tspan><tspan id="SvgjsTspan1379" dy="16" x="153"><tspan id="SvgjsTspan1380" style="text-decoration:;">uv__io_poll(loop, timeout);(381)</tspan></tspan></text></g></g><g id="SvgjsG1381" transform="translate(2115.961159669746,1580.2552083333333)"><path id="SvgjsPath1382" d="M0 0L332.0653409090937 0L332.0653409090937 81.25L0 81.25Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1383"><text id="SvgjsText1384" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="264" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="22.675" transform="rotate(0)"><tspan id="SvgjsTspan1385" dy="16" x="167"><tspan id="SvgjsTspan1386" style="text-decoration:;">以linux为例，进入经典的epoll，并调用毁掉：</tspan></tspan><tspan id="SvgjsTspan1387" dy="16" x="167"><tspan id="SvgjsTspan1388" style="text-decoration:;">w-&gt;cb(loop, w, pe-&gt;events);（431）</tspan></tspan></text></g></g><g id="SvgjsG1389" transform="translate(2530.384588068184,1378.171875)"><path id="SvgjsPath1390" d="M0 140Q9 140 9 131L9 79Q9 70 22 70Q9 70 9 61L9 9Q9 0 0 0 " stroke="rgba(50,50,50,1)" stroke-width="2" fill="none"></path><path id="SvgjsPath1391" d="M0 0L100 0L100 140L0 140Z " stroke="none" fill="none"></path><g id="SvgjsG1392"><text id="SvgjsText1393" font-family="微软雅黑" text-anchor="start" font-size="13px" width="44" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="60.05" transform="rotate(0)"><tspan id="SvgjsTspan1394" dy="16" x="27"><tspan id="SvgjsTspan1395" style="text-decoration:;fill: rgb(255, 51, 51);">core.cc</tspan></tspan></text></g></g><g id="SvgjsG1396"><path id="SvgjsPath1397" d="M2282.3898130089733 1370.671875L2282.3898130089733 1397.901396780303L2282.0646925290794 1397.901396780303L2282.0646925290794 1425.130918560606 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1398)"></path></g><g id="SvgjsG1400"><path id="SvgjsPath1401" d="M2282.0646925290794 1500.130918560606L2282.0646925290794 1540.1930634469695L2281.993830124293 1540.1930634469695L2281.993830124293 1580.2552083333333 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1402)"></path></g><g id="SvgjsG1404" transform="translate(2530.1526100852298,1565.671875)"><path id="SvgjsPath1405" d="M0 143.5Q9 143.5 9 134.5L9 80.75Q9 71.75 22 71.75Q9 71.75 9 62.75L9 9Q9 0 0 0 " stroke="rgba(50,50,50,1)" stroke-width="2" fill="none"></path><path id="SvgjsPath1406" d="M0 0L138.15988991477025 0L138.15988991477025 143.5L0 143.5Z " stroke="none" fill="none"></path><g id="SvgjsG1407"><text id="SvgjsText1408" font-family="微软雅黑" text-anchor="start" font-size="13px" width="73" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="61.8" transform="rotate(0)"><tspan id="SvgjsTspan1409" dy="16" x="27"><tspan id="SvgjsTspan1410" style="text-decoration:;fill: rgb(255, 51, 51);">linux-core.c</tspan></tspan></text></g></g><g id="SvgjsG1411" transform="translate(1575.693595608052,1816.609375)"><path id="SvgjsPath1412" d="M0 0L324.9456756538393 0L324.9456756538393 65L0 65Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1413"><text id="SvgjsText1414" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="282" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="14.55" transform="rotate(0)"><tspan id="SvgjsTspan1415" dy="16" x="163"><tspan id="SvgjsTspan1416" style="text-decoration:;">w-&gt;cb即为uv__server_io,创建新的connection：</tspan></tspan><tspan id="SvgjsTspan1417" dy="16" x="163"><tspan id="SvgjsTspan1418" style="text-decoration:;">stream-&gt;connection_cb(stream, err);（564）</tspan></tspan></text></g></g><g id="SvgjsG1419" transform="translate(2530.1526100852298,1729.421875)"><path id="SvgjsPath1420" d="M0 397.5Q9 397.5 9 388.5L9 207.75Q9 198.75 22 198.75Q9 198.75 9 189.75L9 9Q9 0 0 0 " stroke="rgba(50,50,50,1)" stroke-width="2" fill="none"></path><path id="SvgjsPath1421" d="M0 0L100 0L100 397.5L0 397.5Z " stroke="none" fill="none"></path><g id="SvgjsG1422"><text id="SvgjsText1423" font-family="微软雅黑" text-anchor="start" font-size="13px" width="52" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="188.8" transform="rotate(0)"><tspan id="SvgjsTspan1424" dy="16" x="27"><tspan id="SvgjsTspan1425" style="text-decoration:;fill: rgb(255, 51, 51);">stream.c</tspan></tspan></text></g></g><g id="SvgjsG1426" transform="translate(2111.227294075271,1828.09375)"><path id="SvgjsPath1427" d="M0 0L342.8502035000952 0L342.8502035000952 67.03125L0 67.03125Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1428"><text id="SvgjsText1429" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="283" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="15.565625" transform="rotate(0)"><tspan id="SvgjsTspan1430" dy="16" x="172"><tspan id="SvgjsTspan1431" style="text-decoration:;">w-&gt;cb即为uv__stream_io,开始消费steam上的数</tspan></tspan><tspan id="SvgjsTspan1432" dy="16" x="172"><tspan id="SvgjsTspan1433" style="text-decoration:;">据：uv__read(stream);（1306）</tspan></tspan></text></g></g><g id="SvgjsG1434" transform="translate(2178.1751602485856,1701.921875)"><path id="SvgjsPath1435" d="M0 39.5L103.8186698757072 0L207.6373397514144 39.5L103.8186698757072 79Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1436"><text id="SvgjsText1437" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="188" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="21.945" transform="rotate(0)"><tspan id="SvgjsTspan1438" dy="16" x="104.5"><tspan id="SvgjsTspan1439" style="text-decoration:;">epoll wait拿到的是否为初次客户</tspan></tspan><tspan id="SvgjsTspan1440" dy="16" x="104.5"><tspan id="SvgjsTspan1441" style="text-decoration:;">端连接</tspan></tspan></text></g></g><g id="SvgjsG1442"><path id="SvgjsPath1443" d="M2281.993830124293 1661.5052083333333L2281.993830124293 1681.7135416666665L2281.993830124293 1681.7135416666665L2281.993830124293 1701.921875 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1444)"></path></g><g id="SvgjsG1446"><path id="SvgjsPath1447" d="M2281.993830124293 1780.921875L2281.993830124293 1804.5078125L2282.652395825319 1804.5078125L2282.652395825319 1828.09375 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1448)"></path><rect id="SvgjsRect1450" width="13" height="16" x="2275.823112974806" y="1796.5078125" fill="#ffffff"></rect><text id="SvgjsText1451" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="13" fill="#323232" font-weight="400" align="top" font-style="" opacity="1" y="1794.5578125" transform="rotate(0)"><tspan id="SvgjsTspan1452" dy="16" x="2282.323112974806"><tspan id="SvgjsTspan1453" style="text-decoration:;">否</tspan></tspan></text></g><g id="SvgjsG1454"><path id="SvgjsPath1455" d="M2178.1751602485856 1741.421875L1738.1664334349716 1741.421875L1738.1664334349716 1816.609375 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1456)"></path><rect id="SvgjsRect1458" width="13" height="16" x="1914.0770468417786" y="1733.421875" fill="#ffffff"></rect><text id="SvgjsText1459" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="13" fill="#323232" font-weight="400" align="top" font-style="" opacity="1" y="1731.471875" transform="rotate(0)"><tspan id="SvgjsTspan1460" dy="16" x="1920.5770468417786"><tspan id="SvgjsTspan1461" style="text-decoration:;">是</tspan></tspan></text></g><g id="SvgjsG1462" transform="translate(1934.5625,1964.109375)"><path id="SvgjsPath1463" d="M0 0L295.0622773064615 0L295.0622773064615 156.5625L0 156.5625Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1464"><text id="SvgjsText1465" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="276" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="12.33125" transform="rotate(0)"><tspan id="SvgjsTspan1466" dy="16" x="148.5"><tspan id="SvgjsTspan1467" style="text-decoration:;">分配一个buf,并读取1024*64大小的数据到此buf</tspan></tspan><tspan id="SvgjsTspan1468" dy="16" x="148.5"><tspan id="SvgjsTspan1469" style="text-decoration:;">中:</tspan></tspan><tspan id="SvgjsTspan1470" dy="16" x="148.5"><tspan id="SvgjsTspan1471" style="text-decoration:;">buf = uv_buf_init(NULL, 0);    stream-</tspan></tspan><tspan id="SvgjsTspan1472" dy="16" x="148.5"><tspan id="SvgjsTspan1473" style="text-decoration:;">&gt;alloc_cb((uv_handle_t*)stream, 64 * 1024, </tspan></tspan><tspan id="SvgjsTspan1474" dy="16" x="148.5"><tspan id="SvgjsTspan1475" style="text-decoration:;">&amp;buf);</tspan></tspan><tspan id="SvgjsTspan1476" dy="16" x="148.5"><tspan id="SvgjsTspan1477" style="text-decoration:;">do { </tspan></tspan><tspan id="SvgjsTspan1478" dy="16" x="148.5"><tspan id="SvgjsTspan1479" style="text-decoration:;">       </tspan></tspan><tspan id="SvgjsTspan1480" dy="16" x="148.5"><tspan id="SvgjsTspan1481" style="text-decoration:;">nread = read(uv__stream_fd(stream), </tspan></tspan><tspan id="SvgjsTspan1482" dy="16" x="148.5"><tspan id="SvgjsTspan1483" style="text-decoration:;">buf.base, buf.len); </tspan></tspan><tspan id="SvgjsTspan1484" dy="16" x="148.5"><tspan id="SvgjsTspan1485" style="text-decoration:;">     </tspan></tspan><tspan id="SvgjsTspan1486" dy="16" x="148.5"><tspan id="SvgjsTspan1487" style="text-decoration:;">}</tspan></tspan><tspan id="SvgjsTspan1488" dy="16" x="148.5"><tspan id="SvgjsTspan1489" style="text-decoration:;">（1142）</tspan></tspan></text></g></g><g id="SvgjsG1490" transform="translate(2242.0625,1967.625)"><path id="SvgjsPath1491" d="M0 0L266.25 0L266.25 149.53125L0 149.53125Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1492"><text id="SvgjsText1493" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="238" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="40.815625" transform="rotate(0)"><tspan id="SvgjsTspan1494" dy="16" x="134"><tspan id="SvgjsTspan1495" style="text-decoration:;">read完毕后，调用read回调--read_cb:</tspan></tspan><tspan id="SvgjsTspan1496" dy="16" x="134"><tspan id="SvgjsTspan1497" style="text-decoration:;">stream-&gt;read_cb(stream, nread, &amp;buf);</tspan></tspan><tspan id="SvgjsTspan1498" dy="16" x="134"><tspan id="SvgjsTspan1499" style="text-decoration:;">（）</tspan></tspan><tspan id="SvgjsTspan1500" dy="16" x="134"><tspan id="SvgjsTspan1501" style="text-decoration:;">注意：此处的read_cb就是：OnUvRead</tspan></tspan></text></g></g><g id="SvgjsG1502"><path id="SvgjsPath1503" d="M2282.6523958253183 1895.125L2282.6523958253183 1929.6171875L2082.0936386532308 1929.6171875L2082.0936386532308 1964.109375 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1504)"></path><rect id="SvgjsRect1506" width="36" height="16" x="2164.3730172392743" y="1921.6171875" fill="#ffffff"></rect><text id="SvgjsText1507" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="36" fill="#323232" font-weight="400" align="top" font-style="" opacity="1" y="1919.6671875" transform="rotate(0)"><tspan id="SvgjsTspan1508" dy="16" x="2182.3730172392743"><tspan id="SvgjsTspan1509" style="text-decoration:;">Step1:</tspan></tspan></text></g><g id="SvgjsG1510"><path id="SvgjsPath1511" d="M2334.5625 1894.421875L2334.5625 1931.0234375L2375.1875 1931.0234375L2375.1875 1967.625 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1512)"></path><rect id="SvgjsRect1514" width="39" height="16" x="2335.375" y="1923.0234375" fill="#ffffff"></rect><text id="SvgjsText1515" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="39" fill="#323232" font-weight="400" align="top" font-style="" opacity="1" y="1921.0734375" transform="rotate(0)"><tspan id="SvgjsTspan1516" dy="16" x="2354.875"><tspan id="SvgjsTspan1517" style="text-decoration:;">Step:2</tspan></tspan></text></g><g id="SvgjsG1518" transform="translate(1934.5625,2166.609375)"><path id="SvgjsPath1519" d="M0 0L579.8941145491235 0L579.8941145491235 139.0625L0 139.0625Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1520"><text id="SvgjsText1521" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="421" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="35.58125" transform="rotate(0)"><tspan id="SvgjsTspan1522" dy="16" x="290.5"><tspan id="SvgjsTspan1523" style="text-decoration:;">将数据触发出去：</tspan></tspan><tspan id="SvgjsTspan1524" dy="16" x="290.5"><tspan id="SvgjsTspan1525" style="text-decoration:;">void StreamResource::EmitRead(ssize_t nread, const uv_buf_t&amp; buf) { </tspan></tspan><tspan id="SvgjsTspan1526" dy="16" x="290.5"><tspan id="SvgjsTspan1527" style="text-decoration:;"> </tspan></tspan><tspan id="SvgjsTspan1528" dy="16" x="290.5"><tspan id="SvgjsTspan1529" style="text-decoration:;">DebugSealHandleScope handle_scope(v8::Isolate::GetCurrent()); </tspan></tspan><tspan id="SvgjsTspan1530" dy="16" x="290.5"><tspan id="SvgjsTspan1531" style="text-decoration:;"> </tspan></tspan><tspan id="SvgjsTspan1532" dy="16" x="290.5"><tspan id="SvgjsTspan1533" style="text-decoration:;">if (nread &gt; 0) </tspan></tspan><tspan id="SvgjsTspan1534" dy="16" x="290.5"><tspan id="SvgjsTspan1535" style="text-decoration:;">   </tspan></tspan><tspan id="SvgjsTspan1536" dy="16" x="290.5"><tspan id="SvgjsTspan1537" style="text-decoration:;">bytes_read_ </tspan></tspan><tspan id="SvgjsTspan1538" dy="16" x="290.5"><tspan id="SvgjsTspan1539" style="text-decoration:;">+= static_cast&lt;uint64_t&gt;(nread); </tspan></tspan><tspan id="SvgjsTspan1540" dy="16" x="290.5"><tspan id="SvgjsTspan1541" style="text-decoration:;"> </tspan></tspan><tspan id="SvgjsTspan1542" dy="16" x="290.5"><tspan id="SvgjsTspan1543" style="text-decoration:;">listener_-&gt;OnStreamRead(nread, buf);};(509)</tspan></tspan></text></g></g><g id="SvgjsG1544" transform="translate(2529.556030306664,2163.171875)"><path id="SvgjsPath1545" d="M0 301.25Q9 301.25 9 292.25L9 159.625Q9 150.625 22 150.625Q9 150.625 9 141.625L9 9Q9 0 0 0 " stroke="rgba(50,50,50,1)" stroke-width="2" fill="none"></path><path id="SvgjsPath1546" d="M0 0L129.40988991477025 0L129.40988991477025 301.25L0 301.25Z " stroke="none" fill="none"></path><g id="SvgjsG1547"><text id="SvgjsText1548" font-family="微软雅黑" text-anchor="start" font-size="13px" width="101" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="132.675" transform="rotate(0)"><tspan id="SvgjsTspan1549" dy="16" x="27"><tspan id="SvgjsTspan1550" style="text-decoration:;fill: rgb(255, 51, 51);">/src/stream_bas</tspan></tspan><tspan id="SvgjsTspan1551" dy="16" x="27"><tspan id="SvgjsTspan1552" style="text-decoration:;fill: rgb(255, 51, 51);">e-inl.h</tspan></tspan></text></g></g><g id="SvgjsG1553"><path id="SvgjsPath1554" d="M2375.1875 2117.15625L2375.1875 2141.8828125L2224.509557274562 2141.8828125L2224.509557274562 2166.609375 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1555)"></path></g><g id="SvgjsG1557" transform="translate(2536.264939834663,2496.921875)"><path id="SvgjsPath1558" d="M0 550Q9 550 9 541L9 284Q9 275 22 275Q9 275 9 266L9 9Q9 0 0 0 " stroke="rgba(50,50,50,1)" stroke-width="2" fill="none"></path><path id="SvgjsPath1559" d="M0 0L112.04756016533702 0L112.04756016533702 550L0 550Z " stroke="none" fill="none"></path><g id="SvgjsG1560"><text id="SvgjsText1561" font-family="微软雅黑" text-anchor="start" font-size="13px" width="84" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="257.05" transform="rotate(0)"><tspan id="SvgjsTspan1562" dy="16" x="27"><tspan id="SvgjsTspan1563" style="text-decoration:;fill: rgb(255, 51, 51);">/src/node_htt</tspan></tspan><tspan id="SvgjsTspan1564" dy="16" x="27"><tspan id="SvgjsTspan1565" style="text-decoration:;fill: rgb(255, 51, 51);">p_parser.cc</tspan></tspan></text></g></g><g id="SvgjsG1566" transform="translate(1925.469601842607,2489.421875)"><path id="SvgjsPath1567" d="M0 0L567.0149975753661 0L567.0149975753661 133.75L0 133.75Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1568"><text id="SvgjsText1569" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="532" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="40.925" transform="rotate(0)"><tspan id="SvgjsTspan1570" dy="16" x="284.5"><tspan id="SvgjsTspan1571" style="text-decoration:;">以http解析器（llhttp）为例，开始调用http解析器void OnStreamRead(ssize_t nread, const </tspan></tspan><tspan id="SvgjsTspan1572" dy="16" x="284.5"><tspan id="SvgjsTspan1573" style="text-decoration:;">uv_buf_t&amp; buf) override {    ...    Local&lt;Value&gt; ret = Execute(buf.base, nread);    ...  };(634)</tspan></tspan></text></g></g><g id="SvgjsG1574" transform="translate(2148.627740661349,2349.421875)"><path id="SvgjsPath1575" d="M0 40L60 0L120 40L60 80Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1576"><text id="SvgjsText1577" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="90" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="22.45" transform="rotate(0)"><tspan id="SvgjsTspan1578" dy="16" x="60.5"><tspan id="SvgjsTspan1579" style="text-decoration:;">是否通过http.js</tspan></tspan><tspan id="SvgjsTspan1580" dy="16" x="60.5"><tspan id="SvgjsTspan1581" style="text-decoration:;">启动的服务</tspan></tspan></text></g></g><g id="SvgjsG1582"><path id="SvgjsPath1583" d="M2208.627740661349 2429.421875L2208.627740661349 2459.421875L2208.97710063029 2459.421875L2208.97710063029 2489.421875 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1584)"></path><rect id="SvgjsRect1586" width="128" height="16" x="2144.8024206458194" y="2451.421875" fill="#ffffff"></rect><text id="SvgjsText1587" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="128" fill="#323232" font-weight="400" align="top" font-style="" opacity="1" y="2449.471875" transform="rotate(0)"><tspan id="SvgjsTspan1588" dy="16" x="2208.8024206458194"><tspan id="SvgjsTspan1589" style="text-decoration:;">是（普通的http服务）</tspan></tspan></text></g><g id="SvgjsG1590"><path id="SvgjsPath1591" d="M2224.5095572745613 2305.671875L2224.5095572745613 2327.546875L2208.627740661349 2327.546875L2208.627740661349 2349.421875 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1592)"></path></g><g id="SvgjsG1594" transform="translate(1750.4965738344247,3844.9443359375)"><path id="SvgjsPath1595" d="M0 0L290.3159261655753 0L290.3159261655753 115.7275390625L0 115.7275390625Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1596"><text id="SvgjsText1597" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="254" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="-0.08623046874999996" transform="rotate(0)"><tspan id="SvgjsTspan1598" dy="16" x="146"><tspan id="SvgjsTspan1599" style="text-decoration:;">调用parserOnHeadersComplete；因为是头</tspan></tspan><tspan id="SvgjsTspan1600" dy="16" x="146"><tspan id="SvgjsTspan1601" style="text-decoration:;">部，所以判断是一个新的请求，创建一个请</tspan></tspan><tspan id="SvgjsTspan1602" dy="16" x="146"><tspan id="SvgjsTspan1603" style="text-decoration:;">求：</tspan></tspan><tspan id="SvgjsTspan1604" dy="16" x="146"><tspan id="SvgjsTspan1605" style="text-decoration:;">const incoming = parser.incoming = new </tspan></tspan><tspan id="SvgjsTspan1606" dy="16" x="146"><tspan id="SvgjsTspan1607" style="text-decoration:;">ParserIncomingMessage(socket);（93）</tspan></tspan><tspan id="SvgjsTspan1608" dy="16" x="146"><tspan id="SvgjsTspan1609" style="text-decoration:;">然后调用：</tspan></tspan><tspan id="SvgjsTspan1610" dy="16" x="146"><tspan id="SvgjsTspan1611" style="text-decoration:;">parser.onIncoming（117）</tspan></tspan></text></g></g><g id="SvgjsG1612" transform="translate(2530.1526100852298,3814.421875)"><path id="SvgjsPath1613" d="M0 140Q9 140 9 131L9 79Q9 70 22 70Q9 70 9 61L9 9Q9 0 0 0 " stroke="rgba(50,50,50,1)" stroke-width="2" fill="none"></path><path id="SvgjsPath1614" d="M0 0L100 0L100 140L0 140Z " stroke="none" fill="none"></path><g id="SvgjsG1615"><text id="SvgjsText1616" font-family="微软雅黑" text-anchor="start" font-size="13px" width="71" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="52.05" transform="rotate(0)"><tspan id="SvgjsTspan1617" dy="16" x="27"><tspan id="SvgjsTspan1618" style="text-decoration:;fill: rgb(255, 51, 51);">/lib/_http_c</tspan></tspan><tspan id="SvgjsTspan1619" dy="16" x="27"><tspan id="SvgjsTspan1620" style="text-decoration:;fill: rgb(255, 51, 51);">ommon.js</tspan></tspan></text></g></g><g id="SvgjsG1621" transform="translate(2148.97710063029,2663.7552083333303)"><path id="SvgjsPath1622" d="M0 40L60 0L120 40L60 80Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1623"><text id="SvgjsText1624" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="91" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="22.45" transform="rotate(0)"><tspan id="SvgjsTspan1625" dy="16" x="60.5"><tspan id="SvgjsTspan1626" style="text-decoration:;">解析完一段，判</tspan></tspan><tspan id="SvgjsTspan1627" dy="16" x="60.5"><tspan id="SvgjsTspan1628" style="text-decoration:;">断是否为头部</tspan></tspan></text></g></g><g id="SvgjsG1629" transform="translate(2247.0625,3854.875)"><path id="SvgjsPath1630" d="M0 0L261.25 0L261.25 137.046875L0 137.046875Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1631"><text id="SvgjsText1632" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="237" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="26.5734375" transform="rotate(0)"><tspan id="SvgjsTspan1633" dy="16" x="131.5"><tspan id="SvgjsTspan1634" style="text-decoration:;">body数据解析完毕，调用其回调（把解析</tspan></tspan><tspan id="SvgjsTspan1635" dy="16" x="131.5"><tspan id="SvgjsTspan1636" style="text-decoration:;">的数据传过去）：function </tspan></tspan><tspan id="SvgjsTspan1637" dy="16" x="131.5"><tspan id="SvgjsTspan1638" style="text-decoration:;">parserOnBody(b, start, len) {    ...    </tspan></tspan><tspan id="SvgjsTspan1639" dy="16" x="131.5"><tspan id="SvgjsTspan1640" style="text-decoration:;">const ret = stream.push(slice);    ...  }}</tspan></tspan></text></g></g><g id="SvgjsG1641"><path id="SvgjsPath1642" d="M2208.97710063029 2623.171875L2208.97710063029 2643.463541666665L2208.97710063029 2643.463541666665L2208.97710063029 2663.7552083333303 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1643)"></path></g><g id="SvgjsG1645" transform="translate(1731.7390495589445,4014.421875)"><path id="SvgjsPath1646" d="M0 0L434.07345044105546 0L434.07345044105546 141.25L0 141.25Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1647"><text id="SvgjsText1648" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="423" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="36.675" transform="rotate(0)"><tspan id="SvgjsTspan1649" dy="16" x="218"><tspan id="SvgjsTspan1650" style="text-decoration:;">创建完后，触发request事件：</tspan></tspan><tspan id="SvgjsTspan1651" dy="16" x="218"><tspan id="SvgjsTspan1652" style="text-decoration:;">function parserOnIncoming(server, socket, state, req, keepAlive) {  ...  </tspan></tspan><tspan id="SvgjsTspan1653" dy="16" x="218"><tspan id="SvgjsTspan1654" style="text-decoration:;">state.incoming.push(req);  const res = new server[kServerResponse]</tspan></tspan><tspan id="SvgjsTspan1655" dy="16" x="218"><tspan id="SvgjsTspan1656" style="text-decoration:;">(req);  ...    server.emit('request', req, res);}（717）</tspan></tspan></text></g></g><g id="SvgjsG1657" transform="translate(2530.1526100852298,4018.171875)"><path id="SvgjsPath1658" d="M0 218.75Q9 218.75 9 209.75L9 118.375Q9 109.375 22 109.375Q9 109.375 9 100.375L9 9Q9 0 0 0 " stroke="rgba(50,50,50,1)" stroke-width="2" fill="none"></path><path id="SvgjsPath1659" d="M0 0L106.11232974943323 0L106.11232974943323 218.75L0 218.75Z " stroke="none" fill="none"></path><g id="SvgjsG1660"><text id="SvgjsText1661" font-family="微软雅黑" text-anchor="start" font-size="13px" width="78" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="91.425" transform="rotate(0)"><tspan id="SvgjsTspan1662" dy="16" x="27"><tspan id="SvgjsTspan1663" style="text-decoration:;fill: rgb(255, 51, 51);">/lib/_http_se</tspan></tspan><tspan id="SvgjsTspan1664" dy="16" x="27"><tspan id="SvgjsTspan1665" style="text-decoration:;fill: rgb(255, 51, 51);">rver.js</tspan></tspan></text></g></g><g id="SvgjsG1666"><path id="SvgjsPath1667" d="M1895.6545369172122 3960.671875L1895.6545369172122 3987.546875L1948.7757747794724 3987.546875L1948.7757747794724 4014.421875 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1668)"></path></g><g id="SvgjsG1670" transform="translate(2247.0625,4515.671875)"><path id="SvgjsPath1671" d="M0 0L261.25 0L261.25 87.5L0 87.5Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1672"><text id="SvgjsText1673" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="227" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="17.8" transform="rotate(0)"><tspan id="SvgjsTspan1674" dy="16" x="131.5"><tspan id="SvgjsTspan1675" style="text-decoration:;">调用readableAddChunk：</tspan></tspan><tspan id="SvgjsTspan1676" dy="16" x="131.5"><tspan id="SvgjsTspan1677" style="text-decoration:;">return readableAddChunk(this, chunk, </tspan></tspan><tspan id="SvgjsTspan1678" dy="16" x="131.5"><tspan id="SvgjsTspan1679" style="text-decoration:;">encoding, false); （220）</tspan></tspan></text></g></g><g id="SvgjsG1680" transform="translate(2523.3125,4521.921875)"><path id="SvgjsPath1681" d="M0 616.25Q9 616.25 9 607.25L9 317.125Q9 308.125 22 308.125Q9 308.125 9 299.125L9 9Q9 0 0 0 " stroke="rgba(50,50,50,1)" stroke-width="2" fill="none"></path><path id="SvgjsPath1682" d="M0 0L95 0L95 616.25L0 616.25Z " stroke="none" fill="none"></path><g id="SvgjsG1683"><text id="SvgjsText1684" font-family="微软雅黑" text-anchor="start" font-size="13px" width="62" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="290.175" transform="rotate(0)"><tspan id="SvgjsTspan1685" dy="16" x="27"><tspan id="SvgjsTspan1686" style="text-decoration:;fill: rgb(255, 51, 51);">_steam_re</tspan></tspan><tspan id="SvgjsTspan1687" dy="16" x="27"><tspan id="SvgjsTspan1688" style="text-decoration:;fill: rgb(255, 51, 51);">adable.js</tspan></tspan></text></g></g><g id="SvgjsG1689" transform="translate(2317.6875,4649.421875)"><path id="SvgjsPath1690" d="M0 40L60 0L120 40L60 80Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1691"><text id="SvgjsText1692" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="78" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="30.45" transform="rotate(0)"><tspan id="SvgjsTspan1693" dy="16" x="60.5"><tspan id="SvgjsTspan1694" style="text-decoration:;">流是否在流动</tspan></tspan></text></g></g><g id="SvgjsG1695" transform="translate(1952.0625,4778.171875)"><path id="SvgjsPath1696" d="M0 0L271.25 0L271.25 135.3125L0 135.3125Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1697"><text id="SvgjsText1698" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="241" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="41.70625" transform="rotate(0)"><tspan id="SvgjsTspan1699" dy="16" x="136.5"><tspan id="SvgjsTspan1700" style="text-decoration:;">先暂存到readable的buf中（后续会自动消</tspan></tspan><tspan id="SvgjsTspan1701" dy="16" x="136.5"><tspan id="SvgjsTspan1702" style="text-decoration:;">费的）：</tspan></tspan><tspan id="SvgjsTspan1703" dy="16" x="136.5"><tspan id="SvgjsTspan1704" style="text-decoration:;">state.buffer.push(chunk);（312）</tspan></tspan></text></g></g><g id="SvgjsG1705"><path id="SvgjsPath1706" d="M2377.6875 4603.171875L2377.6875 4626.296875L2377.6875 4626.296875L2377.6875 4649.421875 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1707)"></path></g><g id="SvgjsG1709"><path id="SvgjsPath1710" d="M2377.6875 3991.921875L2377.6875 4253.796875L2377.6875 4253.796875L2377.6875 4515.671875 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1711)"></path></g><g id="SvgjsG1713"><path id="SvgjsPath1714" d="M2317.6875 4689.421875L2109.7265625 4689.421875L2109.7265625 4780.588169642857 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1715)"></path><rect id="SvgjsRect1717" width="13" height="16" x="2161.6238839285716" y="4681.421875" fill="#ffffff"></rect><text id="SvgjsText1718" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="13" fill="#323232" font-weight="400" align="top" font-style="" opacity="1" y="4679.471875" transform="rotate(0)"><tspan id="SvgjsTspan1719" dy="16" x="2168.1238839285716"><tspan id="SvgjsTspan1720" style="text-decoration:;">否</tspan></tspan></text></g><g id="SvgjsG1721" transform="translate(2298.909263924803,4778.484375)"><path id="SvgjsPath1722" d="M0 0L215.65323607519713 0L215.65323607519713 134.6875L0 134.6875Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1723"><text id="SvgjsText1724" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="160" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="41.39375" transform="rotate(0)"><tspan id="SvgjsTspan1725" dy="16" x="108.5"><tspan id="SvgjsTspan1726" style="text-decoration:;">直接将数据emit出去：</tspan></tspan><tspan id="SvgjsTspan1727" dy="16" x="108.5"><tspan id="SvgjsTspan1728" style="text-decoration:;">stream.emit('data', chunk);</tspan></tspan><tspan id="SvgjsTspan1729" dy="16" x="108.5"><tspan id="SvgjsTspan1730" style="text-decoration:;">（305）</tspan></tspan></text></g></g><g id="SvgjsG1731"><path id="SvgjsPath1732" d="M2437.6875 4689.421875L2441.779532824621 4689.421875L2441.779532824621 4780.889508928572 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1733)"></path><rect id="SvgjsRect1735" width="13" height="16" x="2435.279532824621" y="4725.109675551976" fill="#ffffff"></rect><text id="SvgjsText1736" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="13" fill="#323232" font-weight="400" align="top" font-style="" opacity="1" y="4723.159675551976" transform="rotate(0)"><tspan id="SvgjsTspan1737" dy="16" x="2441.779532824621"><tspan id="SvgjsTspan1738" style="text-decoration:;">是</tspan></tspan></text></g><g id="SvgjsG1739" transform="translate(2267.0625,3975.671875)"><path id="SvgjsPath1740" d="M14.25 62.12499999999999C-11.875 44.375 4.75 31.062499999999996 10.6875 26.625C8.3125 4.4375 38 0 49.875 8.875C59.375 -4.4375 89.0625 0 89.0625 13.3125C112.8125 8.875 122.3125 26.625 112.8125 48.81250000000001C121.125 66.5625 112.8125 88.75 85.5 79.875C79.5625 91.41250000000001 55.8125 91.41250000000001 49.875 79.875C38 88.75 14.25 84.3125 14.25 62.12499999999999Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1741"><text id="SvgjsText1742" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="91" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="18.425" transform="rotate(0)"><tspan id="SvgjsTspan1743" dy="16" x="60"><tspan id="SvgjsTspan1744" style="text-decoration:;">此stream是js世</tspan></tspan><tspan id="SvgjsTspan1745" dy="16" x="60"><tspan id="SvgjsTspan1746" style="text-decoration:;">界中的readable </tspan></tspan><tspan id="SvgjsTspan1747" dy="16" x="60"><tspan id="SvgjsTspan1748" style="text-decoration:;">stream</tspan></tspan></text></g></g><g id="SvgjsG1749"><path id="SvgjsPath1750" d="M2406.7358819624014 4913.171875L2406.7358819624014 7116.713541666668L1930.8125 7116.713541666668 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1751)"></path></g><g id="SvgjsG1753" transform="translate(2526.732555042615,6592.279017857152)"><path id="SvgjsPath1754" d="M0 140Q9 140 9 131L9 79Q9 70 22 70Q9 70 9 61L9 9Q9 0 0 0 " stroke="rgba(50,50,50,1)" stroke-width="2" fill="none"></path><path id="SvgjsPath1755" d="M0 0L100 0L100 140L0 140Z " stroke="none" fill="none"></path><g id="SvgjsG1756"><text id="SvgjsText1757" font-family="微软雅黑" text-anchor="start" font-size="13px" width="53" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="44.05" transform="rotate(0)"><tspan id="SvgjsTspan1758" dy="16" x="27"><tspan id="SvgjsTspan1759" style="text-decoration:;fill: rgb(255, 51, 51);">业务</tspan></tspan><tspan id="SvgjsTspan1760" dy="16" x="27"><tspan id="SvgjsTspan1761" style="text-decoration:;fill: rgb(255, 51, 51);">js：node </tspan></tspan><tspan id="SvgjsTspan1762" dy="16" x="27"><tspan id="SvgjsTspan1763" style="text-decoration:;fill: rgb(255, 51, 51);">xx.js中的</tspan></tspan><tspan id="SvgjsTspan1764" dy="16" x="27"><tspan id="SvgjsTspan1765" style="text-decoration:;fill: rgb(255, 51, 51);">xx.js</tspan></tspan></text></g></g><g id="SvgjsG1766" transform="translate(302.4791666666667,6615.564573688266)"><path id="SvgjsPath1767" d="M80.66145833333314 0L0 42.77934751157645L29.03812499999993 109.6906346450678L132.28479166666634 109.6906346450678L161.3229166666663 42.77934751157645Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1768"><text id="SvgjsText1769" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="117" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="45.12211492091398" transform="rotate(0)"><tspan id="SvgjsTspan1770" dy="16" x="81.5"><tspan id="SvgjsTspan1771" style="text-decoration:;">执行业务逻辑代码：</tspan></tspan><tspan id="SvgjsTspan1772" dy="16" x="81.5"><tspan id="SvgjsTspan1773" style="text-decoration:;">node xx.js中的xx.js</tspan></tspan></text></g></g><g id="SvgjsG1774"><path id="SvgjsPath1775" d="M447.375 633.171875L447.375 3624.368224344133L383.14062499999983 3624.368224344133L383.14062499999983 6615.564573688266 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1776)"></path></g><g id="SvgjsG1778" transform="translate(55.21064814814763,3702.3385416666697)"><path id="SvgjsPath1779" d="M0 0L2728.333333333334 0L2728.333333333334 20L0 20Z " stroke-dasharray="3,4" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#009900"></path><g id="SvgjsG1780"><text id="SvgjsText1781" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="687" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="0.050000000000000044" transform="rotate(0)"><tspan id="SvgjsTspan1782" dy="16" x="1365"><tspan id="SvgjsTspan1783" style="text-decoration:;fill: rgb(255, 255, 255);font-weight: bold;">c++/js分界线，也就是bind发挥作用的地方。这里c++调用js一般通过MakeCallBack的方式（InternalMakeCallBack）</tspan></tspan></text></g></g><g id="SvgjsG1784" transform="translate(542.4791666666667,6585.255208333334)"><path id="SvgjsPath1785" d="M0 71.45138888888914L165 0L330 71.45138888888914L165 142.90277777777828Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1786"><text id="SvgjsText1787" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="185" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="54.21590277777803" transform="rotate(0)"><tspan id="SvgjsTspan1788" dy="16" x="165.5"><tspan id="SvgjsTspan1789" style="text-decoration:;">是否使用http解析器</tspan></tspan><tspan id="SvgjsTspan1790" dy="16" x="165.5"><tspan id="SvgjsTspan1791" style="text-decoration:;">（即是否通过http.js启动服务 ）</tspan></tspan></text></g></g><g id="SvgjsG1792" transform="translate(807.479166666666,5176.921875)"><path id="SvgjsPath1793" d="M0 0L293.33333333333405 0L293.33333333333405 125L0 125Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1794"><text id="SvgjsText1795" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="274" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="36.55" transform="rotate(0)"><tspan id="SvgjsTspan1796" dy="16" x="147.5"><tspan id="SvgjsTspan1797" style="text-decoration:;">调用createServerHandle，创建一个服务实例：</tspan></tspan><tspan id="SvgjsTspan1798" dy="16" x="147.5"><tspan id="SvgjsTspan1799" style="text-decoration:;">handle = new TCP(TCPConstants.SERVER);</tspan></tspan><tspan id="SvgjsTspan1800" dy="16" x="147.5"><tspan id="SvgjsTspan1801" style="text-decoration:;">(1218)</tspan></tspan></text></g></g><g id="SvgjsG1802"><path id="SvgjsPath1803" d="M872.4791666666658 6656.7065972222235L928.3124999999995 6656.7065972222235L928.3124999999995 6662.279017857152L984.1458333333334 6662.279017857152 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1804)"></path><rect id="SvgjsRect1806" width="13" height="16" x="921.8124999999995" y="6651.492807539687" fill="#ffffff"></rect><text id="SvgjsText1807" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="13" fill="#323232" font-weight="400" align="top" font-style="" opacity="1" y="6649.542807539688" transform="rotate(0)"><tspan id="SvgjsTspan1808" dy="16" x="928.3124999999995"><tspan id="SvgjsTspan1809" style="text-decoration:;">否</tspan></tspan></text></g><g id="SvgjsG1810"><path id="SvgjsPath1811" d="M707.4791666666661 6728.157986111112L707.4791666666661 7116.713541666668L1517.9114699460126 7116.713541666668 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1812)"></path><rect id="SvgjsRect1814" width="13" height="16" x="911.9175405285615" y="7108.713541666667" fill="#ffffff"></rect><text id="SvgjsText1815" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="13" fill="#323232" font-weight="400" align="top" font-style="" opacity="1" y="7106.763541666667" transform="rotate(0)"><tspan id="SvgjsTspan1816" dy="16" x="918.4175405285615"><tspan id="SvgjsTspan1817" style="text-decoration:;">是</tspan></tspan></text></g><g id="SvgjsG1818"><path id="SvgjsPath1819" d="M463.802083333333 6658.343921199843L503.1406249999999 6658.343921199843L503.1406249999999 6656.706597222223L542.4791666666667 6656.706597222223 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1820)"></path></g><g id="SvgjsG1822" transform="translate(1012.479166666667,3598.151041666667)"><path id="SvgjsPath1823" d="M0 0L263.6979166666663 0L263.6979166666663 90.3333333333344L0 90.3333333333344Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1824"><text id="SvgjsText1825" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="241" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="27.216666666667198" transform="rotate(0)"><tspan id="SvgjsTspan1826" dy="16" x="132.5"><tspan id="SvgjsTspan1827" style="text-decoration:;">调用/src/tcp_wrap.cc的方法，创建tcp实</tspan></tspan><tspan id="SvgjsTspan1828" dy="16" x="132.5"><tspan id="SvgjsTspan1829" style="text-decoration:;">例</tspan></tspan></text></g></g><g id="SvgjsG1830"><path id="SvgjsPath1831" d="M954.145833333333 5176.921875L954.145833333333 4432.703125000001L1144.3281250000002 4432.703125000001L1144.3281250000002 3688.4843750000014 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1832)"></path></g><g id="SvgjsG1834" transform="translate(24.99479166666743,7243.796874999993)"><path id="SvgjsPath1835" d="M0 0L179.33333333333258 0L179.33333333333258 67L0 67Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1836"><text id="SvgjsText1837" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="127" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="23.55" transform="rotate(0)"><tspan id="SvgjsTspan1838" dy="16" x="90.5"><tspan id="SvgjsTspan1839" style="text-decoration:;">author：jimmiezhang</tspan></tspan></text></g></g><g id="SvgjsG1840"><path id="SvgjsPath1841" d="M1218.1458333333333 3688.151041666667L1218.1458333333333 4435.465985082303L1215.6458333333335 4435.465985082303L1215.6458333333335 5182.780928497939 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1842)"></path></g><g id="SvgjsG1844" transform="translate(1113.8125,5180.440393518514)"><path id="SvgjsPath1845" d="M0 0L203.66666666666674 0L203.66666666666674 117.9629629629726L0 117.9629629629726Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1846"><text id="SvgjsText1847" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="182" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="41.031481481486296" transform="rotate(0)"><tspan id="SvgjsTspan1848" dy="16" x="102.5"><tspan id="SvgjsTspan1849" style="text-decoration:;">得到一个tcp实例，把这个tcp实</tspan></tspan><tspan id="SvgjsTspan1850" dy="16" x="102.5"><tspan id="SvgjsTspan1851" style="text-decoration:;">例保存为handle</tspan></tspan></text></g></g><g id="SvgjsG1852"><path id="SvgjsPath1853" d="M1317.4791666666667 5239.421874999999L1331.3790089862323 5239.421874999999L1331.3790089862323 5238.290393518513L1345.278851305798 5238.290393518513 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1854)"></path></g><g id="SvgjsG1856" transform="translate(1345.278851305798,5180.440393518514)"><path id="SvgjsPath1857" d="M155.83333333333337 0L0 57.850000000000236L56.10000000000001 148.33333333333394L255.56666666666672 148.33333333333394L311.66666666666674 57.850000000000236Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1858"><text id="SvgjsText1859" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="270" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="51.34166666666701" transform="rotate(0)"><tspan id="SvgjsTspan1860" dy="16" x="156.5"><tspan id="SvgjsTspan1861" style="text-decoration:;">net.js中封装一个onconnection函数，保存到这</tspan></tspan><tspan id="SvgjsTspan1862" dy="16" x="156.5"><tspan id="SvgjsTspan1863" style="text-decoration:;">个handle的onconnection上：</tspan></tspan><tspan id="SvgjsTspan1864" dy="16" x="156.5"><tspan id="SvgjsTspan1865" style="text-decoration:;">this._handle.onconnection = onconnection;</tspan></tspan><tspan id="SvgjsTspan1866" dy="16" x="156.5"><tspan id="SvgjsTspan1867" style="text-decoration:;">(1285)</tspan></tspan></text></g></g><g id="SvgjsG1868" transform="translate(1834.5625,4961.921875)"><path id="SvgjsPath1869" d="M0 0L155.87476393286943 0L155.87476393286943 107.5L0 107.5Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1870"><text id="SvgjsText1871" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="135" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="11.8" transform="rotate(0)"><tspan id="SvgjsTspan1872" dy="16" x="78.5"><tspan id="SvgjsTspan1873" style="text-decoration:;">readable stream的on</tspan></tspan><tspan id="SvgjsTspan1874" dy="16" x="78.5"><tspan id="SvgjsTspan1875" style="text-decoration:;">方法，调用resume，在</tspan></tspan><tspan id="SvgjsTspan1876" dy="16" x="78.5"><tspan id="SvgjsTspan1877" style="text-decoration:;">下一个tick中执</tspan></tspan><tspan id="SvgjsTspan1878" dy="16" x="78.5"><tspan id="SvgjsTspan1879" style="text-decoration:;">行_resume：</tspan></tspan><tspan id="SvgjsTspan1880" dy="16" x="78.5"><tspan id="SvgjsTspan1881" style="text-decoration:;">this.resume();（865）</tspan></tspan></text></g></g><g id="SvgjsG1882" transform="translate(58.997685185184835,6560.625578703718)"><path id="SvgjsPath1883" d="M0 0L2715.1481481481487 0L2715.1481481481487 20L0 20Z " stroke-dasharray="3,4" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#66ff66"></path><g id="SvgjsG1884"><text id="SvgjsText1885" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="138" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="0.050000000000000044" transform="rotate(0)"><tspan id="SvgjsTspan1886" dy="16" x="1358.5"><tspan id="SvgjsTspan1887" style="text-decoration:;caret-color: rgb(255, 255, 255);font-weight: bold;fill: rgb(255, 0, 0);">native js/业务js 分界钱</tspan></tspan></text></g></g><g id="SvgjsG1888" transform="translate(2530.344884792048,5180.440393518514)"><path id="SvgjsPath1889" d="M0 316.4814814814863Q9 316.4814814814863 9 307.4814814814863L9 167.24074074074315Q9 158.24074074074315 22 158.24074074074315Q9 158.24074074074315 9 149.24074074074315L9 9Q9 0 0 0 " stroke="rgba(50,50,50,1)" stroke-width="2" fill="none"></path><path id="SvgjsPath1890" d="M0 0L96.38767025056677 0L96.38767025056677 316.4814814814863L0 316.4814814814863Z " stroke="none" fill="none"></path><g id="SvgjsG1891"><text id="SvgjsText1892" font-family="微软雅黑" text-anchor="start" font-size="13px" width="33" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="148.29074074074316" transform="rotate(0)"><tspan id="SvgjsTspan1893" dy="16" x="27"><tspan id="SvgjsTspan1894" style="text-decoration:;fill: rgb(255, 51, 51);">net.js</tspan></tspan></text></g></g><g id="SvgjsG1895" transform="translate(2534.9436816077464,3593.171875)"><path id="SvgjsPath1896" d="M0 81.25Q9 81.25 9 73.125L9 48.75Q9 40.625 22 40.625Q9 40.625 9 32.5L9 8.125Q9 0 0 0 " stroke="rgba(50,50,50,1)" stroke-width="2" fill="none"></path><path id="SvgjsPath1897" d="M0 0L160.86881839225362 0L160.86881839225362 81.25L0 81.25Z " stroke="none" fill="none"></path><g id="SvgjsG1898"><text id="SvgjsText1899" font-family="微软雅黑" text-anchor="start" font-size="13px" width="104" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="30.675" transform="rotate(0)"><tspan id="SvgjsTspan1900" dy="16" x="27"><tspan id="SvgjsTspan1901" style="text-decoration:;fill: rgb(255, 51, 51);">/src/tcp_wrap.cc</tspan></tspan></text></g></g><g id="SvgjsG1902" transform="translate(1366.070517972465,5370.097800925923)"><path id="SvgjsPath1903" d="M0 0L302.08333333333303 0L302.08333333333303 83.33333333333394L0 83.33333333333394Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1904"><text id="SvgjsText1905" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="238" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="15.71666666666697" transform="rotate(0)"><tspan id="SvgjsTspan1906" dy="16" x="152"><tspan id="SvgjsTspan1907" style="text-decoration:;">封装一个socket代表客户端实例，触发一</tspan></tspan><tspan id="SvgjsTspan1908" dy="16" x="152"><tspan id="SvgjsTspan1909" style="text-decoration:;">个connection事件：</tspan></tspan><tspan id="SvgjsTspan1910" dy="16" x="152"><tspan id="SvgjsTspan1911" style="text-decoration:;">self.emit('connection', socket);（1537）</tspan></tspan></text></g></g><g id="SvgjsG1912"><path id="SvgjsPath1913" d="M1501.1121846391316 5328.773726851848L1501.1121846391316 5349.435763888885L1517.1121846391316 5349.435763888885L1517.1121846391316 5370.097800925923 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1914)"></path></g><g id="SvgjsG1916" transform="translate(767.4791666666667,5328.773726851848)"><path id="SvgjsPath1917" d="M0 0L373.3333333333326 0L373.3333333333326 146.99276620370802L0 146.99276620370802Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1918"><text id="SvgjsText1919" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="344" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="-0.45361689814599226" transform="rotate(0)"><tspan id="SvgjsTspan1920" dy="16" x="187.5"><tspan id="SvgjsTspan1921" style="text-decoration:;">以net.js为例，创建一个server实例，注册一个connection事</tspan></tspan><tspan id="SvgjsTspan1922" dy="16" x="187.5"><tspan id="SvgjsTspan1923" style="text-decoration:;">件：</tspan></tspan><tspan id="SvgjsTspan1924" dy="16" x="187.5"><tspan id="SvgjsTspan1925" style="text-decoration:;">function Server(options, connectionListener) {</tspan></tspan><tspan id="SvgjsTspan1926" dy="16" x="187.5"><tspan id="SvgjsTspan1927" style="text-decoration:;">...</tspan></tspan><tspan id="SvgjsTspan1928" dy="16" x="187.5"><tspan id="SvgjsTspan1929" style="text-decoration:;">    if(xx){</tspan></tspan><tspan id="SvgjsTspan1930" dy="16" x="187.5"><tspan id="SvgjsTspan1931" style="text-decoration:;">this.on('connection', connectionListener);</tspan></tspan><tspan id="SvgjsTspan1932" dy="16" x="187.5"><tspan id="SvgjsTspan1933" style="text-decoration:;">...</tspan></tspan><tspan id="SvgjsTspan1934" dy="16" x="187.5"><tspan id="SvgjsTspan1935" style="text-decoration:;font-size: inherit;">};(1136)</tspan></tspan><tspan id="SvgjsTspan1936" dy="16" x="187.5"><tspan id="SvgjsTspan1937" style="text-decoration:;"> </tspan></tspan></text></g></g><g id="SvgjsG1938"><path id="SvgjsPath1939" d="M954.1458333333328 5328.773726851848L954.1458333333328 5315.347800925923L954.145833333333 5315.347800925923L954.145833333333 5301.921875 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1940)"></path></g><g id="SvgjsG1942" transform="translate(984.1458333333334,6621.706597222223)"><path id="SvgjsPath1943" d="M0 0L276.66666666666663 0L276.66666666666663 81.14484126985917L0 81.14484126985917Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1944"><text id="SvgjsText1945" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="254" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="14.622420634929586" transform="rotate(0)"><tspan id="SvgjsTspan1946" dy="16" x="139"><tspan id="SvgjsTspan1947" style="text-decoration:;">将业务代码net.createServer((socket) =&gt; {})</tspan></tspan><tspan id="SvgjsTspan1948" dy="16" x="139"><tspan id="SvgjsTspan1949" style="text-decoration:;">中的函数作为参数，调用net.js中的</tspan></tspan><tspan id="SvgjsTspan1950" dy="16" x="139"><tspan id="SvgjsTspan1951" style="text-decoration:;">createServer方法</tspan></tspan></text></g></g><g id="SvgjsG1952"><path id="SvgjsPath1953" d="M1122.4791666666667 6621.706597222223L1122.4791666666667 6048.413439505566L964.1458333333316 6048.413439505566L964.1458333333316 5475.12028178891 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1954)"></path></g><g id="SvgjsG1956" transform="translate(1179.1458333333335,6684.421875)"><path id="SvgjsPath1957" d="M10.799999999999999 49C-9 35 3.6 24.5 8.1 21C6.300000000000001 3.5 28.8 0 37.8 7C45 -3.5 67.5 0 67.5 10.5C85.5 7 92.7 21 85.5 38.5C91.8 52.5 85.5 70 64.8 63C60.300000000000004 72.10000000000001 42.3 72.10000000000001 37.8 63C28.8 70 10.799999999999999 66.5 10.799999999999999 49Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1958"><text id="SvgjsText1959" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="65" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="1.05" transform="rotate(0)"><tspan id="SvgjsTspan1960" dy="16" x="45.5"><tspan id="SvgjsTspan1961" style="text-decoration:;">这里就</tspan></tspan><tspan id="SvgjsTspan1962" dy="16" x="45.5"><tspan id="SvgjsTspan1963" style="text-decoration:;">是connecti</tspan></tspan><tspan id="SvgjsTspan1964" dy="16" x="45.5"><tspan id="SvgjsTspan1965" style="text-decoration:;">onLister的</tspan></tspan><tspan id="SvgjsTspan1966" dy="16" x="45.5"><tspan id="SvgjsTspan1967" style="text-decoration:;">源头代码</tspan></tspan></text></g></g><g id="SvgjsG1968"><path id="SvgjsPath1969" d="M1366.5058783581328 5444.171875L1222.4791666666667 5444.171875L1222.4791666666667 6621.921875 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1970)"></path></g><g id="SvgjsG1972" transform="translate(2530.344884792048,5675.671875)"><path id="SvgjsPath1973" d="M0 302.25Q8.093523041590378 302.25 8.093523041590378 293.25L8.093523041590378 160.125Q8.093523041590378 151.125 22 151.125Q8.093523041590378 151.125 8.093523041590378 142.125L8.093523041590378 9Q8.093523041590378 0 0 0 " stroke="rgba(50,50,50,1)" stroke-width="2" fill="none"></path><path id="SvgjsPath1974" d="M0 0L80.93523041590379 0L80.93523041590379 302.25L0 302.25Z " stroke="none" fill="none"></path><g id="SvgjsG1975"><text id="SvgjsText1976" font-family="微软雅黑" text-anchor="start" font-size="13px" width="38" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="141.175" transform="rotate(0)"><tspan id="SvgjsTspan1977" dy="16" x="27"><tspan id="SvgjsTspan1978" style="text-decoration:;fill: rgb(255, 51, 51);font-style: italic;">http.js</tspan></tspan></text></g></g><g id="SvgjsG1979" transform="translate(1517.9114699460126,7060.255208333335)"><path id="SvgjsPath1980" d="M0 0L412.90103005398737 0L412.90103005398737 112.91666666666606L0 112.91666666666606Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1981"><text id="SvgjsText1982" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="378" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="30.50833333333303" transform="rotate(0)"><tspan id="SvgjsTspan1983" dy="16" x="207"><tspan id="SvgjsTspan1984" style="text-decoration:;">将业务代码const server = http.createServer((req, res) =&gt; {  </tspan></tspan><tspan id="SvgjsTspan1985" dy="16" x="207"><tspan id="SvgjsTspan1986" style="text-decoration:;">req.on('data', () =&gt; {})});中的函数作为参数requestListener，传递</tspan></tspan><tspan id="SvgjsTspan1987" dy="16" x="207"><tspan id="SvgjsTspan1988" style="text-decoration:;">到http.js中的Server中</tspan></tspan></text></g></g><g id="SvgjsG1989" transform="translate(1560.6626228191365,5818.880208333337)"><path id="SvgjsPath1990" d="M0 0L245.61015287167675 0L245.61015287167675 76.875L0 76.875Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1991"><text id="SvgjsText1992" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="204" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="12.4875" transform="rotate(0)"><tspan id="SvgjsTspan1993" dy="16" x="123.5"><tspan id="SvgjsTspan1994" style="text-decoration:;">调用_http_server.js中的构建函数：</tspan></tspan><tspan id="SvgjsTspan1995" dy="16" x="123.5"><tspan id="SvgjsTspan1996" style="text-decoration:;">return new Server(opts, </tspan></tspan><tspan id="SvgjsTspan1997" dy="16" x="123.5"><tspan id="SvgjsTspan1998" style="text-decoration:;">requestListener);（42）</tspan></tspan></text></g></g><g id="SvgjsG1999" transform="translate(1855.3954391322486,7156.671875000002)"><path id="SvgjsPath2000" d="M10.799999999999999 49C-9 35 3.6 24.5 8.1 21C6.300000000000001 3.5 28.8 0 37.8 7C45 -3.5 67.5 0 67.5 10.5C85.5 7 92.7 21 85.5 38.5C91.8 52.5 85.5 70 64.8 63C60.300000000000004 72.10000000000001 42.3 72.10000000000001 37.8 63C28.8 70 10.799999999999999 66.5 10.799999999999999 49Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG2001"><text id="SvgjsText2002" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="69" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="1.05" transform="rotate(0)"><tspan id="SvgjsTspan2003" dy="16" x="45.5"><tspan id="SvgjsTspan2004" style="text-decoration:;">这里就</tspan></tspan><tspan id="SvgjsTspan2005" dy="16" x="45.5"><tspan id="SvgjsTspan2006" style="text-decoration:;">是requestLi</tspan></tspan><tspan id="SvgjsTspan2007" dy="16" x="45.5"><tspan id="SvgjsTspan2008" style="text-decoration:;">ster的源头</tspan></tspan><tspan id="SvgjsTspan2009" dy="16" x="45.5"><tspan id="SvgjsTspan2010" style="text-decoration:;">代码</tspan></tspan></text></g></g><g id="SvgjsG2011"><path id="SvgjsPath2012" d="M1530.8125 7060.671875L1530.8125 6478.213541666668L1683.4676992549748 6478.213541666668L1683.4676992549748 5895.755208333337 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker2013)"></path></g><g id="SvgjsG2015" transform="translate(2536.264939834663,5513.671875000001)"><path id="SvgjsPath2016" d="M0 140Q9 140 9 131L9 79Q9 70 22 70Q9 70 9 61L9 9Q9 0 0 0 " stroke="rgba(50,50,50,1)" stroke-width="2" fill="none"></path><path id="SvgjsPath2017" d="M0 0L100 0L100 140L0 140Z " stroke="none" fill="none"></path><g id="SvgjsG2018"><text id="SvgjsText2019" font-family="微软雅黑" text-anchor="start" font-size="13px" width="74" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="52.05" transform="rotate(0)"><tspan id="SvgjsTspan2020" dy="16" x="27"><tspan id="SvgjsTspan2021" style="text-decoration:;fill: rgb(255, 51, 51);font-style: italic;">_http_server</tspan></tspan><tspan id="SvgjsTspan2022" dy="16" x="27"><tspan id="SvgjsTspan2023" style="text-decoration:;fill: rgb(255, 51, 51);font-style: italic;">.js</tspan></tspan></text></g></g><g id="SvgjsG2024" transform="translate(1339.693595608052,5519.921875)"><path id="SvgjsPath2025" d="M0 0L236 0L236 69L0 69Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG2026"><text id="SvgjsText2027" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="215" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="8.55" transform="rotate(0)"><tspan id="SvgjsTspan2028" dy="16" x="118.5"><tspan id="SvgjsTspan2029" style="text-decoration:;">调用net.js中的函数，创建一个服务：</tspan></tspan><tspan id="SvgjsTspan2030" dy="16" x="118.5"><tspan id="SvgjsTspan2031" style="text-decoration:;">net.Server.call(this, { </tspan></tspan><tspan id="SvgjsTspan2032" dy="16" x="118.5"><tspan id="SvgjsTspan2033" style="text-decoration:;">allowHalfOpen: true });（346）</tspan></tspan></text></g></g><g id="SvgjsG2034"><path id="SvgjsPath2035" d="M1683.4676992549748 5818.880208333337L1683.4676992549748 5703.901041666668L1457.693595608052 5703.901041666668L1457.693595608052 5588.921875 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker2036)"></path></g><g id="SvgjsG2038"><path id="SvgjsPath2039" d="M1698.8125 5818.921875L1698.8125 5715.2265625L1692.9229799115046 5715.2265625L1692.9229799115046 5611.53125 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker2040)"></path></g><g id="SvgjsG2042"><path id="SvgjsPath2043" d="M1744.8125 5818.921875L1744.8125 5724.925274884261L2053.1288336884427 5724.925274884261L2053.1288336884427 5630.928674768521 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker2044)"></path></g><g id="SvgjsG2046" transform="translate(1644.8632802944721,1915.921875)"><path id="SvgjsPath2047" d="M0 39L93.30315314049949 0L186.60630628099898 39L93.30315314049949 78Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG2048"><text id="SvgjsText2049" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="155" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="29.44" transform="rotate(0)"><tspan id="SvgjsTspan2050" dy="16" x="94"><tspan id="SvgjsTspan2051" style="text-decoration:;">是否通过http.js启动的服务</tspan></tspan></text></g></g><g id="SvgjsG2052"><path id="SvgjsPath2053" d="M1738.1664334349716 1881.609375L1738.1664334349716 1898.765625L1738.1664334349716 1898.765625L1738.1664334349716 1915.921875 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker2054)"></path></g><g id="SvgjsG2056"><path id="SvgjsPath2057" d="M1644.8632802944721 1954.921875L1501.1121846391316 1954.921875L1501.1121846391316 5180.440393518514 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker2058)"></path><rect id="SvgjsRect2060" width="85" height="32" x="1530.4877324668018" y="1938.921875" fill="#ffffff"></rect><text id="SvgjsText2061" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="85" fill="#323232" font-weight="400" align="top" font-style="" opacity="1" y="1936.971875" transform="rotate(0)"><tspan id="SvgjsTspan2062" dy="16" x="1572.9877324668018"><tspan id="SvgjsTspan2063" style="text-decoration:;">否。通过net.js</tspan></tspan><tspan id="SvgjsTspan2064" dy="16" x="1572.9877324668018"><tspan id="SvgjsTspan2065" style="text-decoration:;">创建的服务</tspan></tspan></text></g><g id="SvgjsG2066" transform="translate(2530.344884792048,4271.921874999998)"><path id="SvgjsPath2067" d="M0 140Q9 140 9 131L9 79Q9 70 22 70Q9 70 9 61L9 9Q9 0 0 0 " stroke="rgba(50,50,50,1)" stroke-width="2" fill="none"></path><path id="SvgjsPath2068" d="M0 0L100 0L100 140L0 140Z " stroke="none" fill="none"></path><g id="SvgjsG2069"><text id="SvgjsText2070" font-family="微软雅黑" text-anchor="start" font-size="13px" width="72" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="36.05" transform="rotate(0)"><tspan id="SvgjsTspan2071" dy="16" x="27"><tspan id="SvgjsTspan2072" style="text-decoration:;fill: rgb(255, 102, 102);">/lib/internal</tspan></tspan><tspan id="SvgjsTspan2073" dy="16" x="27"><tspan id="SvgjsTspan2074" style="text-decoration:;fill: rgb(255, 102, 102);">/stream_ba</tspan></tspan><tspan id="SvgjsTspan2075" dy="16" x="27"><tspan id="SvgjsTspan2076" style="text-decoration:;fill: rgb(255, 102, 102);">se_common</tspan></tspan><tspan id="SvgjsTspan2077" dy="16" x="27"><tspan id="SvgjsTspan2078" style="text-decoration:;fill: rgb(255, 102, 102);">s.js</tspan></tspan></text></g></g><g id="SvgjsG2079" transform="translate(1528.3124999999995,4299.421874999998)"><path id="SvgjsPath2080" d="M0 0L347.5000000000002 0L347.5000000000002 97.50000000000091L0 97.50000000000091Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG2081"><text id="SvgjsText2082" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="315" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="22.800000000000455" transform="rotate(0)"><tspan id="SvgjsTspan2083" dy="16" x="174.5"><tspan id="SvgjsTspan2084" style="text-decoration:;">调用steam_base_common中的方法：</tspan></tspan><tspan id="SvgjsTspan2085" dy="16" x="174.5"><tspan id="SvgjsTspan2086" style="text-decoration:;">function onStreamRead(arrayBuffer) {//（168）  ...  </tspan></tspan><tspan id="SvgjsTspan2087" dy="16" x="174.5"><tspan id="SvgjsTspan2088" style="text-decoration:;">result = stream.push(buf);（191）  ...}</tspan></tspan></text></g></g><g id="SvgjsG2089"><path id="SvgjsPath2090" d="M2148.627740661349 2389.421875L1702.0624999999995 2389.421875L1702.0624999999995 4299.421874999998 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker2091)"></path><rect id="SvgjsRect2093" width="299" height="16" x="1708.3125" y="2393.921875" fill="#ffffff"></rect><text id="SvgjsText2094" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="299" fill="#323232" font-weight="400" align="top" font-style="" opacity="1" y="2391.971875" transform="rotate(0)"><tspan id="SvgjsTspan2095" dy="16" x="1857.8125"><tspan id="SvgjsTspan2096" style="text-decoration:;">否（通过net.js启动，自己解析；适用搭建tcp服务）</tspan></tspan></text></g><g id="SvgjsG2097" transform="translate(1720.5348693993224,2753.171875)"><path id="SvgjsPath2098" d="M0 0L415.66645144628137 0L415.66645144628137 187.5L0 187.5Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG2099"><text id="SvgjsText2100" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="385" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="19.8" transform="rotate(0)"><tspan id="SvgjsTspan2101" dy="16" x="208.5"><tspan id="SvgjsTspan2102" style="text-decoration:;">llhttp解析完头部后，调用：</tspan></tspan><tspan id="SvgjsTspan2103" dy="16" x="208.5"><tspan id="SvgjsTspan2104" style="text-decoration:;">int on_headers_complete() { //(275)</tspan></tspan><tspan id="SvgjsTspan2105" dy="16" x="208.5"><tspan id="SvgjsTspan2106" style="text-decoration:;">...</tspan></tspan><tspan id="SvgjsTspan2107" dy="16" x="208.5"><tspan id="SvgjsTspan2108" style="text-decoration:;">{      InternalCallbackScope callback_scope(          this, </tspan></tspan><tspan id="SvgjsTspan2109" dy="16" x="208.5"><tspan id="SvgjsTspan2110" style="text-decoration:;">InternalCallbackScope::kSkipTaskQueues);      head_response = </tspan></tspan><tspan id="SvgjsTspan2111" dy="16" x="208.5"><tspan id="SvgjsTspan2112" style="text-decoration:;">cb.As&lt;Function&gt;()-&gt;Call(          env()-&gt;context(), object(), </tspan></tspan><tspan id="SvgjsTspan2113" dy="16" x="208.5"><tspan id="SvgjsTspan2114" style="text-decoration:;">arraysize(argv), argv);      if (head_response.IsEmpty()) </tspan></tspan><tspan id="SvgjsTspan2115" dy="16" x="208.5"><tspan id="SvgjsTspan2116" style="text-decoration:;">callback_scope.MarkAsFailed();    }...</tspan></tspan><tspan id="SvgjsTspan2117" dy="16" x="208.5"><tspan id="SvgjsTspan2118" style="text-decoration:;">}（345)</tspan></tspan></text></g></g><g id="SvgjsG2119"><path id="SvgjsPath2120" d="M2148.97710063029 2703.7552083333303L1928.3680951224628 2703.7552083333303L1928.3680951224628 2753.171875 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker2121)"></path><rect id="SvgjsRect2123" width="13" height="16" x="2007.4642645430417" y="2695.7552083333303" fill="#ffffff"></rect><text id="SvgjsText2124" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="13" fill="#323232" font-weight="400" align="top" font-style="" opacity="1" y="2693.8052083333305" transform="rotate(0)"><tspan id="SvgjsTspan2125" dy="16" x="2013.9642645430417"><tspan id="SvgjsTspan2126" style="text-decoration:;">是</tspan></tspan></text></g><g id="SvgjsG2127" transform="translate(2173.3916134705446,2753.171875)"><path id="SvgjsPath2128" d="M0 0L328.6708865294554 0L328.6708865294554 187.5L0 187.5Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG2129"><text id="SvgjsText2130" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="307" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="27.8" transform="rotate(0)"><tspan id="SvgjsTspan2131" dy="16" x="165"><tspan id="SvgjsTspan2132" style="text-decoration:;">llhttp解析完body后，调用：</tspan></tspan><tspan id="SvgjsTspan2133" dy="16" x="165"><tspan id="SvgjsTspan2134" style="text-decoration:;">int on_body(const char* at, size_t length) {// (366)</tspan></tspan><tspan id="SvgjsTspan2135" dy="16" x="165"><tspan id="SvgjsTspan2136" style="text-decoration:;">...</tspan></tspan><tspan id="SvgjsTspan2137" dy="16" x="165"><tspan id="SvgjsTspan2138" style="text-decoration:;">MaybeLocal&lt;Value&gt; r = </tspan></tspan><tspan id="SvgjsTspan2139" dy="16" x="165"><tspan id="SvgjsTspan2140" style="text-decoration:;">MakeCallback(cb.As&lt;Function&gt;(),                                       </tspan></tspan><tspan id="SvgjsTspan2141" dy="16" x="165"><tspan id="SvgjsTspan2142" style="text-decoration:;">arraysize(argv),                                       argv);</tspan></tspan><tspan id="SvgjsTspan2143" dy="16" x="165"><tspan id="SvgjsTspan2144" style="text-decoration:;">...</tspan></tspan><tspan id="SvgjsTspan2145" dy="16" x="165"><tspan id="SvgjsTspan2146" style="text-decoration:;">} （390）</tspan></tspan></text></g></g><g id="SvgjsG2147"><path id="SvgjsPath2148" d="M2268.97710063029 2703.7552083333303L2337.7270567352725 2703.7552083333303L2337.7270567352725 2753.171875 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker2149)"></path><rect id="SvgjsRect2151" width="13" height="16" x="2321.560412016116" y="2695.7552083333303" fill="#ffffff"></rect><text id="SvgjsText2152" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="13" fill="#323232" font-weight="400" align="top" font-style="" opacity="1" y="2693.8052083333305" transform="rotate(0)"><tspan id="SvgjsTspan2153" dy="16" x="2328.060412016116"><tspan id="SvgjsTspan2154" style="text-decoration:;">否</tspan></tspan></text></g><g id="SvgjsG2155" transform="translate(2290.03125,2980.14453125)"><path id="SvgjsPath2156" d="M0 0L100 0L100 70L0 70Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG2157"><text id="SvgjsText2158" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="79" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="17.05" transform="rotate(0)"><tspan id="SvgjsTspan2159" dy="16" x="50.5"><tspan id="SvgjsTspan2160" style="text-decoration:;">MakeCallBac</tspan></tspan><tspan id="SvgjsTspan2161" dy="16" x="50.5"><tspan id="SvgjsTspan2162" style="text-decoration:;">k</tspan></tspan></text></g></g><g id="SvgjsG2163" transform="translate(2245.892387008047,3115.671875)"><path id="SvgjsPath2164" d="M0 0L188.42122467821628 0L188.42122467821628 56.25L0 56.25Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG2165"><text id="SvgjsText2166" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="156" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="18.175" transform="rotate(0)"><tspan id="SvgjsTspan2167" dy="16" x="95"><tspan id="SvgjsTspan2168" style="text-decoration:;">InternalMakeCallback(141)</tspan></tspan></text></g></g><g id="SvgjsG2169" transform="translate(2536.264939834663,3106.921875)"><path id="SvgjsPath2170" d="M0 455Q9 455 9 446L9 236.5Q9 227.5 22 227.5Q9 227.5 9 218.5L9 9Q9 0 0 0 " stroke="rgba(50,50,50,1)" stroke-width="2" fill="none"></path><path id="SvgjsPath2171" d="M0 0L112.04756016533702 0L112.04756016533702 455L0 455Z " stroke="none" fill="none"></path><g id="SvgjsG2172"><text id="SvgjsText2173" font-family="微软雅黑" text-anchor="start" font-size="13px" width="84" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="209.55" transform="rotate(0)"><tspan id="SvgjsTspan2174" dy="16" x="27"><tspan id="SvgjsTspan2175" style="text-decoration:;fill: rgb(255, 51, 51);">/src/api/callb</tspan></tspan><tspan id="SvgjsTspan2176" dy="16" x="27"><tspan id="SvgjsTspan2177" style="text-decoration:;fill: rgb(255, 51, 51);">ack.cc</tspan></tspan></text></g></g><g id="SvgjsG2178" transform="translate(1980.3473855087364,3223.81640625)"><path id="SvgjsPath2179" d="M0 0L213.65311666782964 0L213.65311666782964 58.75L0 58.75Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG2180"><text id="SvgjsText2181" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="114" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="11.425" transform="rotate(0)"><tspan id="SvgjsTspan2182" dy="16" x="107.5"><tspan id="SvgjsTspan2183" style="text-decoration:;">清理task_queue:</tspan></tspan><tspan id="SvgjsTspan2184" dy="16" x="107.5"><tspan id="SvgjsTspan2185" style="text-decoration:;">scope.Close();(175)</tspan></tspan></text></g></g><g id="SvgjsG2186" transform="translate(2224.6753462623774,3225.359375)"><path id="SvgjsPath2187" d="M0 0L305 0L305 56.25L0 56.25Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG2188"><text id="SvgjsText2189" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="252" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="2.175" transform="rotate(0)"><tspan id="SvgjsTspan2190" dy="16" x="153"><tspan id="SvgjsTspan2191" style="text-decoration:;">通过以下方式，调用js land中的回调：</tspan></tspan><tspan id="SvgjsTspan2192" dy="16" x="153"><tspan id="SvgjsTspan2193" style="text-decoration:;">ret = callback-&gt;Call(env-&gt;context(), recv, </tspan></tspan><tspan id="SvgjsTspan2194" dy="16" x="153"><tspan id="SvgjsTspan2195" style="text-decoration:;">argc, argv);（162）</tspan></tspan></text></g></g><g id="SvgjsG2196" transform="translate(2263.6527770099024,3048.30859375)"><path id="SvgjsPath2197" d="M0 0L160 0L160 40L0 40Z " stroke="none" fill="none"></path><g id="SvgjsG2198"><text id="SvgjsText2199" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="120" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="10.05" transform="rotate(0)"><tspan id="SvgjsTspan2200" dy="16" x="80.5"><tspan id="SvgjsTspan2201" style="text-decoration:;fill: rgb(255, 51, 51);">/src/async_wrap.cc</tspan></tspan></text></g></g><g id="SvgjsG2202"><path id="SvgjsPath2203" d="M2337.7270567352725 2940.671875L2337.7270567352725 2960.408203125L2340.03125 2960.408203125L2340.03125 2980.14453125 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker2204)"></path></g><g id="SvgjsG2206"><path id="SvgjsPath2207" d="M2340.03125 3050.14453125L2340.03125 3082.908203125L2340.1029993471557 3082.908203125L2340.1029993471557 3115.671875 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker2208)"></path></g><g id="SvgjsG2210"><path id="SvgjsPath2211" d="M2340.1029993471557 3171.921875L2340.1029993471557 3198.640625L2377.1753462623783 3198.640625L2377.1753462623783 3225.359375 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker2212)"></path><rect id="SvgjsRect2214" width="5" height="16" x="2356.139172804767" y="3190.640625" fill="#ffffff"></rect><text id="SvgjsText2215" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="5" fill="#323232" font-weight="400" align="top" font-style="" opacity="1" y="3188.690625" transform="rotate(0)"><tspan id="SvgjsTspan2216" dy="16" x="2358.639172804767"><tspan id="SvgjsTspan2217" style="text-decoration:;">1</tspan></tspan></text></g><g id="SvgjsG2218"><path id="SvgjsPath2219" d="M2295.8125 3171.921875L2295.8125 3197.869140625L2087.173943842651 3197.869140625L2087.173943842651 3223.81640625 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker2220)"></path><rect id="SvgjsRect2222" width="8" height="16" x="2187.4932219213256" y="3189.869140625" fill="#ffffff"></rect><text id="SvgjsText2223" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="8" fill="#323232" font-weight="400" align="top" font-style="" opacity="1" y="3187.919140625" transform="rotate(0)"><tspan id="SvgjsTspan2224" dy="16" x="2191.4932219213256"><tspan id="SvgjsTspan2225" style="text-decoration:;">2</tspan></tspan></text></g><g id="SvgjsG2226"><path id="SvgjsPath2227" d="M2377.1753462623774 3281.609375L2377.1753462623774 3568.2421875L2377.6875 3568.2421875L2377.6875 3854.875 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker2228)"></path></g><g id="SvgjsG2230" transform="translate(1799.7383839292036,3309.421875)"><path id="SvgjsPath2231" d="M0 0L306.6401625282015 0L306.6401625282015 77.5L0 77.5Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG2232"><text id="SvgjsText2233" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="259" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="28.8" transform="rotate(0)"><tspan id="SvgjsTspan2234" dy="16" x="154"><tspan id="SvgjsTspan2235" style="text-decoration:;">void InternalCallbackScope::Close() {//(82)</tspan></tspan></text></g></g><g id="SvgjsG2236" transform="translate(1797.03600319538,3408.796875)"><path id="SvgjsPath2237" d="M0 50.9375L156.34847231687525 0L312.6969446337505 50.9375L156.34847231687525 101.875Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG2238"><text id="SvgjsText2239" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="274" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="25.496875" transform="rotate(0)"><tspan id="SvgjsTspan2240" dy="16" x="157"><tspan id="SvgjsTspan2241" style="text-decoration:;">是否跳过清理task_queue:</tspan></tspan><tspan id="SvgjsTspan2242" dy="16" x="157"><tspan id="SvgjsTspan2243" style="text-decoration:;">if (env_-&gt;async_callback_scope_depth() &gt; 1 || </tspan></tspan><tspan id="SvgjsTspan2244" dy="16" x="157"><tspan id="SvgjsTspan2245" style="text-decoration:;fill: rgb(255, 51, 51);">skip_task_queues_</tspan><tspan id="SvgjsTspan2246" style="text-decoration:;">) {(100)</tspan></tspan></text></g></g><g id="SvgjsG2247"><path id="SvgjsPath2248" d="M2087.173943842651 3282.56640625L2087.173943842651 3295.994140625L1953.0584651933052 3295.994140625L1953.0584651933052 3309.421875 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker2249)"></path></g><g id="SvgjsG2251"><path id="SvgjsPath2252" d="M1953.0584651933052 3386.921875L1953.0584651933052 3397.859375L1953.3844755122554 3397.859375L1953.3844755122554 3408.796875 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker2253)"></path></g><g id="SvgjsG2255"><path id="SvgjsPath2256" d="M1807.0625 2940.671875L1807.0625 2970.671875L1720.4965738344247 2970.671875L1720.4965738344247 3902.80810546875L1750.4965738344247 3902.80810546875 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker2257)"></path><rect id="SvgjsRect2259" width="5" height="16" x="1795.9059073834424" y="2962.671875" fill="#ffffff"></rect><text id="SvgjsText2260" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="5" fill="#323232" font-weight="400" align="top" font-style="" opacity="1" y="2960.721875" transform="rotate(0)"><tspan id="SvgjsTspan2261" dy="16" x="1798.4059073834424"><tspan id="SvgjsTspan2262" style="text-decoration:;">1</tspan></tspan></text></g><g id="SvgjsG2263"><path id="SvgjsPath2264" d="M1859.5625 2940.671875L1859.5625 3125.671875L1855.7998861445974 3125.671875L1855.7998861445974 3310.671875 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker2265)"></path><rect id="SvgjsRect2267" width="8" height="16" x="1855.5625" y="2968.421875" fill="#ffffff"></rect><text id="SvgjsText2268" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="8" fill="#323232" font-weight="400" align="top" font-style="" opacity="1" y="2966.471875" transform="rotate(0)"><tspan id="SvgjsTspan2269" dy="16" x="1859.5625"><tspan id="SvgjsTspan2270" style="text-decoration:;">2</tspan></tspan></text></g><g id="SvgjsG2271" transform="translate(2149.31526859763,3394.34375)"><path id="SvgjsPath2272" d="M0 0L205.1024111398424 0L205.1024111398424 131.328125L0 131.328125Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG2273"><text id="SvgjsText2274" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="174" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="-0.28593749999999996" transform="rotate(0)"><tspan id="SvgjsTspan2275" dy="16" x="103.5"><tspan id="SvgjsTspan2276" style="text-decoration:;">调用task_queue.js中的清理函</tspan></tspan><tspan id="SvgjsTspan2277" dy="16" x="103.5"><tspan id="SvgjsTspan2278" style="text-decoration:;">数：</tspan></tspan><tspan id="SvgjsTspan2279" dy="16" x="103.5"><tspan id="SvgjsTspan2280" style="text-decoration:;">Local&lt;Function&gt; tick_callback </tspan></tspan><tspan id="SvgjsTspan2281" dy="16" x="103.5"><tspan id="SvgjsTspan2282" style="text-decoration:;">= env_-</tspan></tspan><tspan id="SvgjsTspan2283" dy="16" x="103.5"><tspan id="SvgjsTspan2284" style="text-decoration:;">&gt;tick_callback_function();</tspan></tspan><tspan id="SvgjsTspan2285" dy="16" x="103.5"><tspan id="SvgjsTspan2286" style="text-decoration:;"> </tspan></tspan><tspan id="SvgjsTspan2287" dy="16" x="103.5"><tspan id="SvgjsTspan2288" style="text-decoration:;">  if (tick_callback-&gt;Call(...))  </tspan></tspan><tspan id="SvgjsTspan2289" dy="16" x="103.5"><tspan id="SvgjsTspan2290" style="text-decoration:;">(130)</tspan></tspan></text></g></g><g id="SvgjsG2291"><path id="SvgjsPath2292" d="M2109.7329478291304 3459.734375L2129.5241082133803 3459.734375L2129.5241082133803 3460.0078125L2149.31526859763 3460.0078125 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker2293)"></path><rect id="SvgjsRect2295" width="13" height="16" x="2123.0241082133803" y="3451.87109375" fill="#ffffff"></rect><text id="SvgjsText2296" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="13" fill="#323232" font-weight="400" align="top" font-style="" opacity="1" y="3449.92109375" transform="rotate(0)"><tspan id="SvgjsTspan2297" dy="16" x="2129.5241082133803"><tspan id="SvgjsTspan2298" style="text-decoration:;">否</tspan></tspan></text></g><g id="SvgjsG2299" transform="translate(1738.3125,3503.171875)"><path id="SvgjsPath2300" d="M0 0L100 0L100 70L0 70Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG2301"><text id="SvgjsText2302" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="21" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="25.05" transform="rotate(0)"><tspan id="SvgjsTspan2303" dy="16" x="50.5"><tspan id="SvgjsTspan2304" style="text-decoration:;">null</tspan></tspan></text></g></g><g id="SvgjsG2305"><path id="SvgjsPath2306" d="M1797.03600319538 3459.734375L1765.8125 3459.734375L1765.8125 3504.421875 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker2307)"></path><rect id="SvgjsRect2309" width="13" height="16" x="1759.3125" y="3458.46637340231" fill="#ffffff"></rect><text id="SvgjsText2310" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="13" fill="#323232" font-weight="400" align="top" font-style="" opacity="1" y="3456.5163734023104" transform="rotate(0)"><tspan id="SvgjsTspan2311" dy="16" x="1765.8125"><tspan id="SvgjsTspan2312" style="text-decoration:;">是</tspan></tspan></text></g><g id="SvgjsG2313" transform="translate(2011.9817477876388,3493.171875)"><path id="SvgjsPath2314" d="M23.90774212214048 97.125C-19.92311843511707 69.375 7.969247374046827 48.5625 17.93080659160536 41.625C13.946182904581947 6.9375 63.75397899237461 0 83.67709742749167 13.875C99.61559217558533 -6.9375 149.423388263378 0 149.423388263378 20.8125C189.26962513361212 13.875 205.20811988170578 41.625 189.26962513361212 76.3125C203.2158080381941 104.0625 189.26962513361212 138.75 143.44645273284289 124.875C133.48489351528437 142.9125 93.6386566450502 142.9125 83.67709742749167 124.875C63.75397899237461 138.75 23.90774212214048 131.8125 23.90774212214048 97.125Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG2315"><text id="SvgjsText2316" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="179" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="35.425" transform="rotate(0)"><tspan id="SvgjsTspan2317" dy="16" x="100.5"><tspan id="SvgjsTspan2318" style="text-decoration:;">这里的tick_callback就</tspan></tspan><tspan id="SvgjsTspan2319" dy="16" x="100.5"><tspan id="SvgjsTspan2320" style="text-decoration:;">是task_queue.js中设置的：</tspan></tspan><tspan id="SvgjsTspan2321" dy="16" x="100.5"><tspan id="SvgjsTspan2322" style="text-decoration:;">setTickCallback(processTicks</tspan></tspan><tspan id="SvgjsTspan2323" dy="16" x="100.5"><tspan id="SvgjsTspan2324" style="text-decoration:;">AndRejections);（180）</tspan></tspan></text></g></g><g id="SvgjsG2325" transform="translate(2529.6753462623774,5997.2790178571395)"><path id="SvgjsPath2326" d="M0 177.50000000000273Q9 177.50000000000273 9 168.50000000000273L9 97.75000000000136Q9 88.75000000000136 22 88.75000000000136Q9 88.75000000000136 9 79.75000000000136L9 9Q9 0 0 0 " stroke="rgba(50,50,50,1)" stroke-width="2" fill="none"></path><path id="SvgjsPath2327" d="M0 0L101.33907705934143 0L101.33907705934143 177.50000000000273L0 177.50000000000273Z " stroke="none" fill="none"></path><g id="SvgjsG2328"><text id="SvgjsText2329" font-family="微软雅黑" text-anchor="start" font-size="13px" width="72" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="62.80000000000136" transform="rotate(0)"><tspan id="SvgjsTspan2330" dy="16" x="27"><tspan id="SvgjsTspan2331" style="text-decoration:;fill: rgb(255, 51, 51);">/lib/internal</tspan></tspan><tspan id="SvgjsTspan2332" dy="16" x="27"><tspan id="SvgjsTspan2333" style="text-decoration:;fill: rgb(255, 51, 51);">/process/ta</tspan></tspan><tspan id="SvgjsTspan2334" dy="16" x="27"><tspan id="SvgjsTspan2335" style="text-decoration:;fill: rgb(255, 51, 51);">sk_queue.js</tspan></tspan></text></g></g><g id="SvgjsG2336" transform="translate(2109.7329478291304,5997.2790178571395)"><path id="SvgjsPath2337" d="M0 0L376.0795521708692 0L376.0795521708692 64.64285714285961L0 64.64285714285961Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG2338"><text id="SvgjsText2339" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="257" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="14.371428571429806" transform="rotate(0)"><tspan id="SvgjsTspan2340" dy="16" x="189"><tspan id="SvgjsTspan2341" style="text-decoration:;">调用processTicksAndRejections进行清理：</tspan></tspan><tspan id="SvgjsTspan2342" dy="16" x="189"><tspan id="SvgjsTspan2343" style="text-decoration:;">while (tock = queue.shift()) {（72）</tspan></tspan></text></g></g><g id="SvgjsG2344"><path id="SvgjsPath2345" d="M2233.3125 3525.671875L2233.3125 4761.47544642857L2297.772723914565 4761.47544642857L2297.772723914565 5997.2790178571395 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker2346)"></path></g><g id="SvgjsG2348" transform="translate(2129.5646925290794,6121.921874999999)"><path id="SvgjsPath2349" d="M0 0L336.4160627709716 0L336.4160627709716 55.918367346939704L0 55.918367346939704Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG2350"><text id="SvgjsText2351" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="229" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="10.009183673469852" transform="rotate(0)"><tspan id="SvgjsTspan2352" dy="16" x="169"><tspan id="SvgjsTspan2353" style="text-decoration:;">清理完tick的queue后，清理microTask:</tspan></tspan><tspan id="SvgjsTspan2354" dy="16" x="169"><tspan id="SvgjsTspan2355" style="text-decoration:;">runMicrotasks(); (97)</tspan></tspan></text></g></g><g id="SvgjsG2356"><path id="SvgjsPath2357" d="M2297.772723914565 6061.921874999999L2297.772723914565 6091.921874999999L2297.772723914565 6091.921874999999L2297.772723914565 6121.921874999999 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker2358)"></path></g><g id="SvgjsG2360" transform="translate(2035.8125,6151.207589285714)"><path id="SvgjsPath2361" d="M17.57142857142853 49.49999999999972C-14.64285714285711 35.35714285714266 5.857142857142844 24.74999999999986 13.178571428571399 21.214285714285598C10.249999999999979 3.5357142857142665 46.857142857142755 0 61.49999999999986 7.071428571428533C73.21428571428555 -3.5357142857142665 109.82142857142833 0 109.82142857142833 10.607142857142799C139.10714285714255 7.071428571428533 150.82142857142824 21.214285714285598 139.10714285714255 38.89285714285693C149.35714285714252 53.03571428571399 139.10714285714255 70.71428571428532 105.42857142857119 63.64285714285679C98.10714285714265 72.83571428571389 68.82142857142841 72.83571428571389 61.49999999999986 63.64285714285679C46.857142857142755 70.71428571428532 17.57142857142853 67.17857142857106 17.57142857142853 49.49999999999972Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG2362"><text id="SvgjsText2363" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="121" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="9.407142857142663" transform="rotate(0)"><tspan id="SvgjsTspan2364" dy="16" x="74"><tspan id="SvgjsTspan2365" style="text-decoration:;">runMicroTasks</tspan></tspan><tspan id="SvgjsTspan2366" dy="16" x="74"><tspan id="SvgjsTspan2367" style="text-decoration:;">是node_task_queue.</tspan></tspan><tspan id="SvgjsTspan2368" dy="16" x="74"><tspan id="SvgjsTspan2369" style="text-decoration:;">cc中的函数</tspan></tspan></text></g></g><g id="SvgjsG2370"><path id="SvgjsPath2371" d="M1948.7757747794724 4155.671875L1948.7757747794724 4826.4140625L1692.9229799115046 4826.4140625L1692.9229799115046 5497.15625 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker2372)"></path></g><g id="SvgjsG2374"><path id="SvgjsPath2375" d="M1799.5479799115046 5541.7625L1912.4998819664347 5541.7625L1912.4998819664347 5069.421875 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker2376)"></path></g><g id="SvgjsG2378"><path id="SvgjsPath2379" d="M1339.693595608052 5554.421875L1097.0624999999977 5554.421875L1097.0624999999977 5475.646905571575 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker2380)"></path></g><g id="SvgjsG2382" transform="translate(673.729166666666,5430.671875)"><path id="SvgjsPath2383" d="M18.600000000000094 71.75C-15.50000000000008 51.25 6.200000000000032 35.875 13.95000000000007 30.75C10.850000000000056 5.125 49.60000000000026 0 65.10000000000034 10.25C77.5000000000004 -5.125 116.2500000000006 0 116.2500000000006 15.375C147.25000000000074 10.25 159.65000000000083 30.75 147.25000000000074 56.37500000000001C158.10000000000082 76.875 147.25000000000074 102.5 111.60000000000056 92.25C103.85000000000053 105.575 72.85000000000036 105.575 65.10000000000034 92.25C49.60000000000026 102.5 18.600000000000094 97.375 18.600000000000094 71.75Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG2384"><text id="SvgjsText2385" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="121" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="25.3" transform="rotate(0)"><tspan id="SvgjsTspan2386" dy="16" x="78.5"><tspan id="SvgjsTspan2387" style="text-decoration:;">_http_server.js调用</tspan></tspan><tspan id="SvgjsTspan2388" dy="16" x="78.5"><tspan id="SvgjsTspan2389" style="text-decoration:;">时，不会调用这里的</tspan></tspan><tspan id="SvgjsTspan2390" dy="16" x="78.5"><tspan id="SvgjsTspan2391" style="text-decoration:;">this.on('connection' </tspan></tspan></text></g></g><g id="SvgjsG2392"><path id="SvgjsPath2393" d="M1367.0625 5404.421875L1253.3125 5404.421875L1253.3125 5374.421875L1139.5625 5374.421875 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker2394)"></path></g><g id="SvgjsG2396" transform="translate(1586.2979799115046,5497.15625)"><path id="SvgjsPath2397" d="M106.625 0L0 44.60625L38.385 114.375L174.86499999999998 114.375L213.25 44.60625Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG2398"><text id="SvgjsText2399" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="193" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="39.815625" transform="rotate(0)"><tspan id="SvgjsTspan2400" dy="16" x="107.5"><tspan id="SvgjsTspan2401" style="text-decoration:;">将请求回调放在刚刚创建的server</tspan></tspan><tspan id="SvgjsTspan2402" dy="16" x="107.5"><tspan id="SvgjsTspan2403" style="text-decoration:;">上：this.on('request', </tspan></tspan><tspan id="SvgjsTspan2404" dy="16" x="107.5"><tspan id="SvgjsTspan2405" style="text-decoration:;">requestListener);（348）</tspan></tspan></text></g></g><g id="SvgjsG2406" transform="translate(1931.1316257188018,5475.361545138888)"><path id="SvgjsPath2407" d="M121.99720796964084 0L0 60.67118055555695L43.9189948690707 155.5671296296332L200.07542107021098 155.5671296296332L243.99441593928168 60.67118055555695Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG2408"><text id="SvgjsText2409" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="217" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="55.50109953703908" transform="rotate(0)"><tspan id="SvgjsTspan2410" dy="16" x="122.5"><tspan id="SvgjsTspan2411" style="text-decoration:;">_http_server.js封装了一个客户端连接</tspan></tspan><tspan id="SvgjsTspan2412" dy="16" x="122.5"><tspan id="SvgjsTspan2413" style="text-decoration:;">回调函数，放在刚刚创建的server</tspan></tspan><tspan id="SvgjsTspan2414" dy="16" x="122.5"><tspan id="SvgjsTspan2415" style="text-decoration:;">上：this.on('connection', </tspan></tspan><tspan id="SvgjsTspan2416" dy="16" x="122.5"><tspan id="SvgjsTspan2417" style="text-decoration:;">connectionListener);（357）</tspan></tspan></text></g></g><g id="SvgjsG2418"><path id="SvgjsPath2419" d="M2002.590772827176 5500.554759733795L2002.590772827176 4942.488317366898L1418.0354456018515 4942.488317366898L1418.0354456018515 4229.421875 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker2420)"></path></g><g id="SvgjsG2422" transform="translate(1124.249999999999,4028.6591334342957)"><path id="SvgjsPath2423" d="M0 0L143.96725122235398 0L143.96725122235398 87.432861328125L0 87.432861328125Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG2424"><text id="SvgjsText2425" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="123" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="1.7664306640625" transform="rotate(0)"><tspan id="SvgjsTspan2426" dy="16" x="72.5"><tspan id="SvgjsTspan2427" style="text-decoration:;"> </tspan></tspan><tspan id="SvgjsTspan2428" dy="16" x="72.5"><tspan id="SvgjsTspan2429" style="text-decoration:;">从parsers池子中取一</tspan></tspan><tspan id="SvgjsTspan2430" dy="16" x="72.5"><tspan id="SvgjsTspan2431" style="text-decoration:;">个</tspan></tspan><tspan id="SvgjsTspan2432" dy="16" x="72.5"><tspan id="SvgjsTspan2433" style="text-decoration:;">const parser = </tspan></tspan><tspan id="SvgjsTspan2434" dy="16" x="72.5"><tspan id="SvgjsTspan2435" style="text-decoration:;">parsers.alloc();(418)</tspan></tspan></text></g></g><g id="SvgjsG2436"><path id="SvgjsPath2437" d="M1522.1324055994708 3933.824951171875L1522.1324055994708 3981.2420423030853L1196.2336256111762 3981.2420423030853L1196.2336256111762 4028.6591334342957 " stroke-dasharray="3,3" stroke="#ff3333" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker2438)"></path></g><g id="SvgjsG2440" transform="translate(1367.4905812523698,3843.824951171875)"><path id="SvgjsPath2441" d="M0 0L309.28364869420193 0L309.28364869420193 90L0 90Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG2442"><text id="SvgjsText2443" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="283" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="19.05" transform="rotate(0)"><tspan id="SvgjsTspan2444" dy="16" x="155.5"><tspan id="SvgjsTspan2445" style="text-decoration:;">进程启动时分配个池子中parsers：const parsers </tspan></tspan><tspan id="SvgjsTspan2446" dy="16" x="155.5"><tspan id="SvgjsTspan2447" style="text-decoration:;">= new FreeList('parsers', 1000, function </tspan></tspan><tspan id="SvgjsTspan2448" dy="16" x="155.5"><tspan id="SvgjsTspan2449" style="text-decoration:;">parsersCb() {//(159);</tspan></tspan></text></g></g><g id="SvgjsG2450" transform="translate(1269.4677372685182,4163.171875)"><path id="SvgjsPath2451" d="M0 0L297.1354166666665 0L297.1354166666665 66.25L0 66.25Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG2452"><text id="SvgjsText2453" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="248" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="15.175" transform="rotate(0)"><tspan id="SvgjsTspan2454" dy="16" x="149.5"><tspan id="SvgjsTspan2455" style="text-decoration:;">connectionListener调</tspan></tspan><tspan id="SvgjsTspan2456" dy="16" x="149.5"><tspan id="SvgjsTspan2457" style="text-decoration:;">用connectionListenerInternal函数（404）</tspan></tspan></text></g></g><g id="SvgjsG2458"><path id="SvgjsPath2459" d="M1339.5625 4164.421875L1339.5625 4140.25693488121L1196.2336256111762 4140.25693488121L1196.2336256111762 4116.091994762421 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker2460)"></path></g><g id="SvgjsG2462" transform="translate(1549.3288743888234,4015.549726963043)"><path id="SvgjsPath2463" d="M0 0L143.96725122235398 0L143.96725122235398 87.432861328125L0 87.432861328125Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG2464"><text id="SvgjsText2465" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="121" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="9.7664306640625" transform="rotate(0)"><tspan id="SvgjsTspan2466" dy="16" x="72.5"><tspan id="SvgjsTspan2467" style="text-decoration:;">将此parser赋值给</tspan></tspan><tspan id="SvgjsTspan2468" dy="16" x="72.5"><tspan id="SvgjsTspan2469" style="text-decoration:;">listener_:</tspan></tspan><tspan id="SvgjsTspan2470" dy="16" x="72.5"><tspan id="SvgjsTspan2471" style="text-decoration:;">parser.consume(soc</tspan></tspan><tspan id="SvgjsTspan2472" dy="16" x="72.5"><tspan id="SvgjsTspan2473" style="text-decoration:;">ket._handle); (478)</tspan></tspan></text></g></g><g id="SvgjsG2474" transform="translate(1290.8125,4018.171875)"><path id="SvgjsPath2475" d="M0 0L246.25 0L246.25 95L0 95Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG2476"><text id="SvgjsText2477" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="206" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="13.55" transform="rotate(0)"><tspan id="SvgjsTspan2478" dy="16" x="124"><tspan id="SvgjsTspan2479" style="text-decoration:;">将req到来的回调设置在parser上：</tspan></tspan><tspan id="SvgjsTspan2480" dy="16" x="124"><tspan id="SvgjsTspan2481" style="text-decoration:;">parser.onIncoming = </tspan></tspan><tspan id="SvgjsTspan2482" dy="16" x="124"><tspan id="SvgjsTspan2483" style="text-decoration:;">parserOnIncoming.bind(undefined, </tspan></tspan><tspan id="SvgjsTspan2484" dy="16" x="124"><tspan id="SvgjsTspan2485" style="text-decoration:;">server, socket, state);（462）</tspan></tspan></text></g></g><g id="SvgjsG2486"><path id="SvgjsPath2487" d="M1418.0354456018515 4163.171875L1418.0354456018515 4138.171875L1413.9375 4138.171875L1413.9375 4113.171875 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker2488)"></path></g><g id="SvgjsG2490"><path id="SvgjsPath2491" d="M1477.0625 4164.421875L1477.0625 4133.702231645584L1621.3125 4133.702231645584L1621.3125 4102.982588291168 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker2492)"></path></g><g id="SvgjsG2494"><path id="SvgjsPath2495" d="M1621.3125000000005 4015.549726963043L1621.3125000000005 3461.8608009815216L1494.125487684045 3461.8608009815216L1494.125487684045 2908.171875 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker2496)"></path></g><g id="SvgjsG2498" transform="translate(1257.5096429539676,2315.125)"><path id="SvgjsPath2499" d="M0 0L396.72095982300925 0L396.72095982300925 111.5625L0 111.5625Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG2500"><text id="SvgjsText2501" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="330" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="29.83125" transform="rotate(0)"><tspan id="SvgjsTspan2502" dy="16" x="199"><tspan id="SvgjsTspan2503" style="text-decoration:;">将传进来的parser赋值给listener_:void </tspan></tspan><tspan id="SvgjsTspan2504" dy="16" x="199"><tspan id="SvgjsTspan2505" style="text-decoration:;">StreamResource::PushStreamListener(StreamListener* </tspan></tspan><tspan id="SvgjsTspan2506" dy="16" x="199"><tspan id="SvgjsTspan2507" style="text-decoration:;">listener) { ....  listener_ = listener;}(58)</tspan></tspan></text></g></g><g id="SvgjsG2508" transform="translate(1334.5625,2785.671875)"><path id="SvgjsPath2509" d="M0 0L319.12597536809017 0L319.12597536809017 122.5L0 122.5Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG2510"><text id="SvgjsText2511" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="284" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="19.3" transform="rotate(0)"><tspan id="SvgjsTspan2512" dy="16" x="160.5"><tspan id="SvgjsTspan2513" style="text-decoration:;">调用PushStreamListener，将parser传进去static </tspan></tspan><tspan id="SvgjsTspan2514" dy="16" x="160.5"><tspan id="SvgjsTspan2515" style="text-decoration:;">void Consume(const </tspan></tspan><tspan id="SvgjsTspan2516" dy="16" x="160.5"><tspan id="SvgjsTspan2517" style="text-decoration:;">FunctionCallbackInfo&lt;Value&gt;&amp; args) {    Parser* </tspan></tspan><tspan id="SvgjsTspan2518" dy="16" x="160.5"><tspan id="SvgjsTspan2519" style="text-decoration:;">parser;    ...    stream-</tspan></tspan><tspan id="SvgjsTspan2520" dy="16" x="160.5"><tspan id="SvgjsTspan2521" style="text-decoration:;">&gt;PushStreamListener(parser);  }（582）</tspan></tspan></text></g></g><g id="SvgjsG2522"><path id="SvgjsPath2523" d="M1494.125487684045 2785.671875L1494.125487684045 2606.1796875L1455.8701228654722 2606.1796875L1455.8701228654722 2426.6875 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker2524)"></path></g><g id="SvgjsG2526"><path id="SvgjsPath2527" d="M1654.2306027769769 2370.90625L1930.6465513884884 2370.90625L1930.6465513884884 2445.671875L2207.0625 2445.671875 " stroke-dasharray="3,3" stroke="#ff0000" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker2528)"></path><rect id="SvgjsRect2530" width="167" height="16" x="1957.3125" y="2436.921875" fill="#ffffff"></rect><text id="SvgjsText2531" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="167" fill="#323232" font-weight="400" align="top" font-style="" opacity="1" y="2434.971875" transform="rotate(0)"><tspan id="SvgjsTspan2532" dy="16" x="2040.8125"><tspan id="SvgjsTspan2533" style="text-decoration:;">事先将parser赋值给listener_</tspan></tspan></text></g><g id="SvgjsG2534"><path id="SvgjsPath2535" d="M1537.0625 4065.671875L1868.3125 4065.671875L1868.3125 3959.421875 " stroke-dasharray="3,3" stroke="#ff0000" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker2536)"></path></g></svg>