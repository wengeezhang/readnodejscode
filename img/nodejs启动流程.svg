<svg id="SvgjsSvg2538" xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.com/svgjs" width="2808.203125" height="7335.796875"><defs id="SvgjsDefs2539"><marker id="SvgjsMarker2572" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath2573" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker2582" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath2583" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker2604" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath2605" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker2608" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath2609" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker2620" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath2621" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker2632" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath2633" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker2636" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath2637" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker2670" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath2671" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker2704" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath2705" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker2708" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath2709" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker2720" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath2721" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker2742" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath2743" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker2746" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath2747" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker2750" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath2751" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker2804" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath2805" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker2816" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath2817" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker2828" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath2829" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker2862" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath2863" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker2866" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath2867" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker2870" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath2871" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker2886" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath2887" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker2921" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath2922" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker2925" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath2926" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker2967" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath2968" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker2971" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath2972" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker2979" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath2980" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker3027" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath3028" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker3035" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath3036" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker3078" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath3079" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker3107" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath3108" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker3115" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath3116" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker3166" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath3167" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker3186" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath3187" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker3225" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath3226" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker3229" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath3230" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker3233" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath3234" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker3251" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath3252" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker3269" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath3270" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker3298" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath3299" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker3326" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath3327" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker3334" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath3335" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker3342" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath3343" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker3354" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath3355" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker3364" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath3365" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker3376" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath3377" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker3448" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath3449" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker3462" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath3463" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker3478" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath3479" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker3525" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath3526" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker3550" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath3551" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker3558" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath3559" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker3566" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath3567" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker3574" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath3575" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker3601" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath3602" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker3631" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath3632" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker3659" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath3660" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker3714" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath3715" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker3718" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath3719" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker3722" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath3723" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker3730" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath3731" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker3738" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath3739" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker3759" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath3760" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker3763" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath3764" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker3767" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath3768" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker3775" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath3776" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker3803" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath3804" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker3817" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath3818" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker3856" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath3857" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker3868" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath3869" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker3882" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath3883" d="M0 2L14 6L0 11L0 2 " fill="#ff0000" stroke="#ff0000" stroke-width="2"></path></marker><marker id="SvgjsMarker3886" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath3887" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker3894" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath3895" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker3908" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath3909" d="M0 2L14 6L0 11L0 2 " fill="#ff0000" stroke="#ff0000" stroke-width="2"></path></marker><marker id="SvgjsMarker3934" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath3935" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker3956" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath3957" d="M0 2L14 6L0 11L0 2 " fill="#ff3333" stroke="#ff3333" stroke-width="2"></path></marker><marker id="SvgjsMarker3978" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath3979" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker4006" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath4007" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker4010" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath4011" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker4014" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath4015" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker4042" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath4043" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker4046" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath4047" d="M0 2L14 6L0 11L0 2 " fill="#ff0000" stroke="#ff0000" stroke-width="2"></path></marker><marker id="SvgjsMarker4054" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath4055" d="M0 2L14 6L0 11L0 2 " fill="#ff0000" stroke="#ff0000" stroke-width="2"></path></marker><marker id="SvgjsMarker4058" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath4059" d="M0 2L14 6L0 11L0 2 " fill="#0000ff" stroke="#0000ff" stroke-width="2"></path></marker><marker id="SvgjsMarker4066" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath4067" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker4090" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath4091" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker4094" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath4095" d="M0 2L14 6L0 11L0 2 " fill="#ff0000" stroke="#ff0000" stroke-width="2"></path></marker><marker id="SvgjsMarker4108" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath4109" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker4112" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath4113" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker></defs><g id="SvgjsG2540" transform="translate(2197.3819861418956,2952.44921875)"><path id="SvgjsPath2541" d="M18 0Q9 0 9 9L9 49.75Q9 58.75 0 58.75Q9 58.75 9 67.75L9 108.5Q9 117.5 18 117.5 " stroke="rgba(50,50,50,1)" stroke-width="2" fill="none"></path><path id="SvgjsPath2542" d="M214.47404441094886 117.5Q223.47404441094886 117.5 223.47404441094886 108.5L223.47404441094886 67.75Q223.47404441094886 58.75 232.47404441094886 58.75Q223.47404441094886 58.75 223.47404441094886 49.75L223.47404441094886 9Q223.47404441094886 0 214.47404441094886 0 " stroke="rgba(50,50,50,1)" stroke-width="2" fill="none"></path><path id="SvgjsPath2543" d="M0 0L232.47404441094886 0L232.47404441094886 117.5L0 117.5Z " stroke="none" fill="none"></path><g id="SvgjsG2544"><text id="SvgjsText2545" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="0" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="48.8" transform="rotate(0)"></text></g></g><g id="SvgjsG2546" transform="translate(1501.3480779542376,808.921875)"><path id="SvgjsPath2547" d="M18 0Q9 0 9 9L9 181.16071428571388Q9 190.16071428571388 0 190.16071428571388Q9 190.16071428571388 9 199.16071428571388L9 371.32142857142776Q9 380.32142857142776 18 380.32142857142776 " stroke="rgba(50,50,50,1)" stroke-width="2" fill="none"></path><path id="SvgjsPath2548" d="M552.4644220457624 380.32142857142776Q561.4644220457624 380.32142857142776 561.4644220457624 371.32142857142776L561.4644220457624 199.16071428571388Q561.4644220457624 190.16071428571388 570.4644220457624 190.16071428571388Q561.4644220457624 190.16071428571388 561.4644220457624 181.16071428571388L561.4644220457624 9Q561.4644220457624 0 552.4644220457624 0 " stroke="rgba(50,50,50,1)" stroke-width="2" fill="none"></path><path id="SvgjsPath2549" d="M0 0L570.4644220457624 0L570.4644220457624 380.32142857142776L0 380.32142857142776Z " stroke="none" fill="none"></path><g id="SvgjsG2550"><text id="SvgjsText2551" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="92" fill="#323232" font-weight="400" align="bottom" font-style="" opacity="1" y="362.37142857142777" transform="rotate(0)"><tspan id="SvgjsTspan2552" dy="16" x="286"><tspan id="SvgjsTspan2553" style="text-decoration:;fill: rgb(255, 51, 51);">environment.cc</tspan></tspan></text></g></g><g id="SvgjsG2554" transform="translate(1717.4571052302017,267.7945075757575)"><path id="SvgjsPath2555" d="M0 0L220 0L220 58L0 58Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG2556"><text id="SvgjsText2557" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="199" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="11.05" transform="rotate(0)"><tspan id="SvgjsTspan2558" dy="16" x="110.5"><tspan id="SvgjsTspan2559" style="text-decoration:;">每个进程初始化一</tspan></tspan><tspan id="SvgjsTspan2560" dy="16" x="110.5"><tspan id="SvgjsTspan2561" style="text-decoration:;">次InitializeOncePerProcess(1024)</tspan></tspan></text></g></g><g id="SvgjsG2562" transform="translate(1954.6420454545455,266.24763257575756)"><path id="SvgjsPath2563" d="M0 0L264.9204545454545 0L264.9204545454545 56.444903581267L0 56.444903581267Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG2564"><text id="SvgjsText2565" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="239" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="10.2724517906335" transform="rotate(0)"><tspan id="SvgjsTspan2566" dy="16" x="133"><tspan id="SvgjsTspan2567" style="text-decoration:;">初始化一个NodeMainInstance实例：</tspan></tspan><tspan id="SvgjsTspan2568" dy="16" x="133"><tspan id="SvgjsTspan2569" style="text-decoration:;">NodeMainInstance main_instance(1048)</tspan></tspan></text></g></g><g id="SvgjsG2570"><path id="SvgjsPath2571" d="M2017.1674638469217 128.31138370767383L2017.1674638469217 197.2795081417157L2087.1022727272734 197.2795081417157L2087.1022727272734 266.24763257575756 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker2572)"></path></g><g id="SvgjsG2574" transform="translate(2269.220170454547,267.82257231404947)"><path id="SvgjsPath2575" d="M0 0L166.5 0L166.5 52.125L0 52.125Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG2576"><text id="SvgjsText2577" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="146" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="16.1125" transform="rotate(0)"><tspan id="SvgjsTspan2578" dy="16" x="84"><tspan id="SvgjsTspan2579" style="text-decoration:;">main_instance.run(1054)</tspan></tspan></text></g></g><g id="SvgjsG2580"><path id="SvgjsPath2581" d="M2219.562500000001 294.470084366391L2244.391335227274 294.470084366391L2244.391335227274 293.88507231404947L2269.220170454547 293.88507231404947 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker2582)"></path></g><g id="SvgjsG2584" transform="translate(2154.0906481181305,637.1822916666664)"><path id="SvgjsPath2585" d="M0 0L248 0L248 59.5L0 59.5Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG2586"><text id="SvgjsText2587" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="172" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="11.8" transform="rotate(0)"><tspan id="SvgjsTspan2588" dy="16" x="124.5"><tspan id="SvgjsTspan2589" style="text-decoration:;">创建一个env:</tspan></tspan><tspan id="SvgjsTspan2590" dy="16" x="124.5"><tspan id="SvgjsTspan2591" style="text-decoration:;">CreateMainEnvironment(115)</tspan></tspan></text></g></g><g id="SvgjsG2592" transform="translate(2158.3898130089733,994.4788208692837)"><path id="SvgjsPath2593" d="M0 0L248 0L248 69.35546875L0 69.35546875Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG2594"><text id="SvgjsText2595" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="146" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="8.727734375" transform="rotate(0)"><tspan id="SvgjsTspan2596" dy="16" x="124.5"><tspan id="SvgjsTspan2597" style="text-decoration:;">创建完env后，在此env下</tspan></tspan><tspan id="SvgjsTspan2598" dy="16" x="124.5"><tspan id="SvgjsTspan2599" style="text-decoration:;">加载业务代码:</tspan></tspan><tspan id="SvgjsTspan2600" dy="16" x="124.5"><tspan id="SvgjsTspan2601" style="text-decoration:;">LoadEnvironment(122)</tspan></tspan></text></g></g><g id="SvgjsG2602"><path id="SvgjsPath2603" d="M2434.5625 305.24681473829196L2464.5625 305.24681473829196L2464.5625 666.9322916666666L2402.090648118131 666.9322916666666 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker2604)"></path></g><g id="SvgjsG2606"><path id="SvgjsPath2607" d="M2435.7201704545478 293.88507231404947L2477.7201704545478 293.88507231404947L2477.7201704545478 1029.1565552442837L2406.389813008974 1029.1565552442837 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker2608)"></path></g><g id="SvgjsG2610" transform="translate(2159.489714878104,1298.133996212122)"><path id="SvgjsPath2611" d="M0 0L245.80019626173817 0L245.80019626173817 72.53787878787807L0 72.53787878787807Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG2612"><text id="SvgjsText2613" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="184" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="18.318939393939036" transform="rotate(0)"><tspan id="SvgjsTspan2614" dy="16" x="123.5"><tspan id="SvgjsTspan2615" style="text-decoration:;">开启uv_run无限循环：</tspan></tspan><tspan id="SvgjsTspan2616" dy="16" x="123.5"><tspan id="SvgjsTspan2617" style="text-decoration:;">do {        uv_run(xx,xx);（131）</tspan></tspan></text></g></g><g id="SvgjsG2618"><path id="SvgjsPath2619" d="M2434.5862831369263 272.0415381304648L2488.5862831369263 272.0415381304648L2488.5862831369263 1334.402935606061L2405.2899111398433 1334.402935606061 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker2620)"></path></g><g id="SvgjsG2622" transform="translate(1915.8125,637.0878906249998)"><path id="SvgjsPath2623" d="M0 0L199.58354855371863 0L199.58354855371863 36.08398437500023L0 36.08398437500023Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG2624"><text id="SvgjsText2625" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="112" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="0.09199218750011373" transform="rotate(0)"><tspan id="SvgjsTspan2626" dy="16" x="100.5"><tspan id="SvgjsTspan2627" style="text-decoration:;">创建context:</tspan></tspan><tspan id="SvgjsTspan2628" dy="16" x="100.5"><tspan id="SvgjsTspan2629" style="text-decoration:;">Local&lt;Context&gt; context(189)</tspan></tspan></text></g></g><g id="SvgjsG2630"><path id="SvgjsPath2631" d="M2154.5625 656.921875L2134.9792742768605 656.921875L2134.9792742768605 655.1298828125001L2115.396048553721 655.1298828125001 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker2632)"></path></g><g id="SvgjsG2634"><path id="SvgjsPath2635" d="M1892.9920371489766 127.48149263153718L1892.9920371489766 197.63800010364736L1827.4571052302015 197.63800010364736L1827.4571052302015 267.7945075757575 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker2636)"></path></g><g id="SvgjsG2638" transform="translate(1855.2166987603553,31.921875)"><path id="SvgjsPath2639" d="M123.48368248286552 37.39532986175166L99.5836149055367 0L75.6835473282079 37.39532986175166L0 37.39532986175166L59.75016894332202 61.01343293233165L35.85010136599321 98.40876279408332L99.5836149055367 74.79065972350332L163.3171284450802 98.40876279408332L139.4170608677514 61.01343293233165L199.1672298110734 37.39532986175166Z " stroke-dasharray="3,4" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#0000ff"></path><g id="SvgjsG2640"><text id="SvgjsText2641" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="68" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="33.71460046689374" transform="rotate(0)"><tspan id="SvgjsTspan2642" dy="16" x="100.37508447166101"><tspan id="SvgjsTspan2643" style="text-decoration:;fill: rgb(255, 255, 255);font-weight: bold;">启动</tspan></tspan><tspan id="SvgjsTspan2644" dy="16" x="100.37508447166101"><tspan id="SvgjsTspan2645" style="text-decoration:;fill: rgb(255, 255, 255);font-weight: bold;">Start(1023)</tspan></tspan></text></g></g><g id="SvgjsG2646" transform="translate(2535.0170454545478,80.74763257575759)"><path id="SvgjsPath2647" d="M0 266.875Q9 266.875 9 257.875L9 142.4375Q9 133.4375 22 133.4375Q9 133.4375 9 124.4375L9 9Q9 0 0 0 " stroke="rgba(50,50,50,1)" stroke-width="2" fill="none"></path><path id="SvgjsPath2648" d="M0 0L103.125 0L103.125 266.875L0 266.875Z " stroke="none" fill="none"></path><g id="SvgjsG2649"><text id="SvgjsText2650" font-family="微软雅黑" text-anchor="start" font-size="13px" width="47" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="123.4875" transform="rotate(0)"><tspan id="SvgjsTspan2651" dy="16" x="27"><tspan id="SvgjsTspan2652" style="text-decoration:;fill: rgb(255, 51, 51);">node.cc</tspan></tspan></text></g></g><g id="SvgjsG2653" transform="translate(2532.0625,600.3612689393935)"><path id="SvgjsPath2654" d="M0 586.5606060606065Q9 586.5606060606065 9 577.5606060606065L9 302.28030303030323Q9 293.28030303030323 22 293.28030303030323Q9 293.28030303030323 9 284.28030303030323L9 9Q9 0 0 0 " stroke="rgba(50,50,50,1)" stroke-width="2" fill="none"></path><path id="SvgjsPath2655" d="M0 0L193.75 0L193.75 586.5606060606065L0 586.5606060606065Z " stroke="none" fill="none"></path><g id="SvgjsG2656"><text id="SvgjsText2657" font-family="微软雅黑" text-anchor="start" font-size="13px" width="140" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="283.33030303030324" transform="rotate(0)"><tspan id="SvgjsTspan2658" dy="16" x="27"><tspan id="SvgjsTspan2659" style="text-decoration:;fill: rgb(255, 51, 51);">node_main_instance.cc</tspan></tspan></text></g></g><g id="SvgjsG2660" transform="translate(1819.2289514462814,720.1824174649788)"><path id="SvgjsPath2661" d="M0 0L176.66709710743726 0L176.66709710743726 48.73945753502119L0 48.73945753502119Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG2662"><text id="SvgjsText2663" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="148" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="6.419728767510594" transform="rotate(0)"><tspan id="SvgjsTspan2664" dy="16" x="89"><tspan id="SvgjsTspan2665" style="text-decoration:;">真正开始创建env:</tspan></tspan><tspan id="SvgjsTspan2666" dy="16" x="89"><tspan id="SvgjsTspan2667" style="text-decoration:;">CreateEnvironment(203)</tspan></tspan></text></g></g><g id="SvgjsG2668"><path id="SvgjsPath2669" d="M2154.555600218824 691.5461324259029L1907.5625000000002 691.5461324259029L1907.5625000000002 720.1824174649788 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker2670)"></path><rect id="SvgjsRect2672" width="86" height="96" x="2012.7583601312945" y="695.5461324259029" fill="#ffffff"></rect><text id="SvgjsText2673" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="86" fill="#323232" font-weight="400" align="top" font-style="" opacity="1" y="693.5961324259029" transform="rotate(0)"><tspan id="SvgjsTspan2674" dy="16" x="2055.7583601312945"><tspan id="SvgjsTspan2675" style="text-decoration:;">参数：</tspan></tspan><tspan id="SvgjsTspan2676" dy="16" x="2055.7583601312945"><tspan id="SvgjsTspan2677" style="text-decoration:;">isolate_data，</tspan></tspan><tspan id="SvgjsTspan2678" dy="16" x="2055.7583601312945"><tspan id="SvgjsTspan2679" style="text-decoration:;">context,</tspan></tspan><tspan id="SvgjsTspan2680" dy="16" x="2055.7583601312945"><tspan id="SvgjsTspan2681" style="text-decoration:;">args,</tspan></tspan><tspan id="SvgjsTspan2682" dy="16" x="2055.7583601312945"><tspan id="SvgjsTspan2683" style="text-decoration:;">exec_args,</tspan></tspan><tspan id="SvgjsTspan2684" dy="16" x="2055.7583601312945"><tspan id="SvgjsTspan2685" style="text-decoration:;">flags</tspan></tspan></text></g><g id="SvgjsG2686" transform="translate(1551.5756441168119,832.0281723484865)"><path id="SvgjsPath2687" d="M0 0L202.6845456319635 0L202.6845456319635 66.14370265151354L0 66.14370265151354Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG2688"><text id="SvgjsText2689" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="172" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="15.121851325756769" transform="rotate(0)"><tspan id="SvgjsTspan2690" dy="16" x="102"><tspan id="SvgjsTspan2691" style="text-decoration:;">初始化一个env:</tspan></tspan><tspan id="SvgjsTspan2692" dy="16" x="102"><tspan id="SvgjsTspan2693" style="text-decoration:;">env = new Environment(370)</tspan></tspan></text></g></g><g id="SvgjsG2694" transform="translate(1551.5756441168119,908.973559378508)"><path id="SvgjsPath2695" d="M0 0L198.6582573983394 0L198.6582573983394 60.19831562149204L0 60.19831562149204Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG2696"><text id="SvgjsText2697" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="175" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="12.149157810746022" transform="rotate(0)"><tspan id="SvgjsTspan2698" dy="16" x="100"><tspan id="SvgjsTspan2699" style="text-decoration:;">执行bootstrap:</tspan></tspan><tspan id="SvgjsTspan2700" dy="16" x="100"><tspan id="SvgjsTspan2701" style="text-decoration:;">env-&gt;RunBootstrapping(391)</tspan></tspan></text></g></g><g id="SvgjsG2702"><path id="SvgjsPath2703" d="M1819.2289514462814 744.5521462324893L1786.7445705975285 744.5521462324893L1786.7445705975285 865.1000236742432L1754.2601897487757 865.1000236742432 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker2704)"></path></g><g id="SvgjsG2706"><path id="SvgjsPath2707" d="M1820.1759972884752 758.3173253527374L1802.2049494018133 758.3173253527374L1802.2049494018133 939.072717189254L1750.2339015151515 939.072717189254 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker2708)"></path></g><g id="SvgjsG2710" transform="translate(1448.3125,257.879175275482)"><path id="SvgjsPath2711" d="M0 0L247.5 0L247.5 72.01179407713494L0 72.01179407713494Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG2712"><text id="SvgjsText2713" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="223" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="18.05589703856747" transform="rotate(0)"><tspan id="SvgjsTspan2714" dy="16" x="124.5"><tspan id="SvgjsTspan2715" style="text-decoration:;">执行bootstrap:</tspan></tspan><tspan id="SvgjsTspan2716" dy="16" x="124.5"><tspan id="SvgjsTspan2717" style="text-decoration:;">Environment::RunBootstrapping(343)</tspan></tspan></text></g></g><g id="SvgjsG2718"><path id="SvgjsPath2719" d="M1551.5756441168119 939.072717189254L1530.5756441168119 939.072717189254L1530.5756441168119 359.8909693526173L1572.0625000000007 359.8909693526173L1572.0625000000007 329.8909693526173 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker2720)"></path></g><g id="SvgjsG2722" transform="translate(1210.4014486288506,150.97940835705762)"><path id="SvgjsPath2723" d="M0 0L181.8181818181818 0L181.8181818181818 68.63636363636363L0 68.63636363636363Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG2724"><text id="SvgjsText2725" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="157" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="8.368181818181814" transform="rotate(0)"><tspan id="SvgjsTspan2726" dy="16" x="91.5"><tspan id="SvgjsTspan2727" style="text-decoration:;">准备loaders:</tspan></tspan><tspan id="SvgjsTspan2728" dy="16" x="91.5"><tspan id="SvgjsTspan2729" style="text-decoration:;">BootstrapInternalLoaders(</tspan></tspan><tspan id="SvgjsTspan2730" dy="16" x="91.5"><tspan id="SvgjsTspan2731" style="text-decoration:;">348)</tspan></tspan></text></g></g><g id="SvgjsG2732" transform="translate(1225.097181725735,399.4968793044077)"><path id="SvgjsPath2733" d="M0 0L167.182569496619 0L167.182569496619 60.454545454546064L0 60.454545454546064Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG2734"><text id="SvgjsText2735" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="123" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="12.277272727273033" transform="rotate(0)"><tspan id="SvgjsTspan2736" dy="16" x="84.5"><tspan id="SvgjsTspan2737" style="text-decoration:;">准备node.js相关：</tspan></tspan><tspan id="SvgjsTspan2738" dy="16" x="84.5"><tspan id="SvgjsTspan2739" style="text-decoration:;">BootstrapNode(353)</tspan></tspan></text></g></g><g id="SvgjsG2740"><path id="SvgjsPath2741" d="M1448.3125 293.8850723140497L1420.2660652235163 293.8850723140497L1420.2660652235163 185.29759017523943L1392.2196304470328 185.29759017523943 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker2742)"></path></g><g id="SvgjsG2744"><path id="SvgjsPath2745" d="M1448.3125 317.3671790783329L1419.7791727061172 317.3671790783329L1419.7791727061172 440.73408580651517L1391.2458454122343 440.73408580651517 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker2746)"></path></g><g id="SvgjsG2748"><path id="SvgjsPath2749" d="M1210.4014486288506 185.29759017523943L1174.981974314427 185.29759017523943L1174.981974314427 186.17330535047887L1139.5625000000032 186.17330535047887 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker2750)"></path></g><g id="SvgjsG2752" transform="translate(715.3125000000032,62.67330535047887)"><path id="SvgjsPath2753" d="M0 0L424.25 0L424.25 247L0 247Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG2754"><text id="SvgjsText2755" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="368" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="33.55" transform="rotate(0)"><tspan id="SvgjsTspan2756" dy="16" x="213"><tspan id="SvgjsTspan2757" style="text-decoration:;">准备形参和实参：</tspan></tspan><tspan id="SvgjsTspan2758" dy="16" x="213"><tspan id="SvgjsTspan2759" style="text-decoration:;">std::vector&lt;Local&lt;String&gt;&gt; loaders_params = {      </tspan></tspan><tspan id="SvgjsTspan2760" dy="16" x="213"><tspan id="SvgjsTspan2761" style="text-decoration:;">process_string(),      FIXED_ONE_BYTE_STRING(isolate_, </tspan></tspan><tspan id="SvgjsTspan2762" dy="16" x="213"><tspan id="SvgjsTspan2763" style="text-decoration:;">"getLinkedBinding"),      FIXED_ONE_BYTE_STRING(isolate_, </tspan></tspan><tspan id="SvgjsTspan2764" dy="16" x="213"><tspan id="SvgjsTspan2765" style="text-decoration:;">"getInternalBinding"),      primordials_string()};  </tspan></tspan><tspan id="SvgjsTspan2766" dy="16" x="213"><tspan id="SvgjsTspan2767" style="text-decoration:;">std::vector&lt;Local&lt;Value&gt;&gt; loaders_args = {      process_object(),      </tspan></tspan><tspan id="SvgjsTspan2768" dy="16" x="213"><tspan id="SvgjsTspan2769" style="text-decoration:;">NewFunctionTemplate(binding::GetLinkedBinding)          -</tspan></tspan><tspan id="SvgjsTspan2770" dy="16" x="213"><tspan id="SvgjsTspan2771" style="text-decoration:;">&gt;GetFunction(context())          .ToLocalChecked(),      </tspan></tspan><tspan id="SvgjsTspan2772" dy="16" x="213"><tspan id="SvgjsTspan2773" style="text-decoration:;">NewFunctionTemplate(binding::GetInternalBinding)          -</tspan></tspan><tspan id="SvgjsTspan2774" dy="16" x="213"><tspan id="SvgjsTspan2775" style="text-decoration:;">&gt;GetFunction(context())          .ToLocalChecked(),      </tspan></tspan><tspan id="SvgjsTspan2776" dy="16" x="213"><tspan id="SvgjsTspan2777" style="text-decoration:;">primordials()}; （247）</tspan></tspan></text></g></g><g id="SvgjsG2778" transform="translate(2615.8125,25.00513300619832)"><path id="SvgjsPath2779" d="M0 0L100 0L100 70L0 70Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG2780"><text id="SvgjsText2781" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="66" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="17.05" transform="rotate(0)"><tspan id="SvgjsTspan2782" dy="16" x="50.5"><tspan id="SvgjsTspan2783" style="text-decoration:;fill: rgb(255, 51, 51);">基于nodejs </tspan></tspan><tspan id="SvgjsTspan2784" dy="16" x="50.5"><tspan id="SvgjsTspan2785" style="text-decoration:;fill: rgb(255, 51, 51);text-decoration: underline;">V14解读</tspan></tspan></text></g></g><g id="SvgjsG2786" transform="translate(719.0625,338.9837871793219)"><path id="SvgjsPath2787" d="M0 0L421.75 0L421.75 181.79924242424238L0 181.79924242424238Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG2788"><text id="SvgjsText2789" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="329" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="40.94962121212119" transform="rotate(0)"><tspan id="SvgjsTspan2790" dy="16" x="211.5"><tspan id="SvgjsTspan2791" style="text-decoration:;">准备形参和实参：</tspan></tspan><tspan id="SvgjsTspan2792" dy="16" x="211.5"><tspan id="SvgjsTspan2793" style="text-decoration:;">std::vector&lt;Local&lt;String&gt;&gt; node_params = {      process_string(),      </tspan></tspan><tspan id="SvgjsTspan2794" dy="16" x="211.5"><tspan id="SvgjsTspan2795" style="text-decoration:;">require_string(),      internal_binding_string(),      </tspan></tspan><tspan id="SvgjsTspan2796" dy="16" x="211.5"><tspan id="SvgjsTspan2797" style="text-decoration:;">primordials_string()};  std::vector&lt;Local&lt;Value&gt;&gt; node_args = {      </tspan></tspan><tspan id="SvgjsTspan2798" dy="16" x="211.5"><tspan id="SvgjsTspan2799" style="text-decoration:;">process_object(),      native_module_require(),      </tspan></tspan><tspan id="SvgjsTspan2800" dy="16" x="211.5"><tspan id="SvgjsTspan2801" style="text-decoration:;">internal_binding_loader(),      primordials()};（293）</tspan></tspan></text></g></g><g id="SvgjsG2802"><path id="SvgjsPath2803" d="M1225.097181725735 429.7241520316808L1182.9548408628675 429.7241520316808L1182.9548408628675 429.8834083914431L1140.8125 429.8834083914431 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker2804)"></path></g><g id="SvgjsG2806" transform="translate(1750.2339015151513,990.0315552442837)"><path id="SvgjsPath2807" d="M0 0L276.5785984848487 0L276.5785984848487 78.25L0 78.25Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG2808"><text id="SvgjsText2809" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="233" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="21.175" transform="rotate(0)"><tspan id="SvgjsTspan2810" dy="16" x="139"><tspan id="SvgjsTspan2811" style="text-decoration:;">开始执行业务逻辑：</tspan></tspan><tspan id="SvgjsTspan2812" dy="16" x="139"><tspan id="SvgjsTspan2813" style="text-decoration:;">return StartExecution(env, cb);（447）</tspan></tspan></text></g></g><g id="SvgjsG2814"><path id="SvgjsPath2815" d="M2158.3898130089733 1029.1565552442837L2092.6011565044864 1029.1565552442837L2092.6011565044864 1029.1565552442837L2026.8125 1029.1565552442837 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker2816)"></path></g><g id="SvgjsG2818" transform="translate(712.84375,558.796875)"><path id="SvgjsPath2819" d="M0 0L455 0L455 94.375L0 94.375Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG2820"><text id="SvgjsText2821" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="422" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="29.2375" transform="rotate(0)"><tspan id="SvgjsTspan2822" dy="16" x="228"><tspan id="SvgjsTspan2823" style="text-decoration:;">加载启动的业务代码：</tspan></tspan><tspan id="SvgjsTspan2824" dy="16" x="228"><tspan id="SvgjsTspan2825" style="text-decoration:;">return StartExecution(env, "internal/main/run_main_module");（460）</tspan></tspan></text></g></g><g id="SvgjsG2826"><path id="SvgjsPath2827" d="M1750.2339015151513 1029.1565552442837L1459.0388257575755 1029.1565552442837L1459.0388257575755 605.984375L1167.84375 605.984375 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker2828)"></path></g><g id="SvgjsG2830" transform="translate(209.25,67.50876653161589)"><path id="SvgjsPath2831" d="M0 0L476.25 0L476.25 99.41310846838411L0 99.41310846838411Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG2832"><text id="SvgjsText2833" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="410" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="15.756554234192055" transform="rotate(0)"><tspan id="SvgjsTspan2834" dy="16" x="239"><tspan id="SvgjsTspan2835" style="text-decoration:;">调用通用的执行器：</tspan></tspan><tspan id="SvgjsTspan2836" dy="16" x="239"><tspan id="SvgjsTspan2837" style="text-decoration:;">ExecuteBootstrapper(           this, "internal/bootstrap/loaders", </tspan></tspan><tspan id="SvgjsTspan2838" dy="16" x="239"><tspan id="SvgjsTspan2839" style="text-decoration:;">&amp;loaders_params, &amp;loaders_args)           .ToLocal(&amp;loader_exports)</tspan></tspan><tspan id="SvgjsTspan2840" dy="16" x="239"><tspan id="SvgjsTspan2841" style="text-decoration:;">（264）</tspan></tspan></text></g></g><g id="SvgjsG2842" transform="translate(207.21875,379.1021282288656)"><path id="SvgjsPath2843" d="M0 0L480.3125 0L480.3125 102.01561732528626L0 102.01561732528626Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG2844"><text id="SvgjsText2845" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="421" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="25.05780866264313" transform="rotate(0)"><tspan id="SvgjsTspan2846" dy="16" x="241"><tspan id="SvgjsTspan2847" style="text-decoration:;">调用通用的执行器：</tspan></tspan><tspan id="SvgjsTspan2848" dy="16" x="241"><tspan id="SvgjsTspan2849" style="text-decoration:;">ExecuteBootstrapper(</tspan></tspan><tspan id="SvgjsTspan2850" dy="16" x="241"><tspan id="SvgjsTspan2851" style="text-decoration:;">this, "internal/bootstrap/node", &amp;node_params, &amp;node_args);（304）</tspan></tspan></text></g></g><g id="SvgjsG2852" transform="translate(206.4375,534.421875)"><path id="SvgjsPath2853" d="M0 0L481.875 0L481.875 98.75L0 98.75Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG2854"><text id="SvgjsText2855" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="459" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="31.425" transform="rotate(0)"><tspan id="SvgjsTspan2856" dy="16" x="241.5"><tspan id="SvgjsTspan2857" style="text-decoration:;">准备形参和实参，调用通用执行器：ExecuteBootstrapper(env, main_script_id, </tspan></tspan><tspan id="SvgjsTspan2858" dy="16" x="241.5"><tspan id="SvgjsTspan2859" style="text-decoration:;">¶meters, &amp;arguments)（397）</tspan></tspan></text></g></g><g id="SvgjsG2860"><path id="SvgjsPath2861" d="M715.3125000000032 186.17330535047887L700.4062500000016 186.17330535047887L700.4062500000016 117.21532076580795L685.5 117.21532076580795 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker2862)"></path></g><g id="SvgjsG2864"><path id="SvgjsPath2865" d="M719.0625 429.8834083914431L703.296875 429.8834083914431L703.296875 430.1099368915087L687.53125 430.1099368915087 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker2866)"></path></g><g id="SvgjsG2868"><path id="SvgjsPath2869" d="M712.84375 605.984375L700.578125 605.984375L700.578125 583.796875L688.3125 583.796875 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker2870)"></path></g><g id="SvgjsG2872" transform="translate(207.0625,184.421875)"><path id="SvgjsPath2873" d="M0 0L480.625 0L480.625 91.25L0 91.25Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG2874"><text id="SvgjsText2875" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="378" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="11.675" transform="rotate(0)"><tspan id="SvgjsTspan2876" dy="16" x="241"><tspan id="SvgjsTspan2877" style="text-decoration:;">将上一步执行的loaders.js导出的属性保存起来，供后续使用：</tspan></tspan><tspan id="SvgjsTspan2878" dy="16" x="241"><tspan id="SvgjsTspan2879" style="text-decoration:;">set_internal_binding_loader(internal_binding_loader.As&lt;Function&gt;());(275);</tspan></tspan><tspan id="SvgjsTspan2880" dy="16" x="241"><tspan id="SvgjsTspan2881" style="text-decoration:;">set_native_module_require(require.As&lt;Function&gt;());（279）</tspan></tspan><tspan id="SvgjsTspan2882" dy="16" x="241"><tspan id="SvgjsTspan2883" style="text-decoration:;"> </tspan></tspan></text></g></g><g id="SvgjsG2884"><path id="SvgjsPath2885" d="M715.8125000000032 212.42330535047887L701.7500000000016 212.42330535047887L701.7500000000016 230.046875L687.6875 230.046875 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker2886)"></path></g><g id="SvgjsG2888" transform="translate(330.8125,253.59462164256183)"><path id="SvgjsPath2889" d="M38.55 46.375C-32.125 33.125 12.85 23.1875 28.912499999999998 19.875C22.4875 3.3125 102.8 0 134.92499999999998 6.625C160.625 -3.3125 240.9375 0 240.9375 9.9375C305.1875 6.625 330.8875 19.875 305.1875 36.4375C327.675 49.6875 305.1875 66.25 231.29999999999998 59.625C215.2375 68.2375 150.98749999999998 68.2375 134.92499999999998 59.625C102.8 66.25 38.55 62.9375 38.55 46.375Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG2890"><text id="SvgjsText2891" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="301" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="15.175" transform="rotate(0)"><tspan id="SvgjsTspan2892" dy="16" x="161.5"><tspan id="SvgjsTspan2893" style="text-decoration:;">loaders.js中的internalBinding函数会维持一个js世界</tspan></tspan><tspan id="SvgjsTspan2894" dy="16" x="161.5"><tspan id="SvgjsTspan2895" style="text-decoration:;">的缓存，然后export出来给别的模块使用</tspan></tspan></text></g></g><g id="SvgjsG2896" transform="translate(2129.5646925290794,1425.130918560606)"><path id="SvgjsPath2897" d="M0 0L305 0L305 75L0 75Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG2898"><text id="SvgjsText2899" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="274" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="19.55" transform="rotate(0)"><tspan id="SvgjsTspan2900" dy="16" x="153"><tspan id="SvgjsTspan2901" style="text-decoration:;">执行经典的六大步检测，其中最重要的是io poll:</tspan></tspan><tspan id="SvgjsTspan2902" dy="16" x="153"><tspan id="SvgjsTspan2903" style="text-decoration:;">uv__io_poll(loop, timeout);(381)</tspan></tspan></text></g></g><g id="SvgjsG2904" transform="translate(2115.961159669746,1580.2552083333333)"><path id="SvgjsPath2905" d="M0 0L332.0653409090937 0L332.0653409090937 81.25L0 81.25Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG2906"><text id="SvgjsText2907" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="264" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="22.675" transform="rotate(0)"><tspan id="SvgjsTspan2908" dy="16" x="167"><tspan id="SvgjsTspan2909" style="text-decoration:;">以linux为例，进入经典的epoll，并调用毁掉：</tspan></tspan><tspan id="SvgjsTspan2910" dy="16" x="167"><tspan id="SvgjsTspan2911" style="text-decoration:;">w-&gt;cb(loop, w, pe-&gt;events);（431）</tspan></tspan></text></g></g><g id="SvgjsG2912" transform="translate(2530.384588068184,1378.171875)"><path id="SvgjsPath2913" d="M0 140Q9 140 9 131L9 79Q9 70 22 70Q9 70 9 61L9 9Q9 0 0 0 " stroke="rgba(50,50,50,1)" stroke-width="2" fill="none"></path><path id="SvgjsPath2914" d="M0 0L100 0L100 140L0 140Z " stroke="none" fill="none"></path><g id="SvgjsG2915"><text id="SvgjsText2916" font-family="微软雅黑" text-anchor="start" font-size="13px" width="44" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="60.05" transform="rotate(0)"><tspan id="SvgjsTspan2917" dy="16" x="27"><tspan id="SvgjsTspan2918" style="text-decoration:;fill: rgb(255, 51, 51);">core.cc</tspan></tspan></text></g></g><g id="SvgjsG2919"><path id="SvgjsPath2920" d="M2282.3898130089733 1370.671875L2282.3898130089733 1397.901396780303L2282.0646925290794 1397.901396780303L2282.0646925290794 1425.130918560606 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker2921)"></path></g><g id="SvgjsG2923"><path id="SvgjsPath2924" d="M2282.0646925290794 1500.130918560606L2282.0646925290794 1540.1930634469695L2281.993830124293 1540.1930634469695L2281.993830124293 1580.2552083333333 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker2925)"></path></g><g id="SvgjsG2927" transform="translate(2530.1526100852298,1565.671875)"><path id="SvgjsPath2928" d="M0 143.5Q9 143.5 9 134.5L9 80.75Q9 71.75 22 71.75Q9 71.75 9 62.75L9 9Q9 0 0 0 " stroke="rgba(50,50,50,1)" stroke-width="2" fill="none"></path><path id="SvgjsPath2929" d="M0 0L138.15988991477025 0L138.15988991477025 143.5L0 143.5Z " stroke="none" fill="none"></path><g id="SvgjsG2930"><text id="SvgjsText2931" font-family="微软雅黑" text-anchor="start" font-size="13px" width="73" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="61.8" transform="rotate(0)"><tspan id="SvgjsTspan2932" dy="16" x="27"><tspan id="SvgjsTspan2933" style="text-decoration:;fill: rgb(255, 51, 51);">linux-core.c</tspan></tspan></text></g></g><g id="SvgjsG2934" transform="translate(1575.693595608052,1816.609375)"><path id="SvgjsPath2935" d="M0 0L324.9456756538393 0L324.9456756538393 65L0 65Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG2936"><text id="SvgjsText2937" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="282" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="14.55" transform="rotate(0)"><tspan id="SvgjsTspan2938" dy="16" x="163"><tspan id="SvgjsTspan2939" style="text-decoration:;">w-&gt;cb即为uv__server_io,创建新的connection：</tspan></tspan><tspan id="SvgjsTspan2940" dy="16" x="163"><tspan id="SvgjsTspan2941" style="text-decoration:;">stream-&gt;connection_cb(stream, err);（564）</tspan></tspan></text></g></g><g id="SvgjsG2942" transform="translate(2530.1526100852298,1729.421875)"><path id="SvgjsPath2943" d="M0 397.5Q9 397.5 9 388.5L9 207.75Q9 198.75 22 198.75Q9 198.75 9 189.75L9 9Q9 0 0 0 " stroke="rgba(50,50,50,1)" stroke-width="2" fill="none"></path><path id="SvgjsPath2944" d="M0 0L100 0L100 397.5L0 397.5Z " stroke="none" fill="none"></path><g id="SvgjsG2945"><text id="SvgjsText2946" font-family="微软雅黑" text-anchor="start" font-size="13px" width="52" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="188.8" transform="rotate(0)"><tspan id="SvgjsTspan2947" dy="16" x="27"><tspan id="SvgjsTspan2948" style="text-decoration:;fill: rgb(255, 51, 51);">stream.c</tspan></tspan></text></g></g><g id="SvgjsG2949" transform="translate(2111.227294075271,1828.09375)"><path id="SvgjsPath2950" d="M0 0L342.8502035000952 0L342.8502035000952 67.03125L0 67.03125Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG2951"><text id="SvgjsText2952" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="283" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="15.565625" transform="rotate(0)"><tspan id="SvgjsTspan2953" dy="16" x="172"><tspan id="SvgjsTspan2954" style="text-decoration:;">w-&gt;cb即为uv__stream_io,开始消费steam上的数</tspan></tspan><tspan id="SvgjsTspan2955" dy="16" x="172"><tspan id="SvgjsTspan2956" style="text-decoration:;">据：uv__read(stream);（1306）</tspan></tspan></text></g></g><g id="SvgjsG2957" transform="translate(2178.1751602485856,1701.921875)"><path id="SvgjsPath2958" d="M0 39.5L103.8186698757072 0L207.6373397514144 39.5L103.8186698757072 79Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG2959"><text id="SvgjsText2960" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="188" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="21.945" transform="rotate(0)"><tspan id="SvgjsTspan2961" dy="16" x="104.5"><tspan id="SvgjsTspan2962" style="text-decoration:;">epoll wait拿到的是否为初次客户</tspan></tspan><tspan id="SvgjsTspan2963" dy="16" x="104.5"><tspan id="SvgjsTspan2964" style="text-decoration:;">端连接</tspan></tspan></text></g></g><g id="SvgjsG2965"><path id="SvgjsPath2966" d="M2281.993830124293 1661.5052083333333L2281.993830124293 1681.7135416666665L2281.993830124293 1681.7135416666665L2281.993830124293 1701.921875 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker2967)"></path></g><g id="SvgjsG2969"><path id="SvgjsPath2970" d="M2281.993830124293 1780.921875L2281.993830124293 1804.5078125L2282.652395825319 1804.5078125L2282.652395825319 1828.09375 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker2971)"></path><rect id="SvgjsRect2973" width="13" height="16" x="2275.823112974806" y="1796.5078125" fill="#ffffff"></rect><text id="SvgjsText2974" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="13" fill="#323232" font-weight="400" align="top" font-style="" opacity="1" y="1794.5578125" transform="rotate(0)"><tspan id="SvgjsTspan2975" dy="16" x="2282.323112974806"><tspan id="SvgjsTspan2976" style="text-decoration:;">否</tspan></tspan></text></g><g id="SvgjsG2977"><path id="SvgjsPath2978" d="M2178.1751602485856 1741.421875L1738.1664334349716 1741.421875L1738.1664334349716 1816.609375 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker2979)"></path><rect id="SvgjsRect2981" width="13" height="16" x="1914.0770468417786" y="1733.421875" fill="#ffffff"></rect><text id="SvgjsText2982" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="13" fill="#323232" font-weight="400" align="top" font-style="" opacity="1" y="1731.471875" transform="rotate(0)"><tspan id="SvgjsTspan2983" dy="16" x="1920.5770468417786"><tspan id="SvgjsTspan2984" style="text-decoration:;">是</tspan></tspan></text></g><g id="SvgjsG2985" transform="translate(1934.5625,1964.109375)"><path id="SvgjsPath2986" d="M0 0L295.0622773064615 0L295.0622773064615 156.5625L0 156.5625Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG2987"><text id="SvgjsText2988" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="276" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="12.33125" transform="rotate(0)"><tspan id="SvgjsTspan2989" dy="16" x="148.5"><tspan id="SvgjsTspan2990" style="text-decoration:;">分配一个buf,并读取1024*64大小的数据到此buf</tspan></tspan><tspan id="SvgjsTspan2991" dy="16" x="148.5"><tspan id="SvgjsTspan2992" style="text-decoration:;">中:</tspan></tspan><tspan id="SvgjsTspan2993" dy="16" x="148.5"><tspan id="SvgjsTspan2994" style="text-decoration:;">buf = uv_buf_init(NULL, 0);    stream-</tspan></tspan><tspan id="SvgjsTspan2995" dy="16" x="148.5"><tspan id="SvgjsTspan2996" style="text-decoration:;">&gt;alloc_cb((uv_handle_t*)stream, 64 * 1024, </tspan></tspan><tspan id="SvgjsTspan2997" dy="16" x="148.5"><tspan id="SvgjsTspan2998" style="text-decoration:;">&amp;buf);</tspan></tspan><tspan id="SvgjsTspan2999" dy="16" x="148.5"><tspan id="SvgjsTspan3000" style="text-decoration:;">do { </tspan></tspan><tspan id="SvgjsTspan3001" dy="16" x="148.5"><tspan id="SvgjsTspan3002" style="text-decoration:;">       </tspan></tspan><tspan id="SvgjsTspan3003" dy="16" x="148.5"><tspan id="SvgjsTspan3004" style="text-decoration:;">nread = read(uv__stream_fd(stream), </tspan></tspan><tspan id="SvgjsTspan3005" dy="16" x="148.5"><tspan id="SvgjsTspan3006" style="text-decoration:;">buf.base, buf.len); </tspan></tspan><tspan id="SvgjsTspan3007" dy="16" x="148.5"><tspan id="SvgjsTspan3008" style="text-decoration:;">     </tspan></tspan><tspan id="SvgjsTspan3009" dy="16" x="148.5"><tspan id="SvgjsTspan3010" style="text-decoration:;">}</tspan></tspan><tspan id="SvgjsTspan3011" dy="16" x="148.5"><tspan id="SvgjsTspan3012" style="text-decoration:;">（1142）</tspan></tspan></text></g></g><g id="SvgjsG3013" transform="translate(2242.0625,1967.625)"><path id="SvgjsPath3014" d="M0 0L266.25 0L266.25 149.53125L0 149.53125Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG3015"><text id="SvgjsText3016" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="238" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="40.815625" transform="rotate(0)"><tspan id="SvgjsTspan3017" dy="16" x="134"><tspan id="SvgjsTspan3018" style="text-decoration:;">read完毕后，调用read回调--read_cb:</tspan></tspan><tspan id="SvgjsTspan3019" dy="16" x="134"><tspan id="SvgjsTspan3020" style="text-decoration:;">stream-&gt;read_cb(stream, nread, &amp;buf);</tspan></tspan><tspan id="SvgjsTspan3021" dy="16" x="134"><tspan id="SvgjsTspan3022" style="text-decoration:;">（）</tspan></tspan><tspan id="SvgjsTspan3023" dy="16" x="134"><tspan id="SvgjsTspan3024" style="text-decoration:;">注意：此处的read_cb就是：OnUvRead</tspan></tspan></text></g></g><g id="SvgjsG3025"><path id="SvgjsPath3026" d="M2282.6523958253183 1895.125L2282.6523958253183 1929.6171875L2082.0936386532308 1929.6171875L2082.0936386532308 1964.109375 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker3027)"></path><rect id="SvgjsRect3029" width="36" height="16" x="2164.3730172392743" y="1921.6171875" fill="#ffffff"></rect><text id="SvgjsText3030" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="36" fill="#323232" font-weight="400" align="top" font-style="" opacity="1" y="1919.6671875" transform="rotate(0)"><tspan id="SvgjsTspan3031" dy="16" x="2182.3730172392743"><tspan id="SvgjsTspan3032" style="text-decoration:;">Step1:</tspan></tspan></text></g><g id="SvgjsG3033"><path id="SvgjsPath3034" d="M2334.5625 1894.421875L2334.5625 1931.0234375L2375.1875 1931.0234375L2375.1875 1967.625 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker3035)"></path><rect id="SvgjsRect3037" width="39" height="16" x="2335.375" y="1923.0234375" fill="#ffffff"></rect><text id="SvgjsText3038" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="39" fill="#323232" font-weight="400" align="top" font-style="" opacity="1" y="1921.0734375" transform="rotate(0)"><tspan id="SvgjsTspan3039" dy="16" x="2354.875"><tspan id="SvgjsTspan3040" style="text-decoration:;">Step:2</tspan></tspan></text></g><g id="SvgjsG3041" transform="translate(1934.5625,2166.609375)"><path id="SvgjsPath3042" d="M0 0L579.8941145491235 0L579.8941145491235 139.0625L0 139.0625Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG3043"><text id="SvgjsText3044" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="421" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="35.58125" transform="rotate(0)"><tspan id="SvgjsTspan3045" dy="16" x="290.5"><tspan id="SvgjsTspan3046" style="text-decoration:;">将数据触发出去：</tspan></tspan><tspan id="SvgjsTspan3047" dy="16" x="290.5"><tspan id="SvgjsTspan3048" style="text-decoration:;">void StreamResource::EmitRead(ssize_t nread, const uv_buf_t&amp; buf) { </tspan></tspan><tspan id="SvgjsTspan3049" dy="16" x="290.5"><tspan id="SvgjsTspan3050" style="text-decoration:;"> </tspan></tspan><tspan id="SvgjsTspan3051" dy="16" x="290.5"><tspan id="SvgjsTspan3052" style="text-decoration:;">DebugSealHandleScope handle_scope(v8::Isolate::GetCurrent()); </tspan></tspan><tspan id="SvgjsTspan3053" dy="16" x="290.5"><tspan id="SvgjsTspan3054" style="text-decoration:;"> </tspan></tspan><tspan id="SvgjsTspan3055" dy="16" x="290.5"><tspan id="SvgjsTspan3056" style="text-decoration:;">if (nread &gt; 0) </tspan></tspan><tspan id="SvgjsTspan3057" dy="16" x="290.5"><tspan id="SvgjsTspan3058" style="text-decoration:;">   </tspan></tspan><tspan id="SvgjsTspan3059" dy="16" x="290.5"><tspan id="SvgjsTspan3060" style="text-decoration:;">bytes_read_ </tspan></tspan><tspan id="SvgjsTspan3061" dy="16" x="290.5"><tspan id="SvgjsTspan3062" style="text-decoration:;">+= static_cast&lt;uint64_t&gt;(nread); </tspan></tspan><tspan id="SvgjsTspan3063" dy="16" x="290.5"><tspan id="SvgjsTspan3064" style="text-decoration:;"> </tspan></tspan><tspan id="SvgjsTspan3065" dy="16" x="290.5"><tspan id="SvgjsTspan3066" style="text-decoration:;">listener_-&gt;OnStreamRead(nread, buf);};(509)</tspan></tspan></text></g></g><g id="SvgjsG3067" transform="translate(2529.556030306664,2163.171875)"><path id="SvgjsPath3068" d="M0 301.25Q9 301.25 9 292.25L9 159.625Q9 150.625 22 150.625Q9 150.625 9 141.625L9 9Q9 0 0 0 " stroke="rgba(50,50,50,1)" stroke-width="2" fill="none"></path><path id="SvgjsPath3069" d="M0 0L129.40988991477025 0L129.40988991477025 301.25L0 301.25Z " stroke="none" fill="none"></path><g id="SvgjsG3070"><text id="SvgjsText3071" font-family="微软雅黑" text-anchor="start" font-size="13px" width="101" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="132.675" transform="rotate(0)"><tspan id="SvgjsTspan3072" dy="16" x="27"><tspan id="SvgjsTspan3073" style="text-decoration:;fill: rgb(255, 51, 51);">/src/stream_bas</tspan></tspan><tspan id="SvgjsTspan3074" dy="16" x="27"><tspan id="SvgjsTspan3075" style="text-decoration:;fill: rgb(255, 51, 51);">e-inl.h</tspan></tspan></text></g></g><g id="SvgjsG3076"><path id="SvgjsPath3077" d="M2375.1875 2117.15625L2375.1875 2141.8828125L2224.509557274562 2141.8828125L2224.509557274562 2166.609375 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker3078)"></path></g><g id="SvgjsG3080" transform="translate(2536.264939834663,2496.921875)"><path id="SvgjsPath3081" d="M0 550Q9 550 9 541L9 284Q9 275 22 275Q9 275 9 266L9 9Q9 0 0 0 " stroke="rgba(50,50,50,1)" stroke-width="2" fill="none"></path><path id="SvgjsPath3082" d="M0 0L112.04756016533702 0L112.04756016533702 550L0 550Z " stroke="none" fill="none"></path><g id="SvgjsG3083"><text id="SvgjsText3084" font-family="微软雅黑" text-anchor="start" font-size="13px" width="84" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="257.05" transform="rotate(0)"><tspan id="SvgjsTspan3085" dy="16" x="27"><tspan id="SvgjsTspan3086" style="text-decoration:;fill: rgb(255, 51, 51);">/src/node_htt</tspan></tspan><tspan id="SvgjsTspan3087" dy="16" x="27"><tspan id="SvgjsTspan3088" style="text-decoration:;fill: rgb(255, 51, 51);">p_parser.cc</tspan></tspan></text></g></g><g id="SvgjsG3089" transform="translate(1925.469601842607,2489.421875)"><path id="SvgjsPath3090" d="M0 0L567.0149975753661 0L567.0149975753661 133.75L0 133.75Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG3091"><text id="SvgjsText3092" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="532" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="40.925" transform="rotate(0)"><tspan id="SvgjsTspan3093" dy="16" x="284.5"><tspan id="SvgjsTspan3094" style="text-decoration:;">以http解析器（llhttp）为例，开始调用http解析器void OnStreamRead(ssize_t nread, const </tspan></tspan><tspan id="SvgjsTspan3095" dy="16" x="284.5"><tspan id="SvgjsTspan3096" style="text-decoration:;">uv_buf_t&amp; buf) override {    ...    Local&lt;Value&gt; ret = Execute(buf.base, nread);    ...  };(634)</tspan></tspan></text></g></g><g id="SvgjsG3097" transform="translate(2149.4871505817005,2349.421875)"><path id="SvgjsPath3098" d="M0 40L60 0L120 40L60 80Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG3099"><text id="SvgjsText3100" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="90" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="22.45" transform="rotate(0)"><tspan id="SvgjsTspan3101" dy="16" x="60.5"><tspan id="SvgjsTspan3102" style="text-decoration:;">是否通过http.js</tspan></tspan><tspan id="SvgjsTspan3103" dy="16" x="60.5"><tspan id="SvgjsTspan3104" style="text-decoration:;">启动的服务</tspan></tspan></text></g></g><g id="SvgjsG3105"><path id="SvgjsPath3106" d="M2209.4871505817005 2429.421875L2209.4871505817005 2459.421875L2208.97710063029 2459.421875L2208.97710063029 2489.421875 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker3107)"></path><rect id="SvgjsRect3109" width="128" height="16" x="2145.232125605995" y="2451.421875" fill="#ffffff"></rect><text id="SvgjsText3110" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="128" fill="#323232" font-weight="400" align="top" font-style="" opacity="1" y="2449.471875" transform="rotate(0)"><tspan id="SvgjsTspan3111" dy="16" x="2209.232125605995"><tspan id="SvgjsTspan3112" style="text-decoration:;">是（普通的http服务）</tspan></tspan></text></g><g id="SvgjsG3113"><path id="SvgjsPath3114" d="M2224.5095572745613 2305.671875L2224.5095572745613 2327.546875L2209.4871505817005 2327.546875L2209.4871505817005 2349.421875 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker3115)"></path></g><g id="SvgjsG3117" transform="translate(1750.4965738344247,3844.9443359375)"><path id="SvgjsPath3118" d="M0 0L290.3159261655753 0L290.3159261655753 115.7275390625L0 115.7275390625Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG3119"><text id="SvgjsText3120" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="254" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="-0.08623046874999996" transform="rotate(0)"><tspan id="SvgjsTspan3121" dy="16" x="146"><tspan id="SvgjsTspan3122" style="text-decoration:;">调用parserOnHeadersComplete；因为是头</tspan></tspan><tspan id="SvgjsTspan3123" dy="16" x="146"><tspan id="SvgjsTspan3124" style="text-decoration:;">部，所以判断是一个新的请求，创建一个请</tspan></tspan><tspan id="SvgjsTspan3125" dy="16" x="146"><tspan id="SvgjsTspan3126" style="text-decoration:;">求：</tspan></tspan><tspan id="SvgjsTspan3127" dy="16" x="146"><tspan id="SvgjsTspan3128" style="text-decoration:;">const incoming = parser.incoming = new </tspan></tspan><tspan id="SvgjsTspan3129" dy="16" x="146"><tspan id="SvgjsTspan3130" style="text-decoration:;">ParserIncomingMessage(socket);（93）</tspan></tspan><tspan id="SvgjsTspan3131" dy="16" x="146"><tspan id="SvgjsTspan3132" style="text-decoration:;">然后调用：</tspan></tspan><tspan id="SvgjsTspan3133" dy="16" x="146"><tspan id="SvgjsTspan3134" style="text-decoration:;">parser.onIncoming（117）</tspan></tspan></text></g></g><g id="SvgjsG3135" transform="translate(2530.1526100852298,3814.421875)"><path id="SvgjsPath3136" d="M0 140Q9 140 9 131L9 79Q9 70 22 70Q9 70 9 61L9 9Q9 0 0 0 " stroke="rgba(50,50,50,1)" stroke-width="2" fill="none"></path><path id="SvgjsPath3137" d="M0 0L100 0L100 140L0 140Z " stroke="none" fill="none"></path><g id="SvgjsG3138"><text id="SvgjsText3139" font-family="微软雅黑" text-anchor="start" font-size="13px" width="71" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="52.05" transform="rotate(0)"><tspan id="SvgjsTspan3140" dy="16" x="27"><tspan id="SvgjsTspan3141" style="text-decoration:;fill: rgb(255, 51, 51);">/lib/_http_c</tspan></tspan><tspan id="SvgjsTspan3142" dy="16" x="27"><tspan id="SvgjsTspan3143" style="text-decoration:;fill: rgb(255, 51, 51);">ommon.js</tspan></tspan></text></g></g><g id="SvgjsG3144" transform="translate(2148.97710063029,2663.7552083333303)"><path id="SvgjsPath3145" d="M0 40L60 0L120 40L60 80Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG3146"><text id="SvgjsText3147" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="91" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="22.45" transform="rotate(0)"><tspan id="SvgjsTspan3148" dy="16" x="60.5"><tspan id="SvgjsTspan3149" style="text-decoration:;">解析完一段，判</tspan></tspan><tspan id="SvgjsTspan3150" dy="16" x="60.5"><tspan id="SvgjsTspan3151" style="text-decoration:;">断是否为头部</tspan></tspan></text></g></g><g id="SvgjsG3152" transform="translate(2247.0625,3854.875)"><path id="SvgjsPath3153" d="M0 0L261.25 0L261.25 137.046875L0 137.046875Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG3154"><text id="SvgjsText3155" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="237" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="26.5734375" transform="rotate(0)"><tspan id="SvgjsTspan3156" dy="16" x="131.5"><tspan id="SvgjsTspan3157" style="text-decoration:;">body数据解析完毕，调用其回调（把解析</tspan></tspan><tspan id="SvgjsTspan3158" dy="16" x="131.5"><tspan id="SvgjsTspan3159" style="text-decoration:;">的数据传过去）：function </tspan></tspan><tspan id="SvgjsTspan3160" dy="16" x="131.5"><tspan id="SvgjsTspan3161" style="text-decoration:;">parserOnBody(b, start, len) {    ...    </tspan></tspan><tspan id="SvgjsTspan3162" dy="16" x="131.5"><tspan id="SvgjsTspan3163" style="text-decoration:;">const ret = stream.push(slice);    ...  }}</tspan></tspan></text></g></g><g id="SvgjsG3164"><path id="SvgjsPath3165" d="M2208.97710063029 2623.171875L2208.97710063029 2643.463541666665L2208.97710063029 2643.463541666665L2208.97710063029 2663.7552083333303 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker3166)"></path></g><g id="SvgjsG3168" transform="translate(1187.8124999999998,5640.921875)"><path id="SvgjsPath3169" d="M0 0L287.0977938595463 0L287.0977938595463 170.9999999999991L0 170.9999999999991Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG3170"><text id="SvgjsText3171" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="258" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="35.54999999999954" transform="rotate(0)"><tspan id="SvgjsTspan3172" dy="16" x="144.5"><tspan id="SvgjsTspan3173" style="text-decoration:;">创建完后，触发request事件：</tspan></tspan><tspan id="SvgjsTspan3174" dy="16" x="144.5"><tspan id="SvgjsTspan3175" style="text-decoration:;">function parserOnIncoming(server, socket, </tspan></tspan><tspan id="SvgjsTspan3176" dy="16" x="144.5"><tspan id="SvgjsTspan3177" style="text-decoration:;">state, req, keepAlive) {  ...  </tspan></tspan><tspan id="SvgjsTspan3178" dy="16" x="144.5"><tspan id="SvgjsTspan3179" style="text-decoration:;">state.incoming.push(req);  const res = new </tspan></tspan><tspan id="SvgjsTspan3180" dy="16" x="144.5"><tspan id="SvgjsTspan3181" style="text-decoration:;">server[kServerResponse](req);  ...    </tspan></tspan><tspan id="SvgjsTspan3182" dy="16" x="144.5"><tspan id="SvgjsTspan3183" style="text-decoration:;">server.emit('request', req, res);}（717）</tspan></tspan></text></g></g><g id="SvgjsG3184"><path id="SvgjsPath3185" d="M1895.6545369172122 3960.671875L1895.6545369172122 4800.796875L1331.361396929773 4800.796875L1331.361396929773 5640.921875 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker3186)"></path></g><g id="SvgjsG3188" transform="translate(2247.0625,4515.671875)"><path id="SvgjsPath3189" d="M0 0L261.25 0L261.25 87.5L0 87.5Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG3190"><text id="SvgjsText3191" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="227" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="17.8" transform="rotate(0)"><tspan id="SvgjsTspan3192" dy="16" x="131.5"><tspan id="SvgjsTspan3193" style="text-decoration:;">调用readableAddChunk：</tspan></tspan><tspan id="SvgjsTspan3194" dy="16" x="131.5"><tspan id="SvgjsTspan3195" style="text-decoration:;">return readableAddChunk(this, chunk, </tspan></tspan><tspan id="SvgjsTspan3196" dy="16" x="131.5"><tspan id="SvgjsTspan3197" style="text-decoration:;">encoding, false); （220）</tspan></tspan></text></g></g><g id="SvgjsG3198" transform="translate(2523.3125,4521.921875)"><path id="SvgjsPath3199" d="M0 616.25Q9 616.25 9 607.25L9 317.125Q9 308.125 22 308.125Q9 308.125 9 299.125L9 9Q9 0 0 0 " stroke="rgba(50,50,50,1)" stroke-width="2" fill="none"></path><path id="SvgjsPath3200" d="M0 0L95 0L95 616.25L0 616.25Z " stroke="none" fill="none"></path><g id="SvgjsG3201"><text id="SvgjsText3202" font-family="微软雅黑" text-anchor="start" font-size="13px" width="62" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="290.175" transform="rotate(0)"><tspan id="SvgjsTspan3203" dy="16" x="27"><tspan id="SvgjsTspan3204" style="text-decoration:;fill: rgb(255, 51, 51);">_steam_re</tspan></tspan><tspan id="SvgjsTspan3205" dy="16" x="27"><tspan id="SvgjsTspan3206" style="text-decoration:;fill: rgb(255, 51, 51);">adable.js</tspan></tspan></text></g></g><g id="SvgjsG3207" transform="translate(2317.6875,4649.421875)"><path id="SvgjsPath3208" d="M0 40L60 0L120 40L60 80Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG3209"><text id="SvgjsText3210" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="78" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="30.45" transform="rotate(0)"><tspan id="SvgjsTspan3211" dy="16" x="60.5"><tspan id="SvgjsTspan3212" style="text-decoration:;">流是否在流动</tspan></tspan></text></g></g><g id="SvgjsG3213" transform="translate(1952.0625,4778.171875)"><path id="SvgjsPath3214" d="M0 0L271.25 0L271.25 135.3125L0 135.3125Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG3215"><text id="SvgjsText3216" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="241" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="41.70625" transform="rotate(0)"><tspan id="SvgjsTspan3217" dy="16" x="136.5"><tspan id="SvgjsTspan3218" style="text-decoration:;">先暂存到readable的buf中（后续会自动消</tspan></tspan><tspan id="SvgjsTspan3219" dy="16" x="136.5"><tspan id="SvgjsTspan3220" style="text-decoration:;">费的）：</tspan></tspan><tspan id="SvgjsTspan3221" dy="16" x="136.5"><tspan id="SvgjsTspan3222" style="text-decoration:;">state.buffer.push(chunk);（312）</tspan></tspan></text></g></g><g id="SvgjsG3223"><path id="SvgjsPath3224" d="M2377.6875 4603.171875L2377.6875 4626.296875L2377.6875 4626.296875L2377.6875 4649.421875 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker3225)"></path></g><g id="SvgjsG3227"><path id="SvgjsPath3228" d="M2377.6875 3991.921875L2377.6875 4253.796875L2377.6875 4253.796875L2377.6875 4515.671875 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker3229)"></path></g><g id="SvgjsG3231"><path id="SvgjsPath3232" d="M2317.6875 4689.421875L2109.7265625 4689.421875L2109.7265625 4780.588169642857 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker3233)"></path><rect id="SvgjsRect3235" width="13" height="16" x="2161.6238839285716" y="4681.421875" fill="#ffffff"></rect><text id="SvgjsText3236" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="13" fill="#323232" font-weight="400" align="top" font-style="" opacity="1" y="4679.471875" transform="rotate(0)"><tspan id="SvgjsTspan3237" dy="16" x="2168.1238839285716"><tspan id="SvgjsTspan3238" style="text-decoration:;">否</tspan></tspan></text></g><g id="SvgjsG3239" transform="translate(2298.909263924803,4778.484375)"><path id="SvgjsPath3240" d="M0 0L215.65323607519713 0L215.65323607519713 134.6875L0 134.6875Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG3241"><text id="SvgjsText3242" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="160" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="41.39375" transform="rotate(0)"><tspan id="SvgjsTspan3243" dy="16" x="108.5"><tspan id="SvgjsTspan3244" style="text-decoration:;">直接将数据emit出去：</tspan></tspan><tspan id="SvgjsTspan3245" dy="16" x="108.5"><tspan id="SvgjsTspan3246" style="text-decoration:;">stream.emit('data', chunk);</tspan></tspan><tspan id="SvgjsTspan3247" dy="16" x="108.5"><tspan id="SvgjsTspan3248" style="text-decoration:;">（305）</tspan></tspan></text></g></g><g id="SvgjsG3249"><path id="SvgjsPath3250" d="M2437.6875 4689.421875L2441.779532824621 4689.421875L2441.779532824621 4780.889508928572 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker3251)"></path><rect id="SvgjsRect3253" width="13" height="16" x="2435.279532824621" y="4725.109675551976" fill="#ffffff"></rect><text id="SvgjsText3254" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="13" fill="#323232" font-weight="400" align="top" font-style="" opacity="1" y="4723.159675551976" transform="rotate(0)"><tspan id="SvgjsTspan3255" dy="16" x="2441.779532824621"><tspan id="SvgjsTspan3256" style="text-decoration:;">是</tspan></tspan></text></g><g id="SvgjsG3257" transform="translate(2267.0625,3975.671875)"><path id="SvgjsPath3258" d="M14.25 62.12499999999999C-11.875 44.375 4.75 31.062499999999996 10.6875 26.625C8.3125 4.4375 38 0 49.875 8.875C59.375 -4.4375 89.0625 0 89.0625 13.3125C112.8125 8.875 122.3125 26.625 112.8125 48.81250000000001C121.125 66.5625 112.8125 88.75 85.5 79.875C79.5625 91.41250000000001 55.8125 91.41250000000001 49.875 79.875C38 88.75 14.25 84.3125 14.25 62.12499999999999Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG3259"><text id="SvgjsText3260" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="91" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="18.425" transform="rotate(0)"><tspan id="SvgjsTspan3261" dy="16" x="60"><tspan id="SvgjsTspan3262" style="text-decoration:;">此stream是js世</tspan></tspan><tspan id="SvgjsTspan3263" dy="16" x="60"><tspan id="SvgjsTspan3264" style="text-decoration:;">界中的readable </tspan></tspan><tspan id="SvgjsTspan3265" dy="16" x="60"><tspan id="SvgjsTspan3266" style="text-decoration:;">stream</tspan></tspan></text></g></g><g id="SvgjsG3267"><path id="SvgjsPath3268" d="M2406.7358819624014 4913.171875L2406.7358819624014 6759.309771825415L1931.1316257188018 6759.309771825415 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker3269)"></path><rect id="SvgjsRect3271" width="93" height="16" x="2027.3125" y="6750.921875" fill="#ffffff"></rect><text id="SvgjsText3272" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="93" fill="#323232" font-weight="400" align="top" font-style="" opacity="1" y="6748.971875" transform="rotate(0)"><tspan id="SvgjsTspan3273" dy="16" x="2073.8125"><tspan id="SvgjsTspan3274" style="text-decoration:;">执行on中的函数</tspan></tspan></text></g><g id="SvgjsG3275" transform="translate(2526.732555042615,6592.279017857152)"><path id="SvgjsPath3276" d="M0 140Q9 140 9 131L9 79Q9 70 22 70Q9 70 9 61L9 9Q9 0 0 0 " stroke="rgba(50,50,50,1)" stroke-width="2" fill="none"></path><path id="SvgjsPath3277" d="M0 0L100 0L100 140L0 140Z " stroke="none" fill="none"></path><g id="SvgjsG3278"><text id="SvgjsText3279" font-family="微软雅黑" text-anchor="start" font-size="13px" width="53" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="44.05" transform="rotate(0)"><tspan id="SvgjsTspan3280" dy="16" x="27"><tspan id="SvgjsTspan3281" style="text-decoration:;fill: rgb(255, 51, 51);">业务</tspan></tspan><tspan id="SvgjsTspan3282" dy="16" x="27"><tspan id="SvgjsTspan3283" style="text-decoration:;fill: rgb(255, 51, 51);">js：node </tspan></tspan><tspan id="SvgjsTspan3284" dy="16" x="27"><tspan id="SvgjsTspan3285" style="text-decoration:;fill: rgb(255, 51, 51);">xx.js中的</tspan></tspan><tspan id="SvgjsTspan3286" dy="16" x="27"><tspan id="SvgjsTspan3287" style="text-decoration:;fill: rgb(255, 51, 51);">xx.js</tspan></tspan></text></g></g><g id="SvgjsG3288" transform="translate(301.4791666666667,6648.564573688266)"><path id="SvgjsPath3289" d="M80.66145833333314 0L0 42.77934751157645L29.03812499999993 109.6906346450678L132.28479166666634 109.6906346450678L161.3229166666663 42.77934751157645Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG3290"><text id="SvgjsText3291" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="117" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="45.12211492091398" transform="rotate(0)"><tspan id="SvgjsTspan3292" dy="16" x="81.5"><tspan id="SvgjsTspan3293" style="text-decoration:;">执行业务逻辑代码：</tspan></tspan><tspan id="SvgjsTspan3294" dy="16" x="81.5"><tspan id="SvgjsTspan3295" style="text-decoration:;">node xx.js中的xx.js</tspan></tspan></text></g></g><g id="SvgjsG3296"><path id="SvgjsPath3297" d="M447.375 633.171875L447.375 3640.868224344133L382.14062499999983 3640.868224344133L382.14062499999983 6648.564573688266 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker3298)"></path></g><g id="SvgjsG3300" transform="translate(55.21064814814763,3702.3385416666697)"><path id="SvgjsPath3301" d="M0 0L2728.333333333334 0L2728.333333333334 20L0 20Z " stroke-dasharray="3,4" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#009900"></path><g id="SvgjsG3302"><text id="SvgjsText3303" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="687" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="0.050000000000000044" transform="rotate(0)"><tspan id="SvgjsTspan3304" dy="16" x="1365"><tspan id="SvgjsTspan3305" style="text-decoration:;fill: rgb(255, 255, 255);font-weight: bold;">c++/js分界线，也就是bind发挥作用的地方。这里c++调用js一般通过MakeCallBack的方式（InternalMakeCallBack）</tspan></tspan></text></g></g><g id="SvgjsG3306" transform="translate(553.4791666666667,6639.921875)"><path id="SvgjsPath3307" d="M0 50.61805555555611L105.16666666666663 0L210.33333333333326 50.61805555555611L105.16666666666663 101.23611111111222Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG3308"><text id="SvgjsText3309" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="185" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="33.17423611111167" transform="rotate(0)"><tspan id="SvgjsTspan3310" dy="16" x="106"><tspan id="SvgjsTspan3311" style="text-decoration:;">是否使用http解析器</tspan></tspan><tspan id="SvgjsTspan3312" dy="16" x="106"><tspan id="SvgjsTspan3313" style="text-decoration:;">（即是否通过http.js启动服务 ）</tspan></tspan></text></g></g><g id="SvgjsG3314" transform="translate(807.479166666666,5176.921875)"><path id="SvgjsPath3315" d="M0 0L293.33333333333405 0L293.33333333333405 125L0 125Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG3316"><text id="SvgjsText3317" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="274" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="36.55" transform="rotate(0)"><tspan id="SvgjsTspan3318" dy="16" x="147.5"><tspan id="SvgjsTspan3319" style="text-decoration:;">调用createServerHandle，创建一个服务实例：</tspan></tspan><tspan id="SvgjsTspan3320" dy="16" x="147.5"><tspan id="SvgjsTspan3321" style="text-decoration:;">handle = new TCP(TCPConstants.SERVER);</tspan></tspan><tspan id="SvgjsTspan3322" dy="16" x="147.5"><tspan id="SvgjsTspan3323" style="text-decoration:;">(1218)</tspan></tspan></text></g></g><g id="SvgjsG3324"><path id="SvgjsPath3325" d="M658.6458333333334 6639.921875L658.6458333333334 6632.851438492082L983.1458333333334 6632.851438492082 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker3326)"></path><rect id="SvgjsRect3328" width="13" height="16" x="765.3125" y="6623.921875" fill="#ffffff"></rect><text id="SvgjsText3329" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="13" fill="#323232" font-weight="400" align="top" font-style="" opacity="1" y="6621.971875" transform="rotate(0)"><tspan id="SvgjsTspan3330" dy="16" x="771.8125"><tspan id="SvgjsTspan3331" style="text-decoration:;">否</tspan></tspan></text></g><g id="SvgjsG3332"><path id="SvgjsPath3333" d="M658.6458333333329 6741.157986111112L658.6458333333329 6759.309771825415L1518.2305956648145 6759.309771825415 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker3334)"></path><rect id="SvgjsRect3336" width="13" height="16" x="780.3125" y="6750.921875" fill="#ffffff"></rect><text id="SvgjsText3337" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="13" fill="#323232" font-weight="400" align="top" font-style="" opacity="1" y="6748.971875" transform="rotate(0)"><tspan id="SvgjsTspan3338" dy="16" x="786.8125"><tspan id="SvgjsTspan3339" style="text-decoration:;">是</tspan></tspan></text></g><g id="SvgjsG3340"><path id="SvgjsPath3341" d="M462.802083333333 6691.343921199843L508.1406249999999 6691.343921199843L508.1406249999999 6690.539930555556L553.4791666666667 6690.539930555556 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker3342)"></path></g><g id="SvgjsG3344" transform="translate(1012.479166666667,3598.151041666667)"><path id="SvgjsPath3345" d="M0 0L263.6979166666663 0L263.6979166666663 90.3333333333344L0 90.3333333333344Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG3346"><text id="SvgjsText3347" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="241" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="27.216666666667198" transform="rotate(0)"><tspan id="SvgjsTspan3348" dy="16" x="132.5"><tspan id="SvgjsTspan3349" style="text-decoration:;">调用/src/tcp_wrap.cc的方法，创建tcp实</tspan></tspan><tspan id="SvgjsTspan3350" dy="16" x="132.5"><tspan id="SvgjsTspan3351" style="text-decoration:;">例</tspan></tspan></text></g></g><g id="SvgjsG3352"><path id="SvgjsPath3353" d="M954.145833333333 5176.921875L954.145833333333 4432.703125000001L1144.3281250000002 4432.703125000001L1144.3281250000002 3688.4843750000014 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker3354)"></path></g><g id="SvgjsG3356" transform="translate(24.99479166666743,7243.796874999993)"><path id="SvgjsPath3357" d="M0 0L179.33333333333258 0L179.33333333333258 67L0 67Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG3358"><text id="SvgjsText3359" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="127" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="23.55" transform="rotate(0)"><tspan id="SvgjsTspan3360" dy="16" x="90.5"><tspan id="SvgjsTspan3361" style="text-decoration:;">author：jimmiezhang</tspan></tspan></text></g></g><g id="SvgjsG3362"><path id="SvgjsPath3363" d="M1218.1458333333333 3688.151041666667L1218.1458333333333 4435.465985082303L1215.6458333333335 4435.465985082303L1215.6458333333335 5182.780928497939 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker3364)"></path></g><g id="SvgjsG3366" transform="translate(1113.8125,5180.440393518514)"><path id="SvgjsPath3367" d="M0 0L203.66666666666674 0L203.66666666666674 117.9629629629726L0 117.9629629629726Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG3368"><text id="SvgjsText3369" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="182" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="41.031481481486296" transform="rotate(0)"><tspan id="SvgjsTspan3370" dy="16" x="102.5"><tspan id="SvgjsTspan3371" style="text-decoration:;">得到一个tcp实例，把这个tcp实</tspan></tspan><tspan id="SvgjsTspan3372" dy="16" x="102.5"><tspan id="SvgjsTspan3373" style="text-decoration:;">例保存为handle</tspan></tspan></text></g></g><g id="SvgjsG3374"><path id="SvgjsPath3375" d="M1317.4791666666667 5239.421874999999L1331.3790089862323 5239.421874999999L1331.3790089862323 5238.290393518513L1345.278851305798 5238.290393518513 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker3376)"></path></g><g id="SvgjsG3378" transform="translate(1345.278851305798,5180.440393518514)"><path id="SvgjsPath3379" d="M155.83333333333337 0L0 57.850000000000236L56.10000000000001 148.33333333333394L255.56666666666672 148.33333333333394L311.66666666666674 57.850000000000236Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG3380"><text id="SvgjsText3381" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="270" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="51.34166666666701" transform="rotate(0)"><tspan id="SvgjsTspan3382" dy="16" x="156.5"><tspan id="SvgjsTspan3383" style="text-decoration:;">net.js中封装一个onconnection函数，保存到这</tspan></tspan><tspan id="SvgjsTspan3384" dy="16" x="156.5"><tspan id="SvgjsTspan3385" style="text-decoration:;">个handle的onconnection上：</tspan></tspan><tspan id="SvgjsTspan3386" dy="16" x="156.5"><tspan id="SvgjsTspan3387" style="text-decoration:;">this._handle.onconnection = onconnection;</tspan></tspan><tspan id="SvgjsTspan3388" dy="16" x="156.5"><tspan id="SvgjsTspan3389" style="text-decoration:;">(1285)</tspan></tspan></text></g></g><g id="SvgjsG3390" transform="translate(1799.7383839292036,4961.921875)"><path id="SvgjsPath3391" d="M0 0L155.87476393286943 0L155.87476393286943 107.5L0 107.5Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG3392"><text id="SvgjsText3393" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="135" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="11.8" transform="rotate(0)"><tspan id="SvgjsTspan3394" dy="16" x="78.5"><tspan id="SvgjsTspan3395" style="text-decoration:;">readable stream的on</tspan></tspan><tspan id="SvgjsTspan3396" dy="16" x="78.5"><tspan id="SvgjsTspan3397" style="text-decoration:;">方法，调用resume，在</tspan></tspan><tspan id="SvgjsTspan3398" dy="16" x="78.5"><tspan id="SvgjsTspan3399" style="text-decoration:;">下一个tick中执</tspan></tspan><tspan id="SvgjsTspan3400" dy="16" x="78.5"><tspan id="SvgjsTspan3401" style="text-decoration:;">行_resume：</tspan></tspan><tspan id="SvgjsTspan3402" dy="16" x="78.5"><tspan id="SvgjsTspan3403" style="text-decoration:;">this.resume();（865）</tspan></tspan></text></g></g><g id="SvgjsG3404" transform="translate(58.997685185184835,6560.625578703718)"><path id="SvgjsPath3405" d="M0 0L2715.1481481481487 0L2715.1481481481487 20L0 20Z " stroke-dasharray="3,4" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#66ff66"></path><g id="SvgjsG3406"><text id="SvgjsText3407" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="138" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="0.050000000000000044" transform="rotate(0)"><tspan id="SvgjsTspan3408" dy="16" x="1358.5"><tspan id="SvgjsTspan3409" style="text-decoration:;caret-color: rgb(255, 255, 255);font-weight: bold;fill: rgb(255, 0, 0);">native js/业务js 分界钱</tspan></tspan></text></g></g><g id="SvgjsG3410" transform="translate(2530.344884792048,5180.440393518514)"><path id="SvgjsPath3411" d="M0 316.4814814814863Q9 316.4814814814863 9 307.4814814814863L9 167.24074074074315Q9 158.24074074074315 22 158.24074074074315Q9 158.24074074074315 9 149.24074074074315L9 9Q9 0 0 0 " stroke="rgba(50,50,50,1)" stroke-width="2" fill="none"></path><path id="SvgjsPath3412" d="M0 0L96.38767025056677 0L96.38767025056677 316.4814814814863L0 316.4814814814863Z " stroke="none" fill="none"></path><g id="SvgjsG3413"><text id="SvgjsText3414" font-family="微软雅黑" text-anchor="start" font-size="13px" width="33" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="148.29074074074316" transform="rotate(0)"><tspan id="SvgjsTspan3415" dy="16" x="27"><tspan id="SvgjsTspan3416" style="text-decoration:;fill: rgb(255, 51, 51);">net.js</tspan></tspan></text></g></g><g id="SvgjsG3417" transform="translate(2534.9436816077464,3593.171875)"><path id="SvgjsPath3418" d="M0 81.25Q9 81.25 9 73.125L9 48.75Q9 40.625 22 40.625Q9 40.625 9 32.5L9 8.125Q9 0 0 0 " stroke="rgba(50,50,50,1)" stroke-width="2" fill="none"></path><path id="SvgjsPath3419" d="M0 0L160.86881839225362 0L160.86881839225362 81.25L0 81.25Z " stroke="none" fill="none"></path><g id="SvgjsG3420"><text id="SvgjsText3421" font-family="微软雅黑" text-anchor="start" font-size="13px" width="104" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="30.675" transform="rotate(0)"><tspan id="SvgjsTspan3422" dy="16" x="27"><tspan id="SvgjsTspan3423" style="text-decoration:;fill: rgb(255, 51, 51);">/src/tcp_wrap.cc</tspan></tspan></text></g></g><g id="SvgjsG3424" transform="translate(767.4791666666667,5328.773726851848)"><path id="SvgjsPath3425" d="M0 0L373.3333333333326 0L373.3333333333326 146.99276620370802L0 146.99276620370802Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG3426"><text id="SvgjsText3427" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="344" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="-0.45361689814599226" transform="rotate(0)"><tspan id="SvgjsTspan3428" dy="16" x="187.5"><tspan id="SvgjsTspan3429" style="text-decoration:;">以net.js为例，创建一个server实例，注册一个connection事</tspan></tspan><tspan id="SvgjsTspan3430" dy="16" x="187.5"><tspan id="SvgjsTspan3431" style="text-decoration:;">件：</tspan></tspan><tspan id="SvgjsTspan3432" dy="16" x="187.5"><tspan id="SvgjsTspan3433" style="text-decoration:;">function Server(options, connectionListener) {</tspan></tspan><tspan id="SvgjsTspan3434" dy="16" x="187.5"><tspan id="SvgjsTspan3435" style="text-decoration:;">...</tspan></tspan><tspan id="SvgjsTspan3436" dy="16" x="187.5"><tspan id="SvgjsTspan3437" style="text-decoration:;">    if(xx){</tspan></tspan><tspan id="SvgjsTspan3438" dy="16" x="187.5"><tspan id="SvgjsTspan3439" style="text-decoration:;">this.on('connection', connectionListener);</tspan></tspan><tspan id="SvgjsTspan3440" dy="16" x="187.5"><tspan id="SvgjsTspan3441" style="text-decoration:;">...</tspan></tspan><tspan id="SvgjsTspan3442" dy="16" x="187.5"><tspan id="SvgjsTspan3443" style="text-decoration:;font-size: inherit;">};(1136)</tspan></tspan><tspan id="SvgjsTspan3444" dy="16" x="187.5"><tspan id="SvgjsTspan3445" style="text-decoration:;"> </tspan></tspan></text></g></g><g id="SvgjsG3446"><path id="SvgjsPath3447" d="M954.1458333333328 5328.773726851848L954.1458333333328 5315.347800925923L954.145833333333 5315.347800925923L954.145833333333 5301.921875 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker3448)"></path></g><g id="SvgjsG3450" transform="translate(983.1458333333334,6592.279017857152)"><path id="SvgjsPath3451" d="M0 0L276.66666666666663 0L276.66666666666663 81.14484126985917L0 81.14484126985917Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG3452"><text id="SvgjsText3453" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="254" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="14.622420634929586" transform="rotate(0)"><tspan id="SvgjsTspan3454" dy="16" x="139"><tspan id="SvgjsTspan3455" style="text-decoration:;">将业务代码net.createServer((socket) =&gt; {})</tspan></tspan><tspan id="SvgjsTspan3456" dy="16" x="139"><tspan id="SvgjsTspan3457" style="text-decoration:;">中的函数作为参数，调用net.js中的</tspan></tspan><tspan id="SvgjsTspan3458" dy="16" x="139"><tspan id="SvgjsTspan3459" style="text-decoration:;">createServer方法</tspan></tspan></text></g></g><g id="SvgjsG3460"><path id="SvgjsPath3461" d="M995.8124999999998 6593.921874999998L995.8124999999998 6034.844184027777L954.145833333333 6034.844184027777L954.145833333333 5475.766493055556 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker3462)"></path></g><g id="SvgjsG3464" transform="translate(1217.1458333333335,6632.851438492082)"><path id="SvgjsPath3465" d="M10.799999999999999 49C-9 35 3.6 24.5 8.1 21C6.300000000000001 3.5 28.8 0 37.8 7C45 -3.5 67.5 0 67.5 10.5C85.5 7 92.7 21 85.5 38.5C91.8 52.5 85.5 70 64.8 63C60.300000000000004 72.10000000000001 42.3 72.10000000000001 37.8 63C28.8 70 10.799999999999999 66.5 10.799999999999999 49Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG3466"><text id="SvgjsText3467" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="65" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="1.05" transform="rotate(0)"><tspan id="SvgjsTspan3468" dy="16" x="45.5"><tspan id="SvgjsTspan3469" style="text-decoration:;">这里就</tspan></tspan><tspan id="SvgjsTspan3470" dy="16" x="45.5"><tspan id="SvgjsTspan3471" style="text-decoration:;">是connecti</tspan></tspan><tspan id="SvgjsTspan3472" dy="16" x="45.5"><tspan id="SvgjsTspan3473" style="text-decoration:;">onLister的</tspan></tspan><tspan id="SvgjsTspan3474" dy="16" x="45.5"><tspan id="SvgjsTspan3475" style="text-decoration:;">源头代码</tspan></tspan></text></g></g><g id="SvgjsG3476"><path id="SvgjsPath3477" d="M1711.1772859188782 5360.671875L1485.494892959439 5360.671875L1485.494892959439 6632.851438492082L1259.8125 6632.851438492082 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker3478)"></path><rect id="SvgjsRect3480" width="13" height="16" x="1691.3931662709062" y="5352.671875" fill="#ffffff"></rect><text id="SvgjsText3481" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="13" fill="#323232" font-weight="400" align="top" font-style="" opacity="1" y="5350.721875" transform="rotate(0)"><tspan id="SvgjsTspan3482" dy="16" x="1697.8931662709062"><tspan id="SvgjsTspan3483" style="text-decoration:;">否</tspan></tspan></text></g><g id="SvgjsG3484" transform="translate(2530.344884792048,6196.921875)"><path id="SvgjsPath3485" d="M0 121Q8.093523041590378 121 8.093523041590378 112L8.093523041590378 69.5Q8.093523041590378 60.5 22 60.5Q8.093523041590378 60.5 8.093523041590378 51.5L8.093523041590378 9Q8.093523041590378 0 0 0 " stroke="rgba(50,50,50,1)" stroke-width="2" fill="none"></path><path id="SvgjsPath3486" d="M0 0L80.93523041590379 0L80.93523041590379 121L0 121Z " stroke="none" fill="none"></path><g id="SvgjsG3487"><text id="SvgjsText3488" font-family="微软雅黑" text-anchor="start" font-size="13px" width="38" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="50.55" transform="rotate(0)"><tspan id="SvgjsTspan3489" dy="16" x="27"><tspan id="SvgjsTspan3490" style="text-decoration:;fill: rgb(255, 51, 51);font-style: italic;">http.js</tspan></tspan></text></g></g><g id="SvgjsG3491" transform="translate(1518.2305956648145,6702.851438492082)"><path id="SvgjsPath3492" d="M0 0L412.90103005398737 0L412.90103005398737 112.91666666666606L0 112.91666666666606Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG3493"><text id="SvgjsText3494" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="378" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="30.50833333333303" transform="rotate(0)"><tspan id="SvgjsTspan3495" dy="16" x="207"><tspan id="SvgjsTspan3496" style="text-decoration:;">将业务代码const server = http.createServer((req, res) =&gt; {  </tspan></tspan><tspan id="SvgjsTspan3497" dy="16" x="207"><tspan id="SvgjsTspan3498" style="text-decoration:;">req.on('data', () =&gt; {})});中的函数作为参数requestListener，传递</tspan></tspan><tspan id="SvgjsTspan3499" dy="16" x="207"><tspan id="SvgjsTspan3500" style="text-decoration:;">到http.js中的Server中</tspan></tspan></text></g></g><g id="SvgjsG3501" transform="translate(1317.0260802420482,6196.380208333337)"><path id="SvgjsPath3502" d="M0 0L245.61015287167675 0L245.61015287167675 76.875L0 76.875Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG3503"><text id="SvgjsText3504" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="204" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="12.4875" transform="rotate(0)"><tspan id="SvgjsTspan3505" dy="16" x="123.5"><tspan id="SvgjsTspan3506" style="text-decoration:;">调用_http_server.js中的构建函数：</tspan></tspan><tspan id="SvgjsTspan3507" dy="16" x="123.5"><tspan id="SvgjsTspan3508" style="text-decoration:;">return new Server(opts, </tspan></tspan><tspan id="SvgjsTspan3509" dy="16" x="123.5"><tspan id="SvgjsTspan3510" style="text-decoration:;">requestListener);（42）</tspan></tspan></text></g></g><g id="SvgjsG3511" transform="translate(1896.229560867751,6792.671875000002)"><path id="SvgjsPath3512" d="M10.799999999999999 49C-9 35 3.6 24.5 8.1 21C6.300000000000001 3.5 28.8 0 37.8 7C45 -3.5 67.5 0 67.5 10.5C85.5 7 92.7 21 85.5 38.5C91.8 52.5 85.5 70 64.8 63C60.300000000000004 72.10000000000001 42.3 72.10000000000001 37.8 63C28.8 70 10.799999999999999 66.5 10.799999999999999 49Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG3513"><text id="SvgjsText3514" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="69" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="1.05" transform="rotate(0)"><tspan id="SvgjsTspan3515" dy="16" x="45.5"><tspan id="SvgjsTspan3516" style="text-decoration:;">这里就</tspan></tspan><tspan id="SvgjsTspan3517" dy="16" x="45.5"><tspan id="SvgjsTspan3518" style="text-decoration:;">是requestLi</tspan></tspan><tspan id="SvgjsTspan3519" dy="16" x="45.5"><tspan id="SvgjsTspan3520" style="text-decoration:;">ster的源头</tspan></tspan><tspan id="SvgjsTspan3521" dy="16" x="45.5"><tspan id="SvgjsTspan3522" style="text-decoration:;">代码</tspan></tspan></text></g></g><g id="SvgjsG3523"><path id="SvgjsPath3524" d="M1731.8124999999995 6703.921874999998L1731.8124999999995 6488.588541666668L1439.8311566778866 6488.588541666668L1439.8311566778866 6273.255208333337 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker3525)"></path></g><g id="SvgjsG3527" transform="translate(2538.8451753699724,5596.207589285714)"><path id="SvgjsPath3528" d="M0 563.1102248600528Q5.839589605859874 563.1102248600528 5.839589605859874 554.1102248600528L5.839589605859874 290.5551124300264Q5.839589605859874 281.5551124300264 22 281.5551124300264Q5.839589605859874 281.5551124300264 5.839589605859874 272.5551124300264L5.839589605859874 9Q5.839589605859874 0 0 0 " stroke="rgba(50,50,50,1)" stroke-width="2" fill="none"></path><path id="SvgjsPath3529" d="M0 0L58.39589605859874 0L58.39589605859874 563.1102248600528L0 563.1102248600528Z " stroke="none" fill="none"></path><g id="SvgjsG3530"><text id="SvgjsText3531" font-family="微软雅黑" text-anchor="start" font-size="13px" width="31" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="255.6051124300264" transform="rotate(0)"><tspan id="SvgjsTspan3532" dy="16" x="27"><tspan id="SvgjsTspan3533" style="text-decoration:;fill: rgb(255, 51, 51);font-style: italic;">_http</tspan></tspan><tspan id="SvgjsTspan3534" dy="16" x="27"><tspan id="SvgjsTspan3535" style="text-decoration:;fill: rgb(255, 51, 51);font-style: italic;">_serv</tspan></tspan><tspan id="SvgjsTspan3536" dy="16" x="27"><tspan id="SvgjsTspan3537" style="text-decoration:;fill: rgb(255, 51, 51);font-style: italic;">er.js</tspan></tspan></text></g></g><g id="SvgjsG3538" transform="translate(1017.9840899118835,5894.921875)"><path id="SvgjsPath3539" d="M0 0L236 0L236 69L0 69Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG3540"><text id="SvgjsText3541" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="215" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="8.55" transform="rotate(0)"><tspan id="SvgjsTspan3542" dy="16" x="118.5"><tspan id="SvgjsTspan3543" style="text-decoration:;">调用net.js中的函数，创建一个服务：</tspan></tspan><tspan id="SvgjsTspan3544" dy="16" x="118.5"><tspan id="SvgjsTspan3545" style="text-decoration:;">net.Server.call(this, { </tspan></tspan><tspan id="SvgjsTspan3546" dy="16" x="118.5"><tspan id="SvgjsTspan3547" style="text-decoration:;">allowHalfOpen: true });（346）</tspan></tspan></text></g></g><g id="SvgjsG3548"><path id="SvgjsPath3549" d="M1308.3125000000005 6074.421875L1308.3125000000005 6019.171875L1135.9840899118835 6019.171875L1135.9840899118835 5963.921875 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker3550)"></path><rect id="SvgjsRect3552" width="5" height="16" x="1219.648294955942" y="6011.171875" fill="#ffffff"></rect><text id="SvgjsText3553" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="5" fill="#323232" font-weight="400" align="top" font-style="" opacity="1" y="6009.221875" transform="rotate(0)"><tspan id="SvgjsTspan3554" dy="16" x="1222.148294955942"><tspan id="SvgjsTspan3555" style="text-decoration:;">1</tspan></tspan></text></g><g id="SvgjsG3556"><path id="SvgjsPath3557" d="M1371.8084651933045 6073.171875L1371.8084651933045 6031.475606282553L1383.7701378262664 6031.475606282553L1383.7701378262664 5989.7793375651045 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker3558)"></path><rect id="SvgjsRect3560" width="8" height="16" x="1373.789301509786" y="6023.475606282553" fill="#ffffff"></rect><text id="SvgjsText3561" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="8" fill="#323232" font-weight="400" align="top" font-style="" opacity="1" y="6021.525606282553" transform="rotate(0)"><tspan id="SvgjsTspan3562" dy="16" x="1377.789301509786"><tspan id="SvgjsTspan3563" style="text-decoration:;">2</tspan></tspan></text></g><g id="SvgjsG3564"><path id="SvgjsPath3565" d="M1439.5625000000005 6074.421875L1439.5625000000005 6027.296875L1679.9386514263133 6027.296875L1679.9386514263133 5980.171875 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker3566)"></path><rect id="SvgjsRect3568" width="8" height="16" x="1555.7505757131569" y="6019.296875" fill="#ffffff"></rect><text id="SvgjsText3569" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="8" fill="#323232" font-weight="400" align="top" font-style="" opacity="1" y="6017.346875" transform="rotate(0)"><tspan id="SvgjsTspan3570" dy="16" x="1559.7505757131569"><tspan id="SvgjsTspan3571" style="text-decoration:;">3</tspan></tspan></text></g><g id="SvgjsG3572"><path id="SvgjsPath3573" d="M1738.1664334349716 1881.609375L1738.1664334349716 3531.024884259257L1501.1121846391316 3531.024884259257L1501.1121846391316 5180.440393518514 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker3574)"></path></g><g id="SvgjsG3576" transform="translate(2530.344884792048,4195.391262755096)"><path id="SvgjsPath3577" d="M0 140Q9 140 9 131L9 79Q9 70 22 70Q9 70 9 61L9 9Q9 0 0 0 " stroke="rgba(50,50,50,1)" stroke-width="2" fill="none"></path><path id="SvgjsPath3578" d="M0 0L100 0L100 140L0 140Z " stroke="none" fill="none"></path><g id="SvgjsG3579"><text id="SvgjsText3580" font-family="微软雅黑" text-anchor="start" font-size="13px" width="72" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="36.05" transform="rotate(0)"><tspan id="SvgjsTspan3581" dy="16" x="27"><tspan id="SvgjsTspan3582" style="text-decoration:;fill: rgb(255, 102, 102);">/lib/internal</tspan></tspan><tspan id="SvgjsTspan3583" dy="16" x="27"><tspan id="SvgjsTspan3584" style="text-decoration:;fill: rgb(255, 102, 102);">/stream_ba</tspan></tspan><tspan id="SvgjsTspan3585" dy="16" x="27"><tspan id="SvgjsTspan3586" style="text-decoration:;fill: rgb(255, 102, 102);">se_common</tspan></tspan><tspan id="SvgjsTspan3587" dy="16" x="27"><tspan id="SvgjsTspan3588" style="text-decoration:;fill: rgb(255, 102, 102);">s.js</tspan></tspan></text></g></g><g id="SvgjsG3589" transform="translate(1537.7410714285709,4218.350446428569)"><path id="SvgjsPath3590" d="M0 0L347.5000000000002 0L347.5000000000002 97.50000000000091L0 97.50000000000091Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG3591"><text id="SvgjsText3592" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="315" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="22.800000000000455" transform="rotate(0)"><tspan id="SvgjsTspan3593" dy="16" x="174.5"><tspan id="SvgjsTspan3594" style="text-decoration:;">调用steam_base_common中的方法：</tspan></tspan><tspan id="SvgjsTspan3595" dy="16" x="174.5"><tspan id="SvgjsTspan3596" style="text-decoration:;">function onStreamRead(arrayBuffer) {//（168）  ...  </tspan></tspan><tspan id="SvgjsTspan3597" dy="16" x="174.5"><tspan id="SvgjsTspan3598" style="text-decoration:;">result = stream.push(buf);（191）  ...}</tspan></tspan></text></g></g><g id="SvgjsG3599"><path id="SvgjsPath3600" d="M2149.4871505817005 2389.421875L1711.4910714285709 2389.421875L1711.4910714285709 4218.350446428569 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker3601)"></path><rect id="SvgjsRect3603" width="299" height="16" x="1715.2896991321663" y="2392.9933035714284" fill="#ffffff"></rect><text id="SvgjsText3604" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="299" fill="#323232" font-weight="400" align="top" font-style="" opacity="1" y="2391.0433035714286" transform="rotate(0)"><tspan id="SvgjsTspan3605" dy="16" x="1864.7896991321663"><tspan id="SvgjsTspan3606" style="text-decoration:;">否（通过net.js启动，自己解析；适用搭建tcp服务）</tspan></tspan></text></g><g id="SvgjsG3607" transform="translate(1720.5348693993224,2753.171875)"><path id="SvgjsPath3608" d="M0 0L415.66645144628137 0L415.66645144628137 187.5L0 187.5Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG3609"><text id="SvgjsText3610" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="385" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="19.8" transform="rotate(0)"><tspan id="SvgjsTspan3611" dy="16" x="208.5"><tspan id="SvgjsTspan3612" style="text-decoration:;">llhttp解析完头部后，调用：</tspan></tspan><tspan id="SvgjsTspan3613" dy="16" x="208.5"><tspan id="SvgjsTspan3614" style="text-decoration:;">int on_headers_complete() { //(275)</tspan></tspan><tspan id="SvgjsTspan3615" dy="16" x="208.5"><tspan id="SvgjsTspan3616" style="text-decoration:;">...</tspan></tspan><tspan id="SvgjsTspan3617" dy="16" x="208.5"><tspan id="SvgjsTspan3618" style="text-decoration:;">{      InternalCallbackScope callback_scope(          this, </tspan></tspan><tspan id="SvgjsTspan3619" dy="16" x="208.5"><tspan id="SvgjsTspan3620" style="text-decoration:;">InternalCallbackScope::kSkipTaskQueues);      head_response = </tspan></tspan><tspan id="SvgjsTspan3621" dy="16" x="208.5"><tspan id="SvgjsTspan3622" style="text-decoration:;">cb.As&lt;Function&gt;()-&gt;Call(          env()-&gt;context(), object(), </tspan></tspan><tspan id="SvgjsTspan3623" dy="16" x="208.5"><tspan id="SvgjsTspan3624" style="text-decoration:;">arraysize(argv), argv);      if (head_response.IsEmpty()) </tspan></tspan><tspan id="SvgjsTspan3625" dy="16" x="208.5"><tspan id="SvgjsTspan3626" style="text-decoration:;">callback_scope.MarkAsFailed();    }...</tspan></tspan><tspan id="SvgjsTspan3627" dy="16" x="208.5"><tspan id="SvgjsTspan3628" style="text-decoration:;">}（345)</tspan></tspan></text></g></g><g id="SvgjsG3629"><path id="SvgjsPath3630" d="M2148.97710063029 2703.7552083333303L1928.3680951224628 2703.7552083333303L1928.3680951224628 2753.171875 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker3631)"></path><rect id="SvgjsRect3633" width="13" height="16" x="2007.4642645430417" y="2695.7552083333303" fill="#ffffff"></rect><text id="SvgjsText3634" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="13" fill="#323232" font-weight="400" align="top" font-style="" opacity="1" y="2693.8052083333305" transform="rotate(0)"><tspan id="SvgjsTspan3635" dy="16" x="2013.9642645430417"><tspan id="SvgjsTspan3636" style="text-decoration:;">是</tspan></tspan></text></g><g id="SvgjsG3637" transform="translate(2173.3916134705446,2753.171875)"><path id="SvgjsPath3638" d="M0 0L328.6708865294554 0L328.6708865294554 187.5L0 187.5Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG3639"><text id="SvgjsText3640" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="307" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="27.8" transform="rotate(0)"><tspan id="SvgjsTspan3641" dy="16" x="165"><tspan id="SvgjsTspan3642" style="text-decoration:;">llhttp解析完body后，调用：</tspan></tspan><tspan id="SvgjsTspan3643" dy="16" x="165"><tspan id="SvgjsTspan3644" style="text-decoration:;">int on_body(const char* at, size_t length) {// (366)</tspan></tspan><tspan id="SvgjsTspan3645" dy="16" x="165"><tspan id="SvgjsTspan3646" style="text-decoration:;">...</tspan></tspan><tspan id="SvgjsTspan3647" dy="16" x="165"><tspan id="SvgjsTspan3648" style="text-decoration:;">MaybeLocal&lt;Value&gt; r = </tspan></tspan><tspan id="SvgjsTspan3649" dy="16" x="165"><tspan id="SvgjsTspan3650" style="text-decoration:;">MakeCallback(cb.As&lt;Function&gt;(),                                       </tspan></tspan><tspan id="SvgjsTspan3651" dy="16" x="165"><tspan id="SvgjsTspan3652" style="text-decoration:;">arraysize(argv),                                       argv);</tspan></tspan><tspan id="SvgjsTspan3653" dy="16" x="165"><tspan id="SvgjsTspan3654" style="text-decoration:;">...</tspan></tspan><tspan id="SvgjsTspan3655" dy="16" x="165"><tspan id="SvgjsTspan3656" style="text-decoration:;">} （390）</tspan></tspan></text></g></g><g id="SvgjsG3657"><path id="SvgjsPath3658" d="M2268.97710063029 2703.7552083333303L2337.7270567352725 2703.7552083333303L2337.7270567352725 2753.171875 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker3659)"></path><rect id="SvgjsRect3661" width="13" height="16" x="2321.560412016116" y="2695.7552083333303" fill="#ffffff"></rect><text id="SvgjsText3662" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="13" fill="#323232" font-weight="400" align="top" font-style="" opacity="1" y="2693.8052083333305" transform="rotate(0)"><tspan id="SvgjsTspan3663" dy="16" x="2328.060412016116"><tspan id="SvgjsTspan3664" style="text-decoration:;">否</tspan></tspan></text></g><g id="SvgjsG3665" transform="translate(2290.03125,2980.14453125)"><path id="SvgjsPath3666" d="M0 0L100 0L100 70L0 70Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG3667"><text id="SvgjsText3668" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="79" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="17.05" transform="rotate(0)"><tspan id="SvgjsTspan3669" dy="16" x="50.5"><tspan id="SvgjsTspan3670" style="text-decoration:;">MakeCallBac</tspan></tspan><tspan id="SvgjsTspan3671" dy="16" x="50.5"><tspan id="SvgjsTspan3672" style="text-decoration:;">k</tspan></tspan></text></g></g><g id="SvgjsG3673" transform="translate(2245.892387008047,3115.671875)"><path id="SvgjsPath3674" d="M0 0L188.42122467821628 0L188.42122467821628 56.25L0 56.25Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG3675"><text id="SvgjsText3676" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="156" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="18.175" transform="rotate(0)"><tspan id="SvgjsTspan3677" dy="16" x="95"><tspan id="SvgjsTspan3678" style="text-decoration:;">InternalMakeCallback(141)</tspan></tspan></text></g></g><g id="SvgjsG3679" transform="translate(2536.264939834663,3106.921875)"><path id="SvgjsPath3680" d="M0 455Q9 455 9 446L9 236.5Q9 227.5 22 227.5Q9 227.5 9 218.5L9 9Q9 0 0 0 " stroke="rgba(50,50,50,1)" stroke-width="2" fill="none"></path><path id="SvgjsPath3681" d="M0 0L112.04756016533702 0L112.04756016533702 455L0 455Z " stroke="none" fill="none"></path><g id="SvgjsG3682"><text id="SvgjsText3683" font-family="微软雅黑" text-anchor="start" font-size="13px" width="84" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="209.55" transform="rotate(0)"><tspan id="SvgjsTspan3684" dy="16" x="27"><tspan id="SvgjsTspan3685" style="text-decoration:;fill: rgb(255, 51, 51);">/src/api/callb</tspan></tspan><tspan id="SvgjsTspan3686" dy="16" x="27"><tspan id="SvgjsTspan3687" style="text-decoration:;fill: rgb(255, 51, 51);">ack.cc</tspan></tspan></text></g></g><g id="SvgjsG3688" transform="translate(1980.3473855087364,3223.81640625)"><path id="SvgjsPath3689" d="M0 0L213.65311666782964 0L213.65311666782964 58.75L0 58.75Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG3690"><text id="SvgjsText3691" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="114" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="11.425" transform="rotate(0)"><tspan id="SvgjsTspan3692" dy="16" x="107.5"><tspan id="SvgjsTspan3693" style="text-decoration:;">清理task_queue:</tspan></tspan><tspan id="SvgjsTspan3694" dy="16" x="107.5"><tspan id="SvgjsTspan3695" style="text-decoration:;">scope.Close();(175)</tspan></tspan></text></g></g><g id="SvgjsG3696" transform="translate(2224.6753462623774,3225.359375)"><path id="SvgjsPath3697" d="M0 0L305 0L305 56.25L0 56.25Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG3698"><text id="SvgjsText3699" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="252" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="2.175" transform="rotate(0)"><tspan id="SvgjsTspan3700" dy="16" x="153"><tspan id="SvgjsTspan3701" style="text-decoration:;">通过以下方式，调用js land中的回调：</tspan></tspan><tspan id="SvgjsTspan3702" dy="16" x="153"><tspan id="SvgjsTspan3703" style="text-decoration:;">ret = callback-&gt;Call(env-&gt;context(), recv, </tspan></tspan><tspan id="SvgjsTspan3704" dy="16" x="153"><tspan id="SvgjsTspan3705" style="text-decoration:;">argc, argv);（162）</tspan></tspan></text></g></g><g id="SvgjsG3706" transform="translate(2263.6527770099024,3048.30859375)"><path id="SvgjsPath3707" d="M0 0L160 0L160 40L0 40Z " stroke="none" fill="none"></path><g id="SvgjsG3708"><text id="SvgjsText3709" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="120" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="10.05" transform="rotate(0)"><tspan id="SvgjsTspan3710" dy="16" x="80.5"><tspan id="SvgjsTspan3711" style="text-decoration:;fill: rgb(255, 51, 51);">/src/async_wrap.cc</tspan></tspan></text></g></g><g id="SvgjsG3712"><path id="SvgjsPath3713" d="M2337.7270567352725 2940.671875L2337.7270567352725 2960.408203125L2340.03125 2960.408203125L2340.03125 2980.14453125 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker3714)"></path></g><g id="SvgjsG3716"><path id="SvgjsPath3717" d="M2340.03125 3050.14453125L2340.03125 3082.908203125L2340.1029993471557 3082.908203125L2340.1029993471557 3115.671875 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker3718)"></path></g><g id="SvgjsG3720"><path id="SvgjsPath3721" d="M2340.1029993471557 3171.921875L2340.1029993471557 3198.640625L2377.1753462623783 3198.640625L2377.1753462623783 3225.359375 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker3722)"></path><rect id="SvgjsRect3724" width="5" height="16" x="2356.139172804767" y="3190.640625" fill="#ffffff"></rect><text id="SvgjsText3725" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="5" fill="#323232" font-weight="400" align="top" font-style="" opacity="1" y="3188.690625" transform="rotate(0)"><tspan id="SvgjsTspan3726" dy="16" x="2358.639172804767"><tspan id="SvgjsTspan3727" style="text-decoration:;">1</tspan></tspan></text></g><g id="SvgjsG3728"><path id="SvgjsPath3729" d="M2295.8125 3171.921875L2295.8125 3197.869140625L2087.173943842651 3197.869140625L2087.173943842651 3223.81640625 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker3730)"></path><rect id="SvgjsRect3732" width="8" height="16" x="2187.4932219213256" y="3189.869140625" fill="#ffffff"></rect><text id="SvgjsText3733" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="8" fill="#323232" font-weight="400" align="top" font-style="" opacity="1" y="3187.919140625" transform="rotate(0)"><tspan id="SvgjsTspan3734" dy="16" x="2191.4932219213256"><tspan id="SvgjsTspan3735" style="text-decoration:;">2</tspan></tspan></text></g><g id="SvgjsG3736"><path id="SvgjsPath3737" d="M2377.1753462623774 3281.609375L2377.1753462623774 3568.2421875L2377.6875 3568.2421875L2377.6875 3854.875 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker3738)"></path></g><g id="SvgjsG3740" transform="translate(1799.7383839292036,3309.421875)"><path id="SvgjsPath3741" d="M0 0L306.6401625282015 0L306.6401625282015 77.5L0 77.5Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG3742"><text id="SvgjsText3743" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="259" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="28.8" transform="rotate(0)"><tspan id="SvgjsTspan3744" dy="16" x="154"><tspan id="SvgjsTspan3745" style="text-decoration:;">void InternalCallbackScope::Close() {//(82)</tspan></tspan></text></g></g><g id="SvgjsG3746" transform="translate(1797.03600319538,3408.796875)"><path id="SvgjsPath3747" d="M0 50.9375L156.34847231687525 0L312.6969446337505 50.9375L156.34847231687525 101.875Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG3748"><text id="SvgjsText3749" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="274" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="25.496875" transform="rotate(0)"><tspan id="SvgjsTspan3750" dy="16" x="157"><tspan id="SvgjsTspan3751" style="text-decoration:;">是否跳过清理task_queue:</tspan></tspan><tspan id="SvgjsTspan3752" dy="16" x="157"><tspan id="SvgjsTspan3753" style="text-decoration:;">if (env_-&gt;async_callback_scope_depth() &gt; 1 || </tspan></tspan><tspan id="SvgjsTspan3754" dy="16" x="157"><tspan id="SvgjsTspan3755" style="text-decoration:;fill: rgb(255, 51, 51);">skip_task_queues_</tspan><tspan id="SvgjsTspan3756" style="text-decoration:;">) {(100)</tspan></tspan></text></g></g><g id="SvgjsG3757"><path id="SvgjsPath3758" d="M2087.173943842651 3282.56640625L2087.173943842651 3295.994140625L1953.0584651933052 3295.994140625L1953.0584651933052 3309.421875 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker3759)"></path></g><g id="SvgjsG3761"><path id="SvgjsPath3762" d="M1953.0584651933052 3386.921875L1953.0584651933052 3397.859375L1953.3844755122554 3397.859375L1953.3844755122554 3408.796875 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker3763)"></path></g><g id="SvgjsG3765"><path id="SvgjsPath3766" d="M1807.0625 2940.671875L1807.0625 2970.671875L1720.4965738344247 2970.671875L1720.4965738344247 3902.80810546875L1750.4965738344247 3902.80810546875 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker3767)"></path><rect id="SvgjsRect3769" width="5" height="16" x="1795.9059073834424" y="2962.671875" fill="#ffffff"></rect><text id="SvgjsText3770" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="5" fill="#323232" font-weight="400" align="top" font-style="" opacity="1" y="2960.721875" transform="rotate(0)"><tspan id="SvgjsTspan3771" dy="16" x="1798.4059073834424"><tspan id="SvgjsTspan3772" style="text-decoration:;">1</tspan></tspan></text></g><g id="SvgjsG3773"><path id="SvgjsPath3774" d="M1859.5625 2940.671875L1859.5625 3125.671875L1855.7998861445974 3125.671875L1855.7998861445974 3310.671875 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker3775)"></path><rect id="SvgjsRect3777" width="8" height="16" x="1855.5625" y="2968.421875" fill="#ffffff"></rect><text id="SvgjsText3778" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="8" fill="#323232" font-weight="400" align="top" font-style="" opacity="1" y="2966.471875" transform="rotate(0)"><tspan id="SvgjsTspan3779" dy="16" x="1859.5625"><tspan id="SvgjsTspan3780" style="text-decoration:;">2</tspan></tspan></text></g><g id="SvgjsG3781" transform="translate(2149.31526859763,3394.34375)"><path id="SvgjsPath3782" d="M0 0L205.1024111398424 0L205.1024111398424 131.328125L0 131.328125Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG3783"><text id="SvgjsText3784" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="174" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="-0.28593749999999996" transform="rotate(0)"><tspan id="SvgjsTspan3785" dy="16" x="103.5"><tspan id="SvgjsTspan3786" style="text-decoration:;">调用task_queue.js中的清理函</tspan></tspan><tspan id="SvgjsTspan3787" dy="16" x="103.5"><tspan id="SvgjsTspan3788" style="text-decoration:;">数：</tspan></tspan><tspan id="SvgjsTspan3789" dy="16" x="103.5"><tspan id="SvgjsTspan3790" style="text-decoration:;">Local&lt;Function&gt; tick_callback </tspan></tspan><tspan id="SvgjsTspan3791" dy="16" x="103.5"><tspan id="SvgjsTspan3792" style="text-decoration:;">= env_-</tspan></tspan><tspan id="SvgjsTspan3793" dy="16" x="103.5"><tspan id="SvgjsTspan3794" style="text-decoration:;">&gt;tick_callback_function();</tspan></tspan><tspan id="SvgjsTspan3795" dy="16" x="103.5"><tspan id="SvgjsTspan3796" style="text-decoration:;"> </tspan></tspan><tspan id="SvgjsTspan3797" dy="16" x="103.5"><tspan id="SvgjsTspan3798" style="text-decoration:;">  if (tick_callback-&gt;Call(...))  </tspan></tspan><tspan id="SvgjsTspan3799" dy="16" x="103.5"><tspan id="SvgjsTspan3800" style="text-decoration:;">(130)</tspan></tspan></text></g></g><g id="SvgjsG3801"><path id="SvgjsPath3802" d="M2109.7329478291304 3459.734375L2129.5241082133803 3459.734375L2129.5241082133803 3460.0078125L2149.31526859763 3460.0078125 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker3803)"></path><rect id="SvgjsRect3805" width="13" height="16" x="2123.0241082133803" y="3451.87109375" fill="#ffffff"></rect><text id="SvgjsText3806" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="13" fill="#323232" font-weight="400" align="top" font-style="" opacity="1" y="3449.92109375" transform="rotate(0)"><tspan id="SvgjsTspan3807" dy="16" x="2129.5241082133803"><tspan id="SvgjsTspan3808" style="text-decoration:;">否</tspan></tspan></text></g><g id="SvgjsG3809" transform="translate(1738.3125,3503.171875)"><path id="SvgjsPath3810" d="M0 0L100 0L100 70L0 70Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG3811"><text id="SvgjsText3812" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="21" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="25.05" transform="rotate(0)"><tspan id="SvgjsTspan3813" dy="16" x="50.5"><tspan id="SvgjsTspan3814" style="text-decoration:;">null</tspan></tspan></text></g></g><g id="SvgjsG3815"><path id="SvgjsPath3816" d="M1797.03600319538 3459.734375L1765.8125 3459.734375L1765.8125 3504.421875 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker3817)"></path><rect id="SvgjsRect3819" width="13" height="16" x="1759.3125" y="3458.46637340231" fill="#ffffff"></rect><text id="SvgjsText3820" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="13" fill="#323232" font-weight="400" align="top" font-style="" opacity="1" y="3456.5163734023104" transform="rotate(0)"><tspan id="SvgjsTspan3821" dy="16" x="1765.8125"><tspan id="SvgjsTspan3822" style="text-decoration:;">是</tspan></tspan></text></g><g id="SvgjsG3823" transform="translate(2011.9817477876388,3493.171875)"><path id="SvgjsPath3824" d="M23.90774212214048 97.125C-19.92311843511707 69.375 7.969247374046827 48.5625 17.93080659160536 41.625C13.946182904581947 6.9375 63.75397899237461 0 83.67709742749167 13.875C99.61559217558533 -6.9375 149.423388263378 0 149.423388263378 20.8125C189.26962513361212 13.875 205.20811988170578 41.625 189.26962513361212 76.3125C203.2158080381941 104.0625 189.26962513361212 138.75 143.44645273284289 124.875C133.48489351528437 142.9125 93.6386566450502 142.9125 83.67709742749167 124.875C63.75397899237461 138.75 23.90774212214048 131.8125 23.90774212214048 97.125Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG3825"><text id="SvgjsText3826" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="179" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="35.425" transform="rotate(0)"><tspan id="SvgjsTspan3827" dy="16" x="100.5"><tspan id="SvgjsTspan3828" style="text-decoration:;">这里的tick_callback就</tspan></tspan><tspan id="SvgjsTspan3829" dy="16" x="100.5"><tspan id="SvgjsTspan3830" style="text-decoration:;">是task_queue.js中设置的：</tspan></tspan><tspan id="SvgjsTspan3831" dy="16" x="100.5"><tspan id="SvgjsTspan3832" style="text-decoration:;">setTickCallback(processTicks</tspan></tspan><tspan id="SvgjsTspan3833" dy="16" x="100.5"><tspan id="SvgjsTspan3834" style="text-decoration:;">AndRejections);（180）</tspan></tspan></text></g></g><g id="SvgjsG3835" transform="translate(2529.6753462623774,6337.2790178571395)"><path id="SvgjsPath3836" d="M0 177.50000000000273Q9 177.50000000000273 9 168.50000000000273L9 97.75000000000136Q9 88.75000000000136 22 88.75000000000136Q9 88.75000000000136 9 79.75000000000136L9 9Q9 0 0 0 " stroke="rgba(50,50,50,1)" stroke-width="2" fill="none"></path><path id="SvgjsPath3837" d="M0 0L101.33907705934143 0L101.33907705934143 177.50000000000273L0 177.50000000000273Z " stroke="none" fill="none"></path><g id="SvgjsG3838"><text id="SvgjsText3839" font-family="微软雅黑" text-anchor="start" font-size="13px" width="72" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="62.80000000000136" transform="rotate(0)"><tspan id="SvgjsTspan3840" dy="16" x="27"><tspan id="SvgjsTspan3841" style="text-decoration:;fill: rgb(255, 51, 51);">/lib/internal</tspan></tspan><tspan id="SvgjsTspan3842" dy="16" x="27"><tspan id="SvgjsTspan3843" style="text-decoration:;fill: rgb(255, 51, 51);">/process/ta</tspan></tspan><tspan id="SvgjsTspan3844" dy="16" x="27"><tspan id="SvgjsTspan3845" style="text-decoration:;fill: rgb(255, 51, 51);">sk_queue.js</tspan></tspan></text></g></g><g id="SvgjsG3846" transform="translate(2109.7329478291304,6337.2790178571395)"><path id="SvgjsPath3847" d="M0 0L376.0795521708692 0L376.0795521708692 64.64285714285961L0 64.64285714285961Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG3848"><text id="SvgjsText3849" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="257" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="14.371428571429806" transform="rotate(0)"><tspan id="SvgjsTspan3850" dy="16" x="189"><tspan id="SvgjsTspan3851" style="text-decoration:;">调用processTicksAndRejections进行清理：</tspan></tspan><tspan id="SvgjsTspan3852" dy="16" x="189"><tspan id="SvgjsTspan3853" style="text-decoration:;">while (tock = queue.shift()) {（72）</tspan></tspan></text></g></g><g id="SvgjsG3854"><path id="SvgjsPath3855" d="M2233.3125 3525.671875L2233.3125 4931.47544642857L2297.772723914565 4931.47544642857L2297.772723914565 6337.2790178571395 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker3856)"></path></g><g id="SvgjsG3858" transform="translate(2129.5646925290794,6461.921874999999)"><path id="SvgjsPath3859" d="M0 0L336.4160627709716 0L336.4160627709716 55.918367346939704L0 55.918367346939704Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG3860"><text id="SvgjsText3861" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="229" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="10.009183673469852" transform="rotate(0)"><tspan id="SvgjsTspan3862" dy="16" x="169"><tspan id="SvgjsTspan3863" style="text-decoration:;">清理完tick的queue后，清理microTask:</tspan></tspan><tspan id="SvgjsTspan3864" dy="16" x="169"><tspan id="SvgjsTspan3865" style="text-decoration:;">runMicrotasks(); (97)</tspan></tspan></text></g></g><g id="SvgjsG3866"><path id="SvgjsPath3867" d="M2297.772723914565 6401.921874999999L2297.772723914565 6431.921874999999L2297.772723914565 6431.921874999999L2297.772723914565 6461.921874999999 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker3868)"></path></g><g id="SvgjsG3870" transform="translate(2035.8125,6491.207589285714)"><path id="SvgjsPath3871" d="M17.57142857142853 49.49999999999972C-14.64285714285711 35.35714285714266 5.857142857142844 24.74999999999986 13.178571428571399 21.214285714285598C10.249999999999979 3.5357142857142665 46.857142857142755 0 61.49999999999986 7.071428571428533C73.21428571428555 -3.5357142857142665 109.82142857142833 0 109.82142857142833 10.607142857142799C139.10714285714255 7.071428571428533 150.82142857142824 21.214285714285598 139.10714285714255 38.89285714285693C149.35714285714252 53.03571428571399 139.10714285714255 70.71428571428532 105.42857142857119 63.64285714285679C98.10714285714265 72.83571428571389 68.82142857142841 72.83571428571389 61.49999999999986 63.64285714285679C46.857142857142755 70.71428571428532 17.57142857142853 67.17857142857106 17.57142857142853 49.49999999999972Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG3872"><text id="SvgjsText3873" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="121" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="9.407142857142663" transform="rotate(0)"><tspan id="SvgjsTspan3874" dy="16" x="74"><tspan id="SvgjsTspan3875" style="text-decoration:;">runMicroTasks</tspan></tspan><tspan id="SvgjsTspan3876" dy="16" x="74"><tspan id="SvgjsTspan3877" style="text-decoration:;">是node_task_queue.</tspan></tspan><tspan id="SvgjsTspan3878" dy="16" x="74"><tspan id="SvgjsTspan3879" style="text-decoration:;">cc中的函数</tspan></tspan></text></g></g><g id="SvgjsG3880"><path id="SvgjsPath3881" d="M1331.361396929773 5811.921874999999L1331.361396929773 5843.663106282552L1383.7701378262664 5843.663106282552L1383.7701378262664 5875.4043375651045 " stroke-dasharray="3,3" stroke="#ff0000" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker3882)"></path></g><g id="SvgjsG3884"><path id="SvgjsPath3885" d="M1894.3839285714284 6703.350446428571L1894.3839285714284 6673.350446428571L1769.7383839292036 6673.350446428571L1769.7383839292036 5015.671875L1799.7383839292036 5015.671875 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker3886)"></path><rect id="SvgjsRect3888" width="229" height="16" x="1654.3125" y="6415.921875" fill="#ffffff"></rect><text id="SvgjsText3889" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="229" fill="#323232" font-weight="400" align="top" font-style="" opacity="1" y="6413.971875" transform="rotate(0)"><tspan id="SvgjsTspan3890" dy="16" x="1768.8125"><tspan id="SvgjsTspan3891" style="text-decoration:;">2.on执行后，在下一个tick中再执行flow</tspan></tspan></text></g><g id="SvgjsG3892"><path id="SvgjsPath3893" d="M1017.9840899118835 5929.421875L979.5625 5929.421875L979.5625 5475.671875 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker3894)"></path></g><g id="SvgjsG3896" transform="translate(673.729166666666,5430.671875)"><path id="SvgjsPath3897" d="M18.600000000000094 71.75C-15.50000000000008 51.25 6.200000000000032 35.875 13.95000000000007 30.75C10.850000000000056 5.125 49.60000000000026 0 65.10000000000034 10.25C77.5000000000004 -5.125 116.2500000000006 0 116.2500000000006 15.375C147.25000000000074 10.25 159.65000000000083 30.75 147.25000000000074 56.37500000000001C158.10000000000082 76.875 147.25000000000074 102.5 111.60000000000056 92.25C103.85000000000053 105.575 72.85000000000036 105.575 65.10000000000034 92.25C49.60000000000026 102.5 18.600000000000094 97.375 18.600000000000094 71.75Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG3898"><text id="SvgjsText3899" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="121" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="25.3" transform="rotate(0)"><tspan id="SvgjsTspan3900" dy="16" x="78.5"><tspan id="SvgjsTspan3901" style="text-decoration:;">_http_server.js调用</tspan></tspan><tspan id="SvgjsTspan3902" dy="16" x="78.5"><tspan id="SvgjsTspan3903" style="text-decoration:;">时，不会调用这里的</tspan></tspan><tspan id="SvgjsTspan3904" dy="16" x="78.5"><tspan id="SvgjsTspan3905" style="text-decoration:;">this.on('connection' </tspan></tspan></text></g></g><g id="SvgjsG3906"><path id="SvgjsPath3907" d="M1711.1772859188782 5360.671875L1425.369892959439 5360.671875L1425.369892959439 5360.671875L1139.5625 5360.671875 " stroke-dasharray="3,3" stroke="#ff0000" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker3908)"></path></g><g id="SvgjsG3910" transform="translate(1277.1451378262664,5875.4043375651045)"><path id="SvgjsPath3911" d="M106.625 0L0 44.60625L38.385 114.375L174.86499999999998 114.375L213.25 44.60625Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG3912"><text id="SvgjsText3913" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="193" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="39.815625" transform="rotate(0)"><tspan id="SvgjsTspan3914" dy="16" x="107.5"><tspan id="SvgjsTspan3915" style="text-decoration:;">将请求回调放在刚刚创建的server</tspan></tspan><tspan id="SvgjsTspan3916" dy="16" x="107.5"><tspan id="SvgjsTspan3917" style="text-decoration:;">上：this.on('request', </tspan></tspan><tspan id="SvgjsTspan3918" dy="16" x="107.5"><tspan id="SvgjsTspan3919" style="text-decoration:;">requestListener);（348）</tspan></tspan></text></g></g><g id="SvgjsG3920" transform="translate(1554.383928571429,5866.611545138888)"><path id="SvgjsPath3921" d="M125.55472285488463 0L0 44.28852864583377L45.19970022775846 113.56032986111222L205.90974548201078 113.56032986111222L251.10944570976926 44.28852864583377Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG3922"><text id="SvgjsText3923" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="230" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="31.347189670139525" transform="rotate(0)"><tspan id="SvgjsTspan3924" dy="16" x="126.5"><tspan id="SvgjsTspan3925" style="text-decoration:;">_http_server.js封装了一个客户端连接回</tspan></tspan><tspan id="SvgjsTspan3926" dy="16" x="126.5"><tspan id="SvgjsTspan3927" style="text-decoration:;">调函数，放在刚刚创建的server</tspan></tspan><tspan id="SvgjsTspan3928" dy="16" x="126.5"><tspan id="SvgjsTspan3929" style="text-decoration:;">上：this.on('connection', </tspan></tspan><tspan id="SvgjsTspan3930" dy="16" x="126.5"><tspan id="SvgjsTspan3931" style="text-decoration:;">connectionListener);（357）</tspan></tspan></text></g></g><g id="SvgjsG3932"><path id="SvgjsPath3933" d="M1831.1772859188782 5360.671875L1906.3225115936982 5360.671875L1906.3225115936982 5952.296875L1981.4677372685182 5952.296875 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker3934)"></path><rect id="SvgjsRect3936" width="13" height="16" x="1845.220853621324" y="5352.671875" fill="#ffffff"></rect><text id="SvgjsText3937" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="13" fill="#323232" font-weight="400" align="top" font-style="" opacity="1" y="5350.721875" transform="rotate(0)"><tspan id="SvgjsTspan3938" dy="16" x="1851.720853621324"><tspan id="SvgjsTspan3939" style="text-decoration:;">是</tspan></tspan></text></g><g id="SvgjsG3940" transform="translate(1916.5516998021576,5769.524856090546)"><path id="SvgjsPath3941" d="M0 0L143.96725122235398 0L143.96725122235398 87.432861328125L0 87.432861328125Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG3942"><text id="SvgjsText3943" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="123" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="1.7664306640625" transform="rotate(0)"><tspan id="SvgjsTspan3944" dy="16" x="72.5"><tspan id="SvgjsTspan3945" style="text-decoration:;"> </tspan></tspan><tspan id="SvgjsTspan3946" dy="16" x="72.5"><tspan id="SvgjsTspan3947" style="text-decoration:;">从parsers池子中取一</tspan></tspan><tspan id="SvgjsTspan3948" dy="16" x="72.5"><tspan id="SvgjsTspan3949" style="text-decoration:;">个</tspan></tspan><tspan id="SvgjsTspan3950" dy="16" x="72.5"><tspan id="SvgjsTspan3951" style="text-decoration:;">const parser = </tspan></tspan><tspan id="SvgjsTspan3952" dy="16" x="72.5"><tspan id="SvgjsTspan3953" style="text-decoration:;">parsers.alloc();(418)</tspan></tspan></text></g></g><g id="SvgjsG3954"><path id="SvgjsPath3955" d="M1522.1324055994708 3933.824951171875L1522.1324055994708 4851.67490363121L1988.5353254133347 4851.67490363121L1988.5353254133347 5769.524856090546 " stroke-dasharray="3,3" stroke="#ff3333" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker3956)"></path></g><g id="SvgjsG3958" transform="translate(1367.4905812523698,3843.824951171875)"><path id="SvgjsPath3959" d="M0 0L309.28364869420193 0L309.28364869420193 90L0 90Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG3960"><text id="SvgjsText3961" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="283" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="19.05" transform="rotate(0)"><tspan id="SvgjsTspan3962" dy="16" x="155.5"><tspan id="SvgjsTspan3963" style="text-decoration:;">进程启动时分配个池子中parsers：const parsers </tspan></tspan><tspan id="SvgjsTspan3964" dy="16" x="155.5"><tspan id="SvgjsTspan3965" style="text-decoration:;">= new FreeList('parsers', 1000, function </tspan></tspan><tspan id="SvgjsTspan3966" dy="16" x="155.5"><tspan id="SvgjsTspan3967" style="text-decoration:;">parsersCb() {//(159);</tspan></tspan></text></g></g><g id="SvgjsG3968" transform="translate(1981.4677372685182,5919.171875)"><path id="SvgjsPath3969" d="M0 0L297.1354166666665 0L297.1354166666665 66.25L0 66.25Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG3970"><text id="SvgjsText3971" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="248" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="15.175" transform="rotate(0)"><tspan id="SvgjsTspan3972" dy="16" x="149.5"><tspan id="SvgjsTspan3973" style="text-decoration:;">connectionListener调</tspan></tspan><tspan id="SvgjsTspan3974" dy="16" x="149.5"><tspan id="SvgjsTspan3975" style="text-decoration:;">用connectionListenerInternal函数（404）</tspan></tspan></text></g></g><g id="SvgjsG3976"><path id="SvgjsPath3977" d="M2051.5625 5920.421875L2051.5625 5888.689796209335L1988.5353254133347 5888.689796209335L1988.5353254133347 5856.957717418671 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker3978)"></path></g><g id="SvgjsG3980" transform="translate(2350.675638313625,5776.794023036957)"><path id="SvgjsPath3981" d="M0 0L143.96725122235398 0L143.96725122235398 87.432861328125L0 87.432861328125Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG3982"><text id="SvgjsText3983" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="121" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="9.7664306640625" transform="rotate(0)"><tspan id="SvgjsTspan3984" dy="16" x="72.5"><tspan id="SvgjsTspan3985" style="text-decoration:;">将此parser赋值给</tspan></tspan><tspan id="SvgjsTspan3986" dy="16" x="72.5"><tspan id="SvgjsTspan3987" style="text-decoration:;">listener_:</tspan></tspan><tspan id="SvgjsTspan3988" dy="16" x="72.5"><tspan id="SvgjsTspan3989" style="text-decoration:;">parser.consume(soc</tspan></tspan><tspan id="SvgjsTspan3990" dy="16" x="72.5"><tspan id="SvgjsTspan3991" style="text-decoration:;">ket._handle); (478)</tspan></tspan></text></g></g><g id="SvgjsG3992" transform="translate(2068.8125,5771.849032402039)"><path id="SvgjsPath3993" d="M0 0L246.25 0L246.25 95L0 95Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG3994"><text id="SvgjsText3995" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="206" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="13.55" transform="rotate(0)"><tspan id="SvgjsTspan3996" dy="16" x="124"><tspan id="SvgjsTspan3997" style="text-decoration:;">将req到来的回调设置在parser上：</tspan></tspan><tspan id="SvgjsTspan3998" dy="16" x="124"><tspan id="SvgjsTspan3999" style="text-decoration:;">parser.onIncoming = </tspan></tspan><tspan id="SvgjsTspan4000" dy="16" x="124"><tspan id="SvgjsTspan4001" style="text-decoration:;">parserOnIncoming.bind(undefined, </tspan></tspan><tspan id="SvgjsTspan4002" dy="16" x="124"><tspan id="SvgjsTspan4003" style="text-decoration:;">server, socket, state);（462）</tspan></tspan></text></g></g><g id="SvgjsG4004"><path id="SvgjsPath4005" d="M2130.0354456018513 5919.171875L2130.0354456018513 5893.010453701019L2191.9375 5893.010453701019L2191.9375 5866.849032402039 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker4006)"></path></g><g id="SvgjsG4008"><path id="SvgjsPath4009" d="M2243.8124999999995 5919.921874999999L2243.8124999999995 5892.074379682541L2422.6592639248015 5892.074379682541L2422.6592639248015 5864.226884365082 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker4010)"></path></g><g id="SvgjsG4012"><path id="SvgjsPath4013" d="M2422.659263924802 5776.794023036957L2422.659263924802 4342.482949018478L1494.125487684045 4342.482949018478L1494.125487684045 2908.171875 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker4014)"></path></g><g id="SvgjsG4016" transform="translate(1257.5096429539676,2315.125)"><path id="SvgjsPath4017" d="M0 0L396.72095982300925 0L396.72095982300925 111.5625L0 111.5625Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG4018"><text id="SvgjsText4019" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="330" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="29.83125" transform="rotate(0)"><tspan id="SvgjsTspan4020" dy="16" x="199"><tspan id="SvgjsTspan4021" style="text-decoration:;">将传进来的parser赋值给listener_:void </tspan></tspan><tspan id="SvgjsTspan4022" dy="16" x="199"><tspan id="SvgjsTspan4023" style="text-decoration:;">StreamResource::PushStreamListener(StreamListener* </tspan></tspan><tspan id="SvgjsTspan4024" dy="16" x="199"><tspan id="SvgjsTspan4025" style="text-decoration:;">listener) { ....  listener_ = listener;}(58)</tspan></tspan></text></g></g><g id="SvgjsG4026" transform="translate(1334.5625,2785.671875)"><path id="SvgjsPath4027" d="M0 0L319.12597536809017 0L319.12597536809017 122.5L0 122.5Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG4028"><text id="SvgjsText4029" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="284" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="19.3" transform="rotate(0)"><tspan id="SvgjsTspan4030" dy="16" x="160.5"><tspan id="SvgjsTspan4031" style="text-decoration:;">调用PushStreamListener，将parser传进去static </tspan></tspan><tspan id="SvgjsTspan4032" dy="16" x="160.5"><tspan id="SvgjsTspan4033" style="text-decoration:;">void Consume(const </tspan></tspan><tspan id="SvgjsTspan4034" dy="16" x="160.5"><tspan id="SvgjsTspan4035" style="text-decoration:;">FunctionCallbackInfo&lt;Value&gt;&amp; args) {    Parser* </tspan></tspan><tspan id="SvgjsTspan4036" dy="16" x="160.5"><tspan id="SvgjsTspan4037" style="text-decoration:;">parser;    ...    stream-</tspan></tspan><tspan id="SvgjsTspan4038" dy="16" x="160.5"><tspan id="SvgjsTspan4039" style="text-decoration:;">&gt;PushStreamListener(parser);  }（582）</tspan></tspan></text></g></g><g id="SvgjsG4040"><path id="SvgjsPath4041" d="M1494.125487684045 2785.671875L1494.125487684045 2606.1796875L1455.8701228654722 2606.1796875L1455.8701228654722 2426.6875 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker4042)"></path></g><g id="SvgjsG4044"><path id="SvgjsPath4045" d="M1654.2306027769769 2370.90625L1930.6465513884884 2370.90625L1930.6465513884884 2445.671875L2207.0625 2445.671875 " stroke-dasharray="3,3" stroke="#ff0000" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker4046)"></path><rect id="SvgjsRect4048" width="167" height="16" x="1957.7129308330932" y="2437.671875" fill="#ffffff"></rect><text id="SvgjsText4049" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="167" fill="#323232" font-weight="400" align="top" font-style="" opacity="1" y="2435.721875" transform="rotate(0)"><tspan id="SvgjsTspan4050" dy="16" x="2041.2129308330932"><tspan id="SvgjsTspan4051" style="text-decoration:;">事先将parser赋值给listener_</tspan></tspan></text></g><g id="SvgjsG4052"><path id="SvgjsPath4053" d="M2315.0624999999995 5819.349032402039L2345.0624999999995 5819.349032402039L2345.0624999999995 3989.421875L1868.3125 3989.421875L1868.3125 3959.421875 " stroke-dasharray="3,3" stroke="#ff0000" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker4054)"></path></g><g id="SvgjsG4056"><path id="SvgjsPath4057" d="M2217.8125 3524.921875L2217.8125 5015.671875L1955.613147862073 5015.671875 " stroke-dasharray="3,3" stroke="#0000ff" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker4058)"></path><rect id="SvgjsRect4060" width="113" height="16" x="2001.168772646447" y="5008.671875" fill="#ffffff"></rect><text id="SvgjsText4061" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="113" fill="#323232" font-weight="400" align="top" font-style="" opacity="1" y="5006.721875" transform="rotate(0)"><tspan id="SvgjsTspan4062" dy="16" x="2057.668772646447"><tspan id="SvgjsTspan4063" style="text-decoration:;">清理这里设置的tick</tspan></tspan></text></g><g id="SvgjsG4064"><path id="SvgjsPath4065" d="M1501.1121846391316 5180.440393518514L1501.1121846391316 5208.440393518514L1661.8658987348504 5208.440393518514L1661.8658987348504 5207.171875L1666.7862794972361 5207.171875 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker4066)"></path></g><g id="SvgjsG4068" transform="translate(1666.7253960678154,5155.921875)"><path id="SvgjsPath4069" d="M0 0L229.7764968046199 0L229.7764968046199 102.5L0 102.5Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG4070"><text id="SvgjsText4071" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="209" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="17.3" transform="rotate(0)"><tspan id="SvgjsTspan4072" dy="16" x="115.5"><tspan id="SvgjsTspan4073" style="text-decoration:;">封装一个socket代表客户端实例，触</tspan></tspan><tspan id="SvgjsTspan4074" dy="16" x="115.5"><tspan id="SvgjsTspan4075" style="text-decoration:;">发一个connection事件：</tspan></tspan><tspan id="SvgjsTspan4076" dy="16" x="115.5"><tspan id="SvgjsTspan4077" style="text-decoration:;">self.emit('connection', socket); </tspan></tspan><tspan id="SvgjsTspan4078" dy="16" x="115.5"><tspan id="SvgjsTspan4079" style="text-decoration:;">(1537)</tspan></tspan></text></g></g><g id="SvgjsG4080" transform="translate(1711.1772859188782,5320.671875)"><path id="SvgjsPath4081" d="M0 40L60 0L120 40L60 80Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG4082"><text id="SvgjsText4083" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="90" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="22.45" transform="rotate(0)"><tspan id="SvgjsTspan4084" dy="16" x="60.5"><tspan id="SvgjsTspan4085" style="text-decoration:;">是否通过http.js</tspan></tspan><tspan id="SvgjsTspan4086" dy="16" x="60.5"><tspan id="SvgjsTspan4087" style="text-decoration:;">启动的服务</tspan></tspan></text></g></g><g id="SvgjsG4088"><path id="SvgjsPath4089" d="M1781.6136444701253 5258.421875L1781.6136444701253 5289.546875L1771.1772859188782 5289.546875L1771.1772859188782 5320.671875 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker4090)"></path></g><g id="SvgjsG4092"><path id="SvgjsPath4093" d="M1831.1772859188782 5360.671875L1861.1772859188782 5360.671875L1861.1772859188782 5836.611545138888L1679.9386514263133 5836.611545138888L1679.9386514263133 5866.611545138888 " stroke-dasharray="3,3" stroke="#ff0000" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker4094)"></path></g><g id="SvgjsG4096" transform="translate(1246.4257658956385,6073.171875)"><path id="SvgjsPath4097" d="M0 0L250.76539859533204 0L250.76539859533204 80L0 80Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG4098"><text id="SvgjsText4099" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="149" fill="#323232" font-weight="400" align="middle" font-style="" opacity="1" y="14.05" transform="rotate(0)"><tspan id="SvgjsTspan4100" dy="16" x="126"><tspan id="SvgjsTspan4101" style="text-decoration:;">Server构造函数：</tspan></tspan><tspan id="SvgjsTspan4102" dy="16" x="126"><tspan id="SvgjsTspan4103" style="text-decoration:;">function Server(options, </tspan></tspan><tspan id="SvgjsTspan4104" dy="16" x="126"><tspan id="SvgjsTspan4105" style="text-decoration:;">requestListener) （318）</tspan></tspan></text></g></g><g id="SvgjsG4106"><path id="SvgjsPath4107" d="M1439.8311566778866 6196.380208333337L1439.8311566778866 6174.776041666668L1371.8084651933045 6174.776041666668L1371.8084651933045 6153.171875 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker4108)"></path></g><g id="SvgjsG4110"><path id="SvgjsPath4111" d="M1474.3839285714284 5759.064732142857L1960.098214285714 5759.064732142857L1960.098214285714 6730.4933035714275L1930.098214285714 6730.4933035714275 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker4112)"></path><rect id="SvgjsRect4114" width="129" height="16" x="1895.3125" y="6417.921875" fill="#ffffff"></rect><text id="SvgjsText4115" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="129" fill="#323232" font-weight="400" align="top" font-style="" opacity="1" y="6415.971875" transform="rotate(0)"><tspan id="SvgjsTspan4116" dy="16" x="1959.8125"><tspan id="SvgjsTspan4117" style="text-decoration:;">1.执行requestListener</tspan></tspan></text></g></svg>